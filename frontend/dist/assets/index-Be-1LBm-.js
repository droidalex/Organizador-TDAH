var ku=Object.defineProperty;var Su=(t,e,n)=>e in t?ku(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ze=(t,e,n)=>Su(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Se(){}function se(t,e){for(const n in e)t[n]=e[n];return t}function Ls(t){return t()}function ll(){return Object.create(null)}function He(t){t.forEach(Ls)}function tt(t){return typeof t=="function"}function ce(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let ri;function wi(t,e){return t===e?!0:(ri||(ri=document.createElement("a")),ri.href=e,t===ri.href)}function Rs(t,e){return t!=t?e==e:t!==e}function Cu(t){return Object.keys(t).length===0}function jn(t,...e){if(t==null){for(const i of e)i(void 0);return Se}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ie(t){let e;return jn(t,n=>e=n)(),e}function re(t,e,n){t.$$.on_destroy.push(jn(e,n))}function Ve(t,e,n,i){if(t){const o=Vs(t,e,n,i);return t[0](o)}}function Vs(t,e,n,i){return t[1]&&i?se(n.ctx.slice(),t[1](i(e))):n.ctx}function je(t,e,n,i){if(t[2]&&i){const o=t[2](i(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const l=[],s=Math.max(e.dirty.length,o.length);for(let r=0;r<s;r+=1)l[r]=e.dirty[r]|o[r];return l}return e.dirty|o}return e.dirty}function Xe(t,e,n,i,o,l){if(o){const s=Vs(e,n,i,l);t.p(s,o)}}function Be(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function Ne(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function et(t,e){const n={};e=new Set(e);for(const i in t)!e.has(i)&&i[0]!=="$"&&(n[i]=t[i]);return n}function zu(t){const e={};for(const n in t)e[n]=!0;return e}function rl(t){return t??""}function ki(t,e,n){return t.set(n),e}function ct(t){return t&&tt(t.destroy)?t.destroy:Se}const Eu=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function _(t,e){t.appendChild(e)}function Y(t,e,n){t.insertBefore(e,n||null)}function B(t){t.parentNode&&t.parentNode.removeChild(t)}function Jn(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function z(t){return document.createElement(t)}function Fe(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function pe(t){return document.createTextNode(t)}function L(){return pe(" ")}function Ye(){return pe("")}function G(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function Nu(t){return function(e){return e.preventDefault(),t.call(this,e)}}function kn(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function g(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const Mu=["width","height"];function Sn(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const i in e)e[i]==null?t.removeAttribute(i):i==="style"?t.style.cssText=e[i]:i==="__value"?t.value=t[i]=e[i]:n[i]&&n[i].set&&Mu.indexOf(i)===-1?t[i]=e[i]:g(t,i,e[i])}function Si(t,e){for(const n in e)g(t,n,e[n])}function Pu(t){return Array.from(t.childNodes)}function Oe(t,e){e=""+e,t.data!==e&&(t.data=e)}function ge(t,e){t.value=e??""}function we(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}let si;function Au(){if(si===void 0){si=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{si=!0}}return si}function Ou(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const i=z("iframe");i.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),i.setAttribute("aria-hidden","true"),i.tabIndex=-1;const o=Au();let l;return o?(i.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",l=G(window,"message",s=>{s.source===i.contentWindow&&e()})):(i.src="about:blank",i.onload=()=>{l=G(i.contentWindow,"resize",e),e()}),_(t,i),()=>{(o||l&&i.contentWindow)&&l(),B(i)}}function ae(t,e,n){t.classList.toggle(e,!!n)}function Tu(t,e,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:i})}function Ci(t,e){return new t(e)}let Xn;function Rn(t){Xn=t}function On(){if(!Xn)throw new Error("Function called outside component initialization");return Xn}function Ct(t){On().$$.on_mount.push(t)}function Bi(t){On().$$.on_destroy.push(t)}function Qn(){const t=On();return(e,n,{cancelable:i=!1}={})=>{const o=t.$$.callbacks[e];if(o){const l=Tu(e,n,{cancelable:i});return o.slice().forEach(s=>{s.call(t,l)}),!l.defaultPrevented}return!0}}function zi(t,e){return On().$$.context.set(t,e),e}function Bn(t){return On().$$.context.get(t)}function Hu(t){return On().$$.context.has(t)}function De(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(i=>i.call(this,e))}const mn=[],Cn=[];let pn=[];const sl=[],Du=Promise.resolve();let Co=!1;function Iu(){Co||(Co=!0,Du.then(js))}function Ei(t){pn.push(t)}const co=new Set;let fn=0;function js(){if(fn!==0)return;const t=Xn;do{try{for(;fn<mn.length;){const e=mn[fn];fn++,Rn(e),Wu(e.$$)}}catch(e){throw mn.length=0,fn=0,e}for(Rn(null),mn.length=0,fn=0;Cn.length;)Cn.pop()();for(let e=0;e<pn.length;e+=1){const n=pn[e];co.has(n)||(co.add(n),n())}pn.length=0}while(mn.length);for(;sl.length;)sl.pop()();Co=!1,co.clear(),Rn(t)}function Wu(t){if(t.fragment!==null){t.update(),He(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ei)}}function Lu(t){const e=[],n=[];pn.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),pn=e}const _i=new Set;let Gt;function Pe(){Gt={r:0,c:[],p:Gt}}function Ae(){Gt.r||He(Gt.c),Gt=Gt.p}function D(t,e){t&&t.i&&(_i.delete(t),t.i(e))}function W(t,e,n,i){if(t&&t.o){if(_i.has(t))return;_i.add(t),Gt.c.push(()=>{_i.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}function We(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function dt(t,e){W(t,1,1,()=>{e.delete(t.key)})}function ht(t,e,n,i,o,l,s,r,a,u,f,d){let c=t.length,h=l.length,m=c;const p={};for(;m--;)p[t[m].key]=m;const v=[],b=new Map,C=new Map,y=[];for(m=h;m--;){const w=d(o,l,m),T=n(w);let A=s.get(T);A?y.push(()=>A.p(w,e)):(A=u(T,w),A.c()),b.set(T,v[m]=A),T in p&&C.set(T,Math.abs(m-p[T]))}const E=new Set,S=new Set;function N(w){D(w,1),w.m(r,f),s.set(w.key,w),f=w.first,h--}for(;c&&h;){const w=v[h-1],T=t[c-1],A=w.key,H=T.key;w===T?(f=w.first,c--,h--):b.has(H)?!s.has(A)||E.has(A)?N(w):S.has(H)?c--:C.get(A)>C.get(H)?(S.add(A),N(w)):(E.add(H),c--):(a(T,s),c--)}for(;c--;){const w=t[c];b.has(w.key)||a(w,s)}for(;h;)N(v[h-1]);return He(y),v}function Ge(t,e){const n={},i={},o={$$scope:1};let l=t.length;for(;l--;){const s=t[l],r=e[l];if(r){for(const a in s)a in r||(i[a]=1);for(const a in r)o[a]||(n[a]=r[a],o[a]=1);t[l]=r}else for(const a in s)o[a]=1}for(const s in i)s in n||(n[s]=void 0);return n}function xe(t){return typeof t=="object"&&t!==null?t:{}}function $(t){t&&t.c()}function Q(t,e,n){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,n),Ei(()=>{const l=t.$$.on_mount.map(Ls).filter(tt);t.$$.on_destroy?t.$$.on_destroy.push(...l):He(l),t.$$.on_mount=[]}),o.forEach(Ei)}function x(t,e){const n=t.$$;n.fragment!==null&&(Lu(n.after_update),He(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ru(t,e){t.$$.dirty[0]===-1&&(mn.push(t),Iu(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function fe(t,e,n,i,o,l,s=null,r=[-1]){const a=Xn;Rn(t);const u=t.$$={fragment:null,ctx:[],props:l,update:Se,not_equal:o,bound:ll(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:ll(),dirty:r,skip_bound:!1,root:e.target||a.$$.root};s&&s(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(d,c,...h)=>{const m=h.length?h[0]:c;return u.ctx&&o(u.ctx[d],u.ctx[d]=m)&&(!u.skip_bound&&u.bound[d]&&u.bound[d](m),f&&Ru(t,d)),c}):[],u.update(),f=!0,He(u.before_update),u.fragment=i?i(u.ctx):!1,e.target){if(e.hydrate){const d=Pu(e.target);u.fragment&&u.fragment.l(d),d.forEach(B)}else u.fragment&&u.fragment.c();e.intro&&D(t.$$.fragment),Q(t,e.target,e.anchor),js()}Rn(a)}class de{constructor(){ze(this,"$$");ze(this,"$$set")}$destroy(){x(this,1),this.$destroy=Se}$on(e,n){if(!tt(n))return Se;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(e){this.$$set&&!Cu(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Vu="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Vu);/**
 * @license lucide-svelte v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function ul(t,e,n){const i=t.slice();return i[10]=e[n][0],i[11]=e[n][1],i}function fo(t){let e,n=[t[11]],i={};for(let o=0;o<n.length;o+=1)i=se(i,n[o]);return{c(){e=Fe(t[10]),Si(e,i)},m(o,l){Y(o,e,l)},p(o,l){Si(e,i=Ge(n,[l&32&&o[11]]))},d(o){o&&B(e)}}}function cl(t){let e=t[10],n,i=t[10]&&fo(t);return{c(){i&&i.c(),n=Ye()},m(o,l){i&&i.m(o,l),Y(o,n,l)},p(o,l){o[10]?e?ce(e,o[10])?(i.d(1),i=fo(o),e=o[10],i.c(),i.m(n.parentNode,n)):i.p(o,l):(i=fo(o),e=o[10],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=o[10])},d(o){o&&B(n),i&&i.d(o)}}}function ju(t){let e,n,i,o,l,s=We(t[5]),r=[];for(let c=0;c<s.length;c+=1)r[c]=cl(ul(t,s,c));const a=t[9].default,u=Ve(a,t,t[8],null);let f=[al,t[6],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":i=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:o=`lucide-icon lucide lucide-${t[0]} ${t[7].class??""}`}],d={};for(let c=0;c<f.length;c+=1)d=se(d,f[c]);return{c(){e=Fe("svg");for(let c=0;c<r.length;c+=1)r[c].c();n=Ye(),u&&u.c(),Si(e,d)},m(c,h){Y(c,e,h);for(let m=0;m<r.length;m+=1)r[m]&&r[m].m(e,null);_(e,n),u&&u.m(e,null),l=!0},p(c,[h]){if(h&32){s=We(c[5]);let m;for(m=0;m<s.length;m+=1){const p=ul(c,s,m);r[m]?r[m].p(p,h):(r[m]=cl(p),r[m].c(),r[m].m(e,n))}for(;m<r.length;m+=1)r[m].d(1);r.length=s.length}u&&u.p&&(!l||h&256)&&Xe(u,a,c,c[8],l?je(a,c[8],h,null):Be(c[8]),null),Si(e,d=Ge(f,[al,h&64&&c[6],(!l||h&4)&&{width:c[2]},(!l||h&4)&&{height:c[2]},(!l||h&2)&&{stroke:c[1]},(!l||h&28&&i!==(i=c[4]?Number(c[3])*24/Number(c[2]):c[3]))&&{"stroke-width":i},(!l||h&129&&o!==(o=`lucide-icon lucide lucide-${c[0]} ${c[7].class??""}`))&&{class:o}]))},i(c){l||(D(u,c),l=!0)},o(c){W(u,c),l=!1},d(c){c&&B(e),Jn(r,c),u&&u.d(c)}}}function Xu(t,e,n){const i=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let o=et(e,i),{$$slots:l={},$$scope:s}=e,{name:r}=e,{color:a="currentColor"}=e,{size:u=24}=e,{strokeWidth:f=2}=e,{absoluteStrokeWidth:d=!1}=e,{iconNode:c}=e;return t.$$set=h=>{n(7,e=se(se({},e),Ne(h))),n(6,o=et(e,i)),"name"in h&&n(0,r=h.name),"color"in h&&n(1,a=h.color),"size"in h&&n(2,u=h.size),"strokeWidth"in h&&n(3,f=h.strokeWidth),"absoluteStrokeWidth"in h&&n(4,d=h.absoluteStrokeWidth),"iconNode"in h&&n(5,c=h.iconNode),"$$scope"in h&&n(8,s=h.$$scope)},e=Ne(e),[r,a,u,f,d,c,o,e,s,l]}class at extends de{constructor(e){super(),fe(this,e,Xu,ju,ce,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}function Bu(t){let e;const n=t[2].default,i=Ve(n,t,t[3],null);return{c(){i&&i.c()},m(o,l){i&&i.m(o,l),e=!0},p(o,l){i&&i.p&&(!e||l&8)&&Xe(i,n,o,o[3],e?je(n,o[3],l,null):Be(o[3]),null)},i(o){e||(D(i,o),e=!0)},o(o){W(i,o),e=!1},d(o){i&&i.d(o)}}}function Yu(t){let e,n;const i=[{name:"calendar"},t[1],{iconNode:t[0]}];let o={$$slots:{default:[Bu]},$$scope:{ctx:t}};for(let l=0;l<i.length;l+=1)o=se(o,i[l]);return e=new at({props:o}),{c(){$(e.$$.fragment)},m(l,s){Q(e,l,s),n=!0},p(l,[s]){const r=s&3?Ge(i,[i[0],s&2&&xe(l[1]),s&1&&{iconNode:l[0]}]):{};s&8&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){n||(D(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){x(e,l)}}}function Fu(t,e,n){let{$$slots:i={},$$scope:o}=e;const l=[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}]];return t.$$set=s=>{n(1,e=se(se({},e),Ne(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=Ne(e),[l,e,i,o]}class Ro extends de{constructor(e){super(),fe(this,e,Fu,Yu,ce,{})}}function Ku(t){let e;const n=t[2].default,i=Ve(n,t,t[3],null);return{c(){i&&i.c()},m(o,l){i&&i.m(o,l),e=!0},p(o,l){i&&i.p&&(!e||l&8)&&Xe(i,n,o,o[3],e?je(n,o[3],l,null):Be(o[3]),null)},i(o){e||(D(i,o),e=!0)},o(o){W(i,o),e=!1},d(o){i&&i.d(o)}}}function qu(t){let e,n;const i=[{name:"check"},t[1],{iconNode:t[0]}];let o={$$slots:{default:[Ku]},$$scope:{ctx:t}};for(let l=0;l<i.length;l+=1)o=se(o,i[l]);return e=new at({props:o}),{c(){$(e.$$.fragment)},m(l,s){Q(e,l,s),n=!0},p(l,[s]){const r=s&3?Ge(i,[i[0],s&2&&xe(l[1]),s&1&&{iconNode:l[0]}]):{};s&8&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){n||(D(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){x(e,l)}}}function Zu(t,e,n){let{$$slots:i={},$$scope:o}=e;const l=[["path",{d:"M20 6 9 17l-5-5"}]];return t.$$set=s=>{n(1,e=se(se({},e),Ne(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=Ne(e),[l,e,i,o]}class rn extends de{constructor(e){super(),fe(this,e,Zu,qu,ce,{})}}function Gu(t){let e;const n=t[2].default,i=Ve(n,t,t[3],null);return{c(){i&&i.c()},m(o,l){i&&i.m(o,l),e=!0},p(o,l){i&&i.p&&(!e||l&8)&&Xe(i,n,o,o[3],e?je(n,o[3],l,null):Be(o[3]),null)},i(o){e||(D(i,o),e=!0)},o(o){W(i,o),e=!1},d(o){i&&i.d(o)}}}function Uu(t){let e,n;const i=[{name:"chevron-down"},t[1],{iconNode:t[0]}];let o={$$slots:{default:[Gu]},$$scope:{ctx:t}};for(let l=0;l<i.length;l+=1)o=se(o,i[l]);return e=new at({props:o}),{c(){$(e.$$.fragment)},m(l,s){Q(e,l,s),n=!0},p(l,[s]){const r=s&3?Ge(i,[i[0],s&2&&xe(l[1]),s&1&&{iconNode:l[0]}]):{};s&8&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){n||(D(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){x(e,l)}}}function Ju(t,e,n){let{$$slots:i={},$$scope:o}=e;const l=[["path",{d:"m6 9 6 6 6-6"}]];return t.$$set=s=>{n(1,e=se(se({},e),Ne(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=Ne(e),[l,e,i,o]}class Qu extends de{constructor(e){super(),fe(this,e,Ju,Uu,ce,{})}}function xu(t){let e;const n=t[2].default,i=Ve(n,t,t[3],null);return{c(){i&&i.c()},m(o,l){i&&i.m(o,l),e=!0},p(o,l){i&&i.p&&(!e||l&8)&&Xe(i,n,o,o[3],e?je(n,o[3],l,null):Be(o[3]),null)},i(o){e||(D(i,o),e=!0)},o(o){W(i,o),e=!1},d(o){i&&i.d(o)}}}function $u(t){let e,n;const i=[{name:"chevron-left"},t[1],{iconNode:t[0]}];let o={$$slots:{default:[xu]},$$scope:{ctx:t}};for(let l=0;l<i.length;l+=1)o=se(o,i[l]);return e=new at({props:o}),{c(){$(e.$$.fragment)},m(l,s){Q(e,l,s),n=!0},p(l,[s]){const r=s&3?Ge(i,[i[0],s&2&&xe(l[1]),s&1&&{iconNode:l[0]}]):{};s&8&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){n||(D(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){x(e,l)}}}function ec(t,e,n){let{$$slots:i={},$$scope:o}=e;const l=[["path",{d:"m15 18-6-6 6-6"}]];return t.$$set=s=>{n(1,e=se(se({},e),Ne(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=Ne(e),[l,e,i,o]}class Xs extends de{constructor(e){super(),fe(this,e,ec,$u,ce,{})}}function tc(t){let e;const n=t[2].default,i=Ve(n,t,t[3],null);return{c(){i&&i.c()},m(o,l){i&&i.m(o,l),e=!0},p(o,l){i&&i.p&&(!e||l&8)&&Xe(i,n,o,o[3],e?je(n,o[3],l,null):Be(o[3]),null)},i(o){e||(D(i,o),e=!0)},o(o){W(i,o),e=!1},d(o){i&&i.d(o)}}}function nc(t){let e,n;const i=[{name:"chevron-right"},t[1],{iconNode:t[0]}];let o={$$slots:{default:[tc]},$$scope:{ctx:t}};for(let l=0;l<i.length;l+=1)o=se(o,i[l]);return e=new at({props:o}),{c(){$(e.$$.fragment)},m(l,s){Q(e,l,s),n=!0},p(l,[s]){const r=s&3?Ge(i,[i[0],s&2&&xe(l[1]),s&1&&{iconNode:l[0]}]):{};s&8&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){n||(D(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){x(e,l)}}}function ic(t,e,n){let{$$slots:i={},$$scope:o}=e;const l=[["path",{d:"m9 18 6-6-6-6"}]];return t.$$set=s=>{n(1,e=se(se({},e),Ne(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=Ne(e),[l,e,i,o]}class Bs extends de{constructor(e){super(),fe(this,e,ic,nc,ce,{})}}function oc(t){let e;const n=t[2].default,i=Ve(n,t,t[3],null);return{c(){i&&i.c()},m(o,l){i&&i.m(o,l),e=!0},p(o,l){i&&i.p&&(!e||l&8)&&Xe(i,n,o,o[3],e?je(n,o[3],l,null):Be(o[3]),null)},i(o){e||(D(i,o),e=!0)},o(o){W(i,o),e=!1},d(o){i&&i.d(o)}}}function lc(t){let e,n;const i=[{name:"chevron-up"},t[1],{iconNode:t[0]}];let o={$$slots:{default:[oc]},$$scope:{ctx:t}};for(let l=0;l<i.length;l+=1)o=se(o,i[l]);return e=new at({props:o}),{c(){$(e.$$.fragment)},m(l,s){Q(e,l,s),n=!0},p(l,[s]){const r=s&3?Ge(i,[i[0],s&2&&xe(l[1]),s&1&&{iconNode:l[0]}]):{};s&8&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){n||(D(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){x(e,l)}}}function rc(t,e,n){let{$$slots:i={},$$scope:o}=e;const l=[["path",{d:"m18 15-6-6-6 6"}]];return t.$$set=s=>{n(1,e=se(se({},e),Ne(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=Ne(e),[l,e,i,o]}class sc extends de{constructor(e){super(),fe(this,e,rc,lc,ce,{})}}function ac(t){let e;const n=t[2].default,i=Ve(n,t,t[3],null);return{c(){i&&i.c()},m(o,l){i&&i.m(o,l),e=!0},p(o,l){i&&i.p&&(!e||l&8)&&Xe(i,n,o,o[3],e?je(n,o[3],l,null):Be(o[3]),null)},i(o){e||(D(i,o),e=!0)},o(o){W(i,o),e=!1},d(o){i&&i.d(o)}}}function uc(t){let e,n;const i=[{name:"clipboard-list"},t[1],{iconNode:t[0]}];let o={$$slots:{default:[ac]},$$scope:{ctx:t}};for(let l=0;l<i.length;l+=1)o=se(o,i[l]);return e=new at({props:o}),{c(){$(e.$$.fragment)},m(l,s){Q(e,l,s),n=!0},p(l,[s]){const r=s&3?Ge(i,[i[0],s&2&&xe(l[1]),s&1&&{iconNode:l[0]}]):{};s&8&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){n||(D(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){x(e,l)}}}function cc(t,e,n){let{$$slots:i={},$$scope:o}=e;const l=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}],["path",{d:"M12 11h4"}],["path",{d:"M12 16h4"}],["path",{d:"M8 11h.01"}],["path",{d:"M8 16h.01"}]];return t.$$set=s=>{n(1,e=se(se({},e),Ne(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=Ne(e),[l,e,i,o]}class Ys extends de{constructor(e){super(),fe(this,e,cc,uc,ce,{})}}function fc(t){let e;const n=t[2].default,i=Ve(n,t,t[3],null);return{c(){i&&i.c()},m(o,l){i&&i.m(o,l),e=!0},p(o,l){i&&i.p&&(!e||l&8)&&Xe(i,n,o,o[3],e?je(n,o[3],l,null):Be(o[3]),null)},i(o){e||(D(i,o),e=!0)},o(o){W(i,o),e=!1},d(o){i&&i.d(o)}}}function dc(t){let e,n;const i=[{name:"clock"},t[1],{iconNode:t[0]}];let o={$$slots:{default:[fc]},$$scope:{ctx:t}};for(let l=0;l<i.length;l+=1)o=se(o,i[l]);return e=new at({props:o}),{c(){$(e.$$.fragment)},m(l,s){Q(e,l,s),n=!0},p(l,[s]){const r=s&3?Ge(i,[i[0],s&2&&xe(l[1]),s&1&&{iconNode:l[0]}]):{};s&8&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){n||(D(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){x(e,l)}}}function hc(t,e,n){let{$$slots:i={},$$scope:o}=e;const l=[["circle",{cx:"12",cy:"12",r:"10"}],["polyline",{points:"12 6 12 12 16 14"}]];return t.$$set=s=>{n(1,e=se(se({},e),Ne(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=Ne(e),[l,e,i,o]}class gc extends de{constructor(e){super(),fe(this,e,hc,dc,ce,{})}}function mc(t){let e;const n=t[2].default,i=Ve(n,t,t[3],null);return{c(){i&&i.c()},m(o,l){i&&i.m(o,l),e=!0},p(o,l){i&&i.p&&(!e||l&8)&&Xe(i,n,o,o[3],e?je(n,o[3],l,null):Be(o[3]),null)},i(o){e||(D(i,o),e=!0)},o(o){W(i,o),e=!1},d(o){i&&i.d(o)}}}function _c(t){let e,n;const i=[{name:"database-backup"},t[1],{iconNode:t[0]}];let o={$$slots:{default:[mc]},$$scope:{ctx:t}};for(let l=0;l<i.length;l+=1)o=se(o,i[l]);return e=new at({props:o}),{c(){$(e.$$.fragment)},m(l,s){Q(e,l,s),n=!0},p(l,[s]){const r=s&3?Ge(i,[i[0],s&2&&xe(l[1]),s&1&&{iconNode:l[0]}]):{};s&8&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){n||(D(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){x(e,l)}}}function pc(t,e,n){let{$$slots:i={},$$scope:o}=e;const l=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}],["path",{d:"M3 12a9 3 0 0 0 5 2.69"}],["path",{d:"M21 9.3V5"}],["path",{d:"M3 5v14a9 3 0 0 0 6.47 2.88"}],["path",{d:"M12 12v4h4"}],["path",{d:"M13 20a5 5 0 0 0 9-3 4.5 4.5 0 0 0-4.5-4.5c-1.33 0-2.54.54-3.41 1.41L12 16"}]];return t.$$set=s=>{n(1,e=se(se({},e),Ne(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=Ne(e),[l,e,i,o]}class Fs extends de{constructor(e){super(),fe(this,e,pc,_c,ce,{})}}function bc(t){let e;const n=t[2].default,i=Ve(n,t,t[3],null);return{c(){i&&i.c()},m(o,l){i&&i.m(o,l),e=!0},p(o,l){i&&i.p&&(!e||l&8)&&Xe(i,n,o,o[3],e?je(n,o[3],l,null):Be(o[3]),null)},i(o){e||(D(i,o),e=!0)},o(o){W(i,o),e=!1},d(o){i&&i.d(o)}}}function vc(t){let e,n;const i=[{name:"external-link"},t[1],{iconNode:t[0]}];let o={$$slots:{default:[bc]},$$scope:{ctx:t}};for(let l=0;l<i.length;l+=1)o=se(o,i[l]);return e=new at({props:o}),{c(){$(e.$$.fragment)},m(l,s){Q(e,l,s),n=!0},p(l,[s]){const r=s&3?Ge(i,[i[0],s&2&&xe(l[1]),s&1&&{iconNode:l[0]}]):{};s&8&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){n||(D(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){x(e,l)}}}function yc(t,e,n){let{$$slots:i={},$$scope:o}=e;const l=[["path",{d:"M15 3h6v6"}],["path",{d:"M10 14 21 3"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}]];return t.$$set=s=>{n(1,e=se(se({},e),Ne(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=Ne(e),[l,e,i,o]}class Vo extends de{constructor(e){super(),fe(this,e,yc,vc,ce,{})}}function wc(t){let e;const n=t[2].default,i=Ve(n,t,t[3],null);return{c(){i&&i.c()},m(o,l){i&&i.m(o,l),e=!0},p(o,l){i&&i.p&&(!e||l&8)&&Xe(i,n,o,o[3],e?je(n,o[3],l,null):Be(o[3]),null)},i(o){e||(D(i,o),e=!0)},o(o){W(i,o),e=!1},d(o){i&&i.d(o)}}}function kc(t){let e,n;const i=[{name:"lightbulb"},t[1],{iconNode:t[0]}];let o={$$slots:{default:[wc]},$$scope:{ctx:t}};for(let l=0;l<i.length;l+=1)o=se(o,i[l]);return e=new at({props:o}),{c(){$(e.$$.fragment)},m(l,s){Q(e,l,s),n=!0},p(l,[s]){const r=s&3?Ge(i,[i[0],s&2&&xe(l[1]),s&1&&{iconNode:l[0]}]):{};s&8&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){n||(D(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){x(e,l)}}}function Sc(t,e,n){let{$$slots:i={},$$scope:o}=e;const l=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5"}],["path",{d:"M9 18h6"}],["path",{d:"M10 22h4"}]];return t.$$set=s=>{n(1,e=se(se({},e),Ne(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=Ne(e),[l,e,i,o]}class Cc extends de{constructor(e){super(),fe(this,e,Sc,kc,ce,{})}}function zc(t){let e;const n=t[2].default,i=Ve(n,t,t[3],null);return{c(){i&&i.c()},m(o,l){i&&i.m(o,l),e=!0},p(o,l){i&&i.p&&(!e||l&8)&&Xe(i,n,o,o[3],e?je(n,o[3],l,null):Be(o[3]),null)},i(o){e||(D(i,o),e=!0)},o(o){W(i,o),e=!1},d(o){i&&i.d(o)}}}function Ec(t){let e,n;const i=[{name:"panels-top-left"},t[1],{iconNode:t[0]}];let o={$$slots:{default:[zc]},$$scope:{ctx:t}};for(let l=0;l<i.length;l+=1)o=se(o,i[l]);return e=new at({props:o}),{c(){$(e.$$.fragment)},m(l,s){Q(e,l,s),n=!0},p(l,[s]){const r=s&3?Ge(i,[i[0],s&2&&xe(l[1]),s&1&&{iconNode:l[0]}]):{};s&8&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){n||(D(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){x(e,l)}}}function Nc(t,e,n){let{$$slots:i={},$$scope:o}=e;const l=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 9h18"}],["path",{d:"M9 21V9"}]];return t.$$set=s=>{n(1,e=se(se({},e),Ne(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=Ne(e),[l,e,i,o]}class Mc extends de{constructor(e){super(),fe(this,e,Nc,Ec,ce,{})}}function Pc(t){let e;const n=t[2].default,i=Ve(n,t,t[3],null);return{c(){i&&i.c()},m(o,l){i&&i.m(o,l),e=!0},p(o,l){i&&i.p&&(!e||l&8)&&Xe(i,n,o,o[3],e?je(n,o[3],l,null):Be(o[3]),null)},i(o){e||(D(i,o),e=!0)},o(o){W(i,o),e=!1},d(o){i&&i.d(o)}}}function Ac(t){let e,n;const i=[{name:"pencil"},t[1],{iconNode:t[0]}];let o={$$slots:{default:[Pc]},$$scope:{ctx:t}};for(let l=0;l<i.length;l+=1)o=se(o,i[l]);return e=new at({props:o}),{c(){$(e.$$.fragment)},m(l,s){Q(e,l,s),n=!0},p(l,[s]){const r=s&3?Ge(i,[i[0],s&2&&xe(l[1]),s&1&&{iconNode:l[0]}]):{};s&8&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){n||(D(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){x(e,l)}}}function Oc(t,e,n){let{$$slots:i={},$$scope:o}=e;const l=[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}],["path",{d:"m15 5 4 4"}]];return t.$$set=s=>{n(1,e=se(se({},e),Ne(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=Ne(e),[l,e,i,o]}class sn extends de{constructor(e){super(),fe(this,e,Oc,Ac,ce,{})}}function Tc(t){let e;const n=t[2].default,i=Ve(n,t,t[3],null);return{c(){i&&i.c()},m(o,l){i&&i.m(o,l),e=!0},p(o,l){i&&i.p&&(!e||l&8)&&Xe(i,n,o,o[3],e?je(n,o[3],l,null):Be(o[3]),null)},i(o){e||(D(i,o),e=!0)},o(o){W(i,o),e=!1},d(o){i&&i.d(o)}}}function Hc(t){let e,n;const i=[{name:"plus"},t[1],{iconNode:t[0]}];let o={$$slots:{default:[Tc]},$$scope:{ctx:t}};for(let l=0;l<i.length;l+=1)o=se(o,i[l]);return e=new at({props:o}),{c(){$(e.$$.fragment)},m(l,s){Q(e,l,s),n=!0},p(l,[s]){const r=s&3?Ge(i,[i[0],s&2&&xe(l[1]),s&1&&{iconNode:l[0]}]):{};s&8&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){n||(D(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){x(e,l)}}}function Dc(t,e,n){let{$$slots:i={},$$scope:o}=e;const l=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];return t.$$set=s=>{n(1,e=se(se({},e),Ne(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=Ne(e),[l,e,i,o]}let Yt=class extends de{constructor(e){super(),fe(this,e,Dc,Hc,ce,{})}};function Ic(t){let e;const n=t[2].default,i=Ve(n,t,t[3],null);return{c(){i&&i.c()},m(o,l){i&&i.m(o,l),e=!0},p(o,l){i&&i.p&&(!e||l&8)&&Xe(i,n,o,o[3],e?je(n,o[3],l,null):Be(o[3]),null)},i(o){e||(D(i,o),e=!0)},o(o){W(i,o),e=!1},d(o){i&&i.d(o)}}}function Wc(t){let e,n;const i=[{name:"rotate-ccw"},t[1],{iconNode:t[0]}];let o={$$slots:{default:[Ic]},$$scope:{ctx:t}};for(let l=0;l<i.length;l+=1)o=se(o,i[l]);return e=new at({props:o}),{c(){$(e.$$.fragment)},m(l,s){Q(e,l,s),n=!0},p(l,[s]){const r=s&3?Ge(i,[i[0],s&2&&xe(l[1]),s&1&&{iconNode:l[0]}]):{};s&8&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){n||(D(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){x(e,l)}}}function Lc(t,e,n){let{$$slots:i={},$$scope:o}=e;const l=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}],["path",{d:"M3 3v5h5"}]];return t.$$set=s=>{n(1,e=se(se({},e),Ne(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=Ne(e),[l,e,i,o]}class Rc extends de{constructor(e){super(),fe(this,e,Lc,Wc,ce,{})}}function Vc(t){let e;const n=t[2].default,i=Ve(n,t,t[3],null);return{c(){i&&i.c()},m(o,l){i&&i.m(o,l),e=!0},p(o,l){i&&i.p&&(!e||l&8)&&Xe(i,n,o,o[3],e?je(n,o[3],l,null):Be(o[3]),null)},i(o){e||(D(i,o),e=!0)},o(o){W(i,o),e=!1},d(o){i&&i.d(o)}}}function jc(t){let e,n;const i=[{name:"settings"},t[1],{iconNode:t[0]}];let o={$$slots:{default:[Vc]},$$scope:{ctx:t}};for(let l=0;l<i.length;l+=1)o=se(o,i[l]);return e=new at({props:o}),{c(){$(e.$$.fragment)},m(l,s){Q(e,l,s),n=!0},p(l,[s]){const r=s&3?Ge(i,[i[0],s&2&&xe(l[1]),s&1&&{iconNode:l[0]}]):{};s&8&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){n||(D(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){x(e,l)}}}function Xc(t,e,n){let{$$slots:i={},$$scope:o}=e;const l=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}],["circle",{cx:"12",cy:"12",r:"3"}]];return t.$$set=s=>{n(1,e=se(se({},e),Ne(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=Ne(e),[l,e,i,o]}class Bc extends de{constructor(e){super(),fe(this,e,Xc,jc,ce,{})}}function Yc(t){let e;const n=t[2].default,i=Ve(n,t,t[3],null);return{c(){i&&i.c()},m(o,l){i&&i.m(o,l),e=!0},p(o,l){i&&i.p&&(!e||l&8)&&Xe(i,n,o,o[3],e?je(n,o[3],l,null):Be(o[3]),null)},i(o){e||(D(i,o),e=!0)},o(o){W(i,o),e=!1},d(o){i&&i.d(o)}}}function Fc(t){let e,n;const i=[{name:"target"},t[1],{iconNode:t[0]}];let o={$$slots:{default:[Yc]},$$scope:{ctx:t}};for(let l=0;l<i.length;l+=1)o=se(o,i[l]);return e=new at({props:o}),{c(){$(e.$$.fragment)},m(l,s){Q(e,l,s),n=!0},p(l,[s]){const r=s&3?Ge(i,[i[0],s&2&&xe(l[1]),s&1&&{iconNode:l[0]}]):{};s&8&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){n||(D(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){x(e,l)}}}function Kc(t,e,n){let{$$slots:i={},$$scope:o}=e;const l=[["circle",{cx:"12",cy:"12",r:"10"}],["circle",{cx:"12",cy:"12",r:"6"}],["circle",{cx:"12",cy:"12",r:"2"}]];return t.$$set=s=>{n(1,e=se(se({},e),Ne(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=Ne(e),[l,e,i,o]}class jo extends de{constructor(e){super(),fe(this,e,Kc,Fc,ce,{})}}function qc(t){let e;const n=t[2].default,i=Ve(n,t,t[3],null);return{c(){i&&i.c()},m(o,l){i&&i.m(o,l),e=!0},p(o,l){i&&i.p&&(!e||l&8)&&Xe(i,n,o,o[3],e?je(n,o[3],l,null):Be(o[3]),null)},i(o){e||(D(i,o),e=!0)},o(o){W(i,o),e=!1},d(o){i&&i.d(o)}}}function Zc(t){let e,n;const i=[{name:"trash-2"},t[1],{iconNode:t[0]}];let o={$$slots:{default:[qc]},$$scope:{ctx:t}};for(let l=0;l<i.length;l+=1)o=se(o,i[l]);return e=new at({props:o}),{c(){$(e.$$.fragment)},m(l,s){Q(e,l,s),n=!0},p(l,[s]){const r=s&3?Ge(i,[i[0],s&2&&xe(l[1]),s&1&&{iconNode:l[0]}]):{};s&8&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){n||(D(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){x(e,l)}}}function Gc(t,e,n){let{$$slots:i={},$$scope:o}=e;const l=[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17"}]];return t.$$set=s=>{n(1,e=se(se({},e),Ne(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=Ne(e),[l,e,i,o]}class an extends de{constructor(e){super(),fe(this,e,Gc,Zc,ce,{})}}function Uc(t){let e;const n=t[2].default,i=Ve(n,t,t[3],null);return{c(){i&&i.c()},m(o,l){i&&i.m(o,l),e=!0},p(o,l){i&&i.p&&(!e||l&8)&&Xe(i,n,o,o[3],e?je(n,o[3],l,null):Be(o[3]),null)},i(o){e||(D(i,o),e=!0)},o(o){W(i,o),e=!1},d(o){i&&i.d(o)}}}function Jc(t){let e,n;const i=[{name:"x"},t[1],{iconNode:t[0]}];let o={$$slots:{default:[Uc]},$$scope:{ctx:t}};for(let l=0;l<i.length;l+=1)o=se(o,i[l]);return e=new at({props:o}),{c(){$(e.$$.fragment)},m(l,s){Q(e,l,s),n=!0},p(l,[s]){const r=s&3?Ge(i,[i[0],s&2&&xe(l[1]),s&1&&{iconNode:l[0]}]):{};s&8&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){n||(D(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){x(e,l)}}}function Qc(t,e,n){let{$$slots:i={},$$scope:o}=e;const l=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return t.$$set=s=>{n(1,e=se(se({},e),Ne(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=Ne(e),[l,e,i,o]}class Yi extends de{constructor(e){super(),fe(this,e,Qc,Jc,ce,{})}}function xc(){return window.go.handlers.BackupHandler.CriarBackup()}function $c(){return window.go.handlers.BackupHandler.ListarBackups()}function ef(t){return window.go.handlers.BackupHandler.RestaurarBackup(t)}function Xo(){var t,e;return typeof window<"u"&&((e=(t=window.go)==null?void 0:t.handlers)==null?void 0:e.BackupHandler)}async function tf(){if(!Xo())throw new Error("Backup requer o app desktop.");return await xc()}async function nf(){return Xo()?await $c()??[]:[]}async function of(t){if(!Xo())throw new Error("RestauraÃ§Ã£o requer o app desktop.");await ef(t)}function fl(t,e,n){const i=t.slice();return i[20]=e[n],i[22]=n,i}function dl(t,e,n){const i=t.slice();return i[23]=e[n],i}function hl(t){let e;return{c(){e=z("span"),g(e,"class","active-indicator svelte-1o26cjj")},m(n,i){Y(n,e,i)},d(n){n&&B(e)}}}function gl(t){let e,n,i,o,l,s,r,a,u=t[0]===t[23].id&&hl();function f(){return t[16](t[23])}return{c(){e=z("button"),n=z("span"),n.textContent=`${t[23].icone}`,i=L(),o=z("span"),o.textContent=`${t[23].nome}`,l=L(),u&&u.c(),s=L(),g(n,"class","modulo-icon svelte-1o26cjj"),g(o,"class","modulo-nome svelte-1o26cjj"),g(e,"class","modulo-btn svelte-1o26cjj"),g(e,"title",t[23].descricao),ae(e,"active",t[0]===t[23].id)},m(d,c){Y(d,e,c),_(e,n),_(e,i),_(e,o),_(e,l),u&&u.m(e,null),_(e,s),r||(a=G(e,"click",f),r=!0)},p(d,c){t=d,t[0]===t[23].id?u||(u=hl(),u.c(),u.m(e,s)):u&&(u.d(1),u=null),c&257&&ae(e,"active",t[0]===t[23].id)},d(d){d&&B(e),u&&u.d(),r=!1,a()}}}function ml(t){let e,n,i,o,l,s,r,a,u,f,d,c,h,m,p,v=t[4]?"Criando backup...":"Fazer Backup Agora",b,C,y,E,S,N,w,T,A=t[2].length+"",H,M,I,R,k,P,O,V,j;l=new Fs({props:{size:20}}),f=new Yi({props:{size:18}});let X=t[6]&&_l(t);m=new Yt({props:{size:16}});const ee=[sf,rf,lf],q=[];function te(U,J){return U[3]?0:U[2].length===0?1:2}return k=te(t),P=q[k]=ee[k](t),{c(){e=z("div"),n=z("div"),i=z("div"),o=z("div"),$(l.$$.fragment),s=L(),r=z("h3"),r.textContent="Backup de Dados",a=L(),u=z("button"),$(f.$$.fragment),d=L(),X&&X.c(),c=L(),h=z("button"),$(m.$$.fragment),p=L(),b=pe(v),C=L(),y=z("p"),y.textContent="ðŸ’¡ Um backup automÃ¡tico Ã© criado toda vez que o app Ã© iniciado.",E=L(),S=z("div"),N=z("span"),N.textContent="Backups disponÃ­veis",w=L(),T=z("span"),H=pe(A),M=pe("/10"),I=L(),R=z("div"),P.c(),g(r,"class","svelte-1o26cjj"),g(o,"class","modal-title svelte-1o26cjj"),g(u,"class","btn-close svelte-1o26cjj"),g(u,"title","Fechar"),g(i,"class","modal-header svelte-1o26cjj"),g(h,"class","btn-criar-backup svelte-1o26cjj"),h.disabled=t[4],g(y,"class","info-auto svelte-1o26cjj"),g(T,"class","lista-count svelte-1o26cjj"),g(S,"class","lista-header svelte-1o26cjj"),g(R,"class","lista-backups svelte-1o26cjj"),g(n,"class","modal-content svelte-1o26cjj"),g(n,"role","document"),g(e,"class","modal-overlay svelte-1o26cjj"),g(e,"role","dialog"),g(e,"aria-modal","true"),g(e,"aria-label","Backup de dados"),g(e,"tabindex","0")},m(U,J){Y(U,e,J),_(e,n),_(n,i),_(i,o),Q(l,o,null),_(o,s),_(o,r),_(i,a),_(i,u),Q(f,u,null),_(n,d),X&&X.m(n,null),_(n,c),_(n,h),Q(m,h,null),_(h,p),_(h,b),_(n,C),_(n,y),_(n,E),_(n,S),_(S,N),_(S,w),_(S,T),_(T,H),_(T,M),_(n,I),_(n,R),q[k].m(R,null),O=!0,V||(j=[G(u,"click",t[11]),G(h,"click",t[12]),G(n,"click",kn(t[14])),G(n,"keydown",kn(t[15])),G(e,"click",t[11]),G(e,"keydown",t[18])],V=!0)},p(U,J){U[6]?X?(X.p(U,J),J&64&&D(X,1)):(X=_l(U),X.c(),D(X,1),X.m(n,c)):X&&(Pe(),W(X,1,1,()=>{X=null}),Ae()),(!O||J&16)&&v!==(v=U[4]?"Criando backup...":"Fazer Backup Agora")&&Oe(b,v),(!O||J&16)&&(h.disabled=U[4]),(!O||J&4)&&A!==(A=U[2].length+"")&&Oe(H,A);let ue=k;k=te(U),k===ue?q[k].p(U,J):(Pe(),W(q[ue],1,1,()=>{q[ue]=null}),Ae(),P=q[k],P?P.p(U,J):(P=q[k]=ee[k](U),P.c()),D(P,1),P.m(R,null))},i(U){O||(D(l.$$.fragment,U),D(f.$$.fragment,U),D(X),D(m.$$.fragment,U),D(P),O=!0)},o(U){W(l.$$.fragment,U),W(f.$$.fragment,U),W(X),W(m.$$.fragment,U),W(P),O=!1},d(U){U&&B(e),x(l),x(f),X&&X.d(),x(m),q[k].d(),V=!1,He(j)}}}function _l(t){let e,n,i,o=t[6].texto+"",l,s,r=t[6].tipo==="ok"&&pl();return{c(){e=z("div"),r&&r.c(),n=L(),i=z("span"),l=pe(o),g(e,"class","feedback svelte-1o26cjj"),ae(e,"feedback-ok",t[6].tipo==="ok"),ae(e,"feedback-erro",t[6].tipo==="erro")},m(a,u){Y(a,e,u),r&&r.m(e,null),_(e,n),_(e,i),_(i,l),s=!0},p(a,u){a[6].tipo==="ok"?r?u&64&&D(r,1):(r=pl(),r.c(),D(r,1),r.m(e,n)):r&&(Pe(),W(r,1,1,()=>{r=null}),Ae()),(!s||u&64)&&o!==(o=a[6].texto+"")&&Oe(l,o),(!s||u&64)&&ae(e,"feedback-ok",a[6].tipo==="ok"),(!s||u&64)&&ae(e,"feedback-erro",a[6].tipo==="erro")},i(a){s||(D(r),s=!0)},o(a){W(r),s=!1},d(a){a&&B(e),r&&r.d()}}}function pl(t){let e,n;return e=new rn({props:{size:14}}),{c(){$(e.$$.fragment)},m(i,o){Q(e,i,o),n=!0},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function lf(t){let e=[],n=new Map,i,o,l=We(t[2]);const s=r=>r[20].nome;for(let r=0;r<l.length;r+=1){let a=fl(t,l,r),u=s(a);n.set(u,e[r]=vl(u,a))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();i=Ye()},m(r,a){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(r,a);Y(r,i,a),o=!0},p(r,a){a&8228&&(l=We(r[2]),Pe(),e=ht(e,a,s,1,r,l,n,i.parentNode,dt,vl,i,fl),Ae())},i(r){if(!o){for(let a=0;a<l.length;a+=1)D(e[a]);o=!0}},o(r){for(let a=0;a<e.length;a+=1)W(e[a]);o=!1},d(r){r&&B(i);for(let a=0;a<e.length;a+=1)e[a].d(r)}}}function rf(t){let e;return{c(){e=z("p"),e.textContent="Nenhum backup encontrado.",g(e,"class","lista-vazia svelte-1o26cjj")},m(n,i){Y(n,e,i)},p:Se,i:Se,o:Se,d(n){n&&B(e)}}}function sf(t){let e;return{c(){e=z("p"),e.textContent="Carregando...",g(e,"class","lista-vazia svelte-1o26cjj")},m(n,i){Y(n,e,i)},p:Se,i:Se,o:Se,d(n){n&&B(e)}}}function bl(t){let e;return{c(){e=z("span"),e.textContent="mais recente",g(e,"class","badge-recente svelte-1o26cjj")},m(n,i){Y(n,e,i)},d(n){n&&B(e)}}}function vl(t,e){let n,i,o,l=e[20].label+"",s,r,a,u,f,d,c=e[5]===e[20].nome?"...":"Restaurar",h,m,p,v,b,C,y=e[22]===0&&bl();f=new Rc({props:{size:13}});function E(){return e[17](e[20])}return{key:t,first:null,c(){n=z("div"),i=z("div"),o=z("span"),s=pe(l),r=L(),y&&y.c(),a=L(),u=z("button"),$(f.$$.fragment),d=L(),h=pe(c),p=L(),g(o,"class","backup-label svelte-1o26cjj"),g(i,"class","backup-info svelte-1o26cjj"),g(u,"class","btn-restaurar svelte-1o26cjj"),u.disabled=m=e[5]===e[20].nome,g(u,"title","Restaurar este backup"),g(n,"class","backup-item svelte-1o26cjj"),this.first=n},m(S,N){Y(S,n,N),_(n,i),_(i,o),_(o,s),_(i,r),y&&y.m(i,null),_(n,a),_(n,u),Q(f,u,null),_(u,d),_(u,h),_(n,p),v=!0,b||(C=G(u,"click",E),b=!0)},p(S,N){e=S,(!v||N&4)&&l!==(l=e[20].label+"")&&Oe(s,l),e[22]===0?y||(y=bl(),y.c(),y.m(i,null)):y&&(y.d(1),y=null),(!v||N&36)&&c!==(c=e[5]===e[20].nome?"...":"Restaurar")&&Oe(h,c),(!v||N&36&&m!==(m=e[5]===e[20].nome))&&(u.disabled=m)},i(S){v||(D(f.$$.fragment,S),v=!0)},o(S){W(f.$$.fragment,S),v=!1},d(S){S&&B(n),y&&y.d(),x(f),b=!1,C()}}}function af(t){let e,n,i,o,l,s,r,a,u,f,d,c,h,m,p,v,b,C,y,E,S,N,w,T,A=We(t[8]),H=[];for(let I=0;I<A.length;I+=1)H[I]=gl(dl(t,A,I));a=new Fs({props:{size:15}}),m=new Cc({props:{size:16}});let M=t[1]&&ml(t);return{c(){e=z("aside"),n=z("div"),n.innerHTML='<div class="logo svelte-1o26cjj"><span class="logo-icon svelte-1o26cjj">ðŸ§ </span> <div class="logo-text svelte-1o26cjj"><h2 class="svelte-1o26cjj">Organizador TDAH</h2> <span class="svelte-1o26cjj">Seu assistente de organizaÃ§Ã£o visual</span></div></div>',i=L(),o=z("nav");for(let I=0;I<H.length;I+=1)H[I].c();l=L(),s=z("div"),r=z("button"),$(a.$$.fragment),u=L(),f=z("span"),f.textContent="Backup de Dados",d=L(),c=z("div"),h=z("div"),$(m.$$.fragment),p=L(),v=z("span"),v.textContent="Dica TDAH",b=L(),C=z("p"),y=pe(t[7]),E=L(),M&&M.c(),S=Ye(),g(n,"class","sidebar-header svelte-1o26cjj"),g(o,"class","modulos-nav svelte-1o26cjj"),g(r,"class","btn-backup svelte-1o26cjj"),g(r,"title","Gerenciar backups dos dados"),g(h,"class","dica-title svelte-1o26cjj"),g(C,"class","svelte-1o26cjj"),g(c,"class","dica-box svelte-1o26cjj"),g(s,"class","sidebar-footer svelte-1o26cjj"),g(e,"class","sidebar svelte-1o26cjj")},m(I,R){Y(I,e,R),_(e,n),_(e,i),_(e,o);for(let k=0;k<H.length;k+=1)H[k]&&H[k].m(o,null);_(e,l),_(e,s),_(s,r),Q(a,r,null),_(r,u),_(r,f),_(s,d),_(s,c),_(c,h),Q(m,h,null),_(h,p),_(h,v),_(c,b),_(c,C),_(C,y),Y(I,E,R),M&&M.m(I,R),Y(I,S,R),N=!0,w||(T=G(r,"click",t[10]),w=!0)},p(I,[R]){if(R&769){A=We(I[8]);let k;for(k=0;k<A.length;k+=1){const P=dl(I,A,k);H[k]?H[k].p(P,R):(H[k]=gl(P),H[k].c(),H[k].m(o,null))}for(;k<H.length;k+=1)H[k].d(1);H.length=A.length}(!N||R&128)&&Oe(y,I[7]),I[1]?M?(M.p(I,R),R&2&&D(M,1)):(M=ml(I),M.c(),D(M,1),M.m(S.parentNode,S)):M&&(Pe(),W(M,1,1,()=>{M=null}),Ae())},i(I){N||(D(a.$$.fragment,I),D(m.$$.fragment,I),D(M),N=!0)},o(I){W(a.$$.fragment,I),W(m.$$.fragment,I),W(M),N=!1},d(I){I&&(B(e),B(E),B(S)),Jn(H,I),x(a),x(m),M&&M.d(I),w=!1,T()}}}function uf(t){return{ideias:"Use o Canvas de Ideias para mapear pensamentos visualmente. ConexÃµes ajudam na memÃ³ria!",links:"Organize seus links favoritos em um sÃ³ lugar. Acesso rÃ¡pido aos sites mais importantes!",planejamento:"Divida projetos grandes em etapas menores. O segredo Ã© comeÃ§ar pelo primeiro passo!","objetivo-passos":"Defina objetivos claros e trace passos concretos. Cada pequena vitÃ³ria conta!",calendario:"Visualize sua semana de forma clara. Use cores para diferenciar tipos de compromissos!",objetivos:"EstabeleÃ§a metas SMART: EspecÃ­ficas, MensurÃ¡veis, AlcanÃ§Ã¡veis, Relevantes e com Prazo!"}[t]||"Escolha um mÃ³dulo e organize sua vida de forma visual e eficiente!"}function cf(t,e,n){let i,{moduloAtivo:o="ideias"}=e;const l=Qn(),s=[{id:"ideias",nome:"IDEIAS/NOTAS",icone:"ðŸ’¡",descricao:"Canvas para organizar ideias visualmente"},{id:"links",nome:"LINKS",icone:"ðŸ”—",descricao:"Gerencie seus links favoritos"},{id:"planejamento",nome:"PLANEJAMENTO",icone:"ðŸ“Š",descricao:"Planeje suas atividades e projetos"},{id:"objetivo-passos",nome:"OBJETIVO - PASSOS",icone:"ðŸ“‹",descricao:"Defina objetivos e acompanhe passos"},{id:"calendario",nome:"CALENDÃRIO",icone:"ðŸ“…",descricao:"Visualize seus compromissos"},{id:"objetivos",nome:"OBJETIVOS",icone:"ðŸŽ¯",descricao:"Acompanhe suas metas e objetivos"}];function r(w){l("selecionar",w)}let a=!1,u=[],f=!1,d=!1,c=null,h=null;async function m(){n(1,a=!0),n(6,h=null),n(3,f=!0);try{n(2,u=await nf())}catch{n(2,u=[])}finally{n(3,f=!1)}}function p(){n(1,a=!1),n(6,h=null)}async function v(){n(4,d=!0),n(6,h=null);try{const w=await tf();n(2,u=[w,...u].slice(0,10)),n(6,h={tipo:"ok",texto:`Backup criado: ${w.label}`})}catch(w){n(6,h={tipo:"erro",texto:(w==null?void 0:w.message)??"Erro ao criar backup."})}finally{n(4,d=!1)}}async function b(w){if(confirm(`Restaurar o backup de "${w.replace("backup_","")}"?

Os dados atuais serÃ£o substituÃ­dos. O app precisarÃ¡ ser reiniciado.`)){n(5,c=w),n(6,h=null);try{await of(w),n(6,h={tipo:"ok",texto:"Dados restaurados! Reinicie o app para aplicar."})}catch(T){n(6,h={tipo:"erro",texto:(T==null?void 0:T.message)??"Erro ao restaurar backup."})}finally{n(5,c=null)}}}function C(w){De.call(this,t,w)}function y(w){De.call(this,t,w)}const E=w=>r(w.id),S=w=>b(w.nome),N=w=>w.key==="Escape"&&p();return t.$$set=w=>{"moduloAtivo"in w&&n(0,o=w.moduloAtivo)},t.$$.update=()=>{t.$$.dirty&1&&n(7,i=uf(o))},[o,a,u,f,d,c,h,i,s,r,m,p,v,b,C,y,E,S,N]}class ff extends de{constructor(e){super(),fe(this,e,cf,af,ce,{moduloAtivo:0})}}const dn=[];function bt(t,e){return{subscribe:ye(t,e).subscribe}}function ye(t,e=Se){let n;const i=new Set;function o(r){if(ce(t,r)&&(t=r,n)){const a=!dn.length;for(const u of i)u[1](),dn.push(u,t);if(a){for(let u=0;u<dn.length;u+=2)dn[u][0](dn[u+1]);dn.length=0}}}function l(r){o(r(t))}function s(r,a=Se){const u=[r,a];return i.add(u),i.size===1&&(n=e(o,l)||Se),r(t),()=>{i.delete(u),i.size===0&&n&&(n(),n=null)}}return{set:o,update:l,subscribe:s}}function Jt(t,e,n){const i=!Array.isArray(t),o=i?[t]:t;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const l=e.length<2;return bt(n,(s,r)=>{let a=!1;const u=[];let f=0,d=Se;const c=()=>{if(f)return;d();const m=e(i?u[0]:u,s,r);l?s(m):d=tt(m)?m:Se},h=o.map((m,p)=>jn(m,v=>{u[p]=v,f&=~(1<<p),a&&c()},()=>{f|=1<<p}));return a=!0,c(),function(){He(h),d(),a=!1}})}function qe(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,i;n<t.length;n++)(i=qe(t[n]))!==""&&(e+=(e&&" ")+i);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var df={value:()=>{}};function Fi(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new pi(n)}function pi(t){this._=t}function hf(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}pi.prototype=Fi.prototype={constructor:pi,on:function(t,e){var n=this._,i=hf(t+"",n),o,l=-1,s=i.length;if(arguments.length<2){for(;++l<s;)if((o=(t=i[l]).type)&&(o=gf(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++l<s;)if(o=(t=i[l]).type)n[o]=yl(n[o],t.name,e);else if(e==null)for(o in n)n[o]=yl(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new pi(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,l;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(l=this._[t],i=0,o=l.length;i<o;++i)l[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,l=i.length;o<l;++o)i[o].value.apply(e,n)}};function gf(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function yl(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=df,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var zo="http://www.w3.org/1999/xhtml";const wl={svg:"http://www.w3.org/2000/svg",xhtml:zo,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ki(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),wl.hasOwnProperty(e)?{space:wl[e],local:t}:t}function mf(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===zo&&e.documentElement.namespaceURI===zo?e.createElement(t):e.createElementNS(n,t)}}function _f(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ks(t){var e=Ki(t);return(e.local?_f:mf)(e)}function pf(){}function Bo(t){return t==null?pf:function(){return this.querySelector(t)}}function bf(t){typeof t!="function"&&(t=Bo(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var l=e[o],s=l.length,r=i[o]=new Array(s),a,u,f=0;f<s;++f)(a=l[f])&&(u=t.call(a,a.__data__,f,l))&&("__data__"in a&&(u.__data__=a.__data__),r[f]=u);return new mt(i,this._parents)}function vf(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function yf(){return[]}function qs(t){return t==null?yf:function(){return this.querySelectorAll(t)}}function wf(t){return function(){return vf(t.apply(this,arguments))}}function kf(t){typeof t=="function"?t=wf(t):t=qs(t);for(var e=this._groups,n=e.length,i=[],o=[],l=0;l<n;++l)for(var s=e[l],r=s.length,a,u=0;u<r;++u)(a=s[u])&&(i.push(t.call(a,a.__data__,u,s)),o.push(a));return new mt(i,o)}function Zs(t){return function(){return this.matches(t)}}function Gs(t){return function(e){return e.matches(t)}}var Sf=Array.prototype.find;function Cf(t){return function(){return Sf.call(this.children,t)}}function zf(){return this.firstElementChild}function Ef(t){return this.select(t==null?zf:Cf(typeof t=="function"?t:Gs(t)))}var Nf=Array.prototype.filter;function Mf(){return Array.from(this.children)}function Pf(t){return function(){return Nf.call(this.children,t)}}function Af(t){return this.selectAll(t==null?Mf:Pf(typeof t=="function"?t:Gs(t)))}function Of(t){typeof t!="function"&&(t=Zs(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var l=e[o],s=l.length,r=i[o]=[],a,u=0;u<s;++u)(a=l[u])&&t.call(a,a.__data__,u,l)&&r.push(a);return new mt(i,this._parents)}function Us(t){return new Array(t.length)}function Tf(){return new mt(this._enter||this._groups.map(Us),this._parents)}function Ni(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ni.prototype={constructor:Ni,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Hf(t){return function(){return t}}function Df(t,e,n,i,o,l){for(var s=0,r,a=e.length,u=l.length;s<u;++s)(r=e[s])?(r.__data__=l[s],i[s]=r):n[s]=new Ni(t,l[s]);for(;s<a;++s)(r=e[s])&&(o[s]=r)}function If(t,e,n,i,o,l,s){var r,a,u=new Map,f=e.length,d=l.length,c=new Array(f),h;for(r=0;r<f;++r)(a=e[r])&&(c[r]=h=s.call(a,a.__data__,r,e)+"",u.has(h)?o[r]=a:u.set(h,a));for(r=0;r<d;++r)h=s.call(t,l[r],r,l)+"",(a=u.get(h))?(i[r]=a,a.__data__=l[r],u.delete(h)):n[r]=new Ni(t,l[r]);for(r=0;r<f;++r)(a=e[r])&&u.get(c[r])===a&&(o[r]=a)}function Wf(t){return t.__data__}function Lf(t,e){if(!arguments.length)return Array.from(this,Wf);var n=e?If:Df,i=this._parents,o=this._groups;typeof t!="function"&&(t=Hf(t));for(var l=o.length,s=new Array(l),r=new Array(l),a=new Array(l),u=0;u<l;++u){var f=i[u],d=o[u],c=d.length,h=Rf(t.call(f,f&&f.__data__,u,i)),m=h.length,p=r[u]=new Array(m),v=s[u]=new Array(m),b=a[u]=new Array(c);n(f,d,p,v,b,h,e);for(var C=0,y=0,E,S;C<m;++C)if(E=p[C]){for(C>=y&&(y=C+1);!(S=v[y])&&++y<m;);E._next=S||null}}return s=new mt(s,i),s._enter=r,s._exit=a,s}function Rf(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Vf(){return new mt(this._exit||this._groups.map(Us),this._parents)}function jf(t,e,n){var i=this.enter(),o=this,l=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?l.remove():n(l),i&&o?i.merge(o).order():o}function Xf(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,l=i.length,s=Math.min(o,l),r=new Array(o),a=0;a<s;++a)for(var u=n[a],f=i[a],d=u.length,c=r[a]=new Array(d),h,m=0;m<d;++m)(h=u[m]||f[m])&&(c[m]=h);for(;a<o;++a)r[a]=n[a];return new mt(r,this._parents)}function Bf(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,l=i[o],s;--o>=0;)(s=i[o])&&(l&&s.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(s,l),l=s);return this}function Yf(t){t||(t=Ff);function e(d,c){return d&&c?t(d.__data__,c.__data__):!d-!c}for(var n=this._groups,i=n.length,o=new Array(i),l=0;l<i;++l){for(var s=n[l],r=s.length,a=o[l]=new Array(r),u,f=0;f<r;++f)(u=s[f])&&(a[f]=u);a.sort(e)}return new mt(o,this._parents).order()}function Ff(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Kf(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function qf(){return Array.from(this)}function Zf(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,l=i.length;o<l;++o){var s=i[o];if(s)return s}return null}function Gf(){let t=0;for(const e of this)++t;return t}function Uf(){return!this.node()}function Jf(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],l=0,s=o.length,r;l<s;++l)(r=o[l])&&t.call(r,r.__data__,l,o);return this}function Qf(t){return function(){this.removeAttribute(t)}}function xf(t){return function(){this.removeAttributeNS(t.space,t.local)}}function $f(t,e){return function(){this.setAttribute(t,e)}}function ed(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function td(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function nd(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function id(t,e){var n=Ki(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?xf:Qf:typeof e=="function"?n.local?nd:td:n.local?ed:$f)(n,e))}function Js(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function od(t){return function(){this.style.removeProperty(t)}}function ld(t,e,n){return function(){this.style.setProperty(t,e,n)}}function rd(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function sd(t,e,n){return arguments.length>1?this.each((e==null?od:typeof e=="function"?rd:ld)(t,e,n??"")):zn(this.node(),t)}function zn(t,e){return t.style.getPropertyValue(e)||Js(t).getComputedStyle(t,null).getPropertyValue(e)}function ad(t){return function(){delete this[t]}}function ud(t,e){return function(){this[t]=e}}function cd(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function fd(t,e){return arguments.length>1?this.each((e==null?ad:typeof e=="function"?cd:ud)(t,e)):this.node()[t]}function Qs(t){return t.trim().split(/^|\s+/)}function Yo(t){return t.classList||new xs(t)}function xs(t){this._node=t,this._names=Qs(t.getAttribute("class")||"")}xs.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function $s(t,e){for(var n=Yo(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function ea(t,e){for(var n=Yo(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function dd(t){return function(){$s(this,t)}}function hd(t){return function(){ea(this,t)}}function gd(t,e){return function(){(e.apply(this,arguments)?$s:ea)(this,t)}}function md(t,e){var n=Qs(t+"");if(arguments.length<2){for(var i=Yo(this.node()),o=-1,l=n.length;++o<l;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?gd:e?dd:hd)(n,e))}function _d(){this.textContent=""}function pd(t){return function(){this.textContent=t}}function bd(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function vd(t){return arguments.length?this.each(t==null?_d:(typeof t=="function"?bd:pd)(t)):this.node().textContent}function yd(){this.innerHTML=""}function wd(t){return function(){this.innerHTML=t}}function kd(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Sd(t){return arguments.length?this.each(t==null?yd:(typeof t=="function"?kd:wd)(t)):this.node().innerHTML}function Cd(){this.nextSibling&&this.parentNode.appendChild(this)}function zd(){return this.each(Cd)}function Ed(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Nd(){return this.each(Ed)}function Md(t){var e=typeof t=="function"?t:Ks(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Pd(){return null}function Ad(t,e){var n=typeof t=="function"?t:Ks(t),i=e==null?Pd:typeof e=="function"?e:Bo(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Od(){var t=this.parentNode;t&&t.removeChild(this)}function Td(){return this.each(Od)}function Hd(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Dd(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Id(t){return this.select(t?Dd:Hd)}function Wd(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ld(t){return function(e){t.call(this,e,this.__data__)}}function Rd(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function Vd(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,l;n<o;++n)l=e[n],(!t.type||l.type===t.type)&&l.name===t.name?this.removeEventListener(l.type,l.listener,l.options):e[++i]=l;++i?e.length=i:delete this.__on}}}function jd(t,e,n){return function(){var i=this.__on,o,l=Ld(e);if(i){for(var s=0,r=i.length;s<r;++s)if((o=i[s]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=l,o.options=n),o.value=e;return}}this.addEventListener(t.type,l,n),o={type:t.type,name:t.name,value:e,listener:l,options:n},i?i.push(o):this.__on=[o]}}function Xd(t,e,n){var i=Rd(t+""),o,l=i.length,s;if(arguments.length<2){var r=this.node().__on;if(r){for(var a=0,u=r.length,f;a<u;++a)for(o=0,f=r[a];o<l;++o)if((s=i[o]).type===f.type&&s.name===f.name)return f.value}return}for(r=e?jd:Vd,o=0;o<l;++o)this.each(r(i[o],e,n));return this}function ta(t,e,n){var i=Js(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Bd(t,e){return function(){return ta(this,t,e)}}function Yd(t,e){return function(){return ta(this,t,e.apply(this,arguments))}}function Fd(t,e){return this.each((typeof e=="function"?Yd:Bd)(t,e))}function*Kd(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,l=i.length,s;o<l;++o)(s=i[o])&&(yield s)}var na=[null];function mt(t,e){this._groups=t,this._parents=e}function xn(){return new mt([[document.documentElement]],na)}function qd(){return this}mt.prototype=xn.prototype={constructor:mt,select:bf,selectAll:kf,selectChild:Ef,selectChildren:Af,filter:Of,data:Lf,enter:Tf,exit:Vf,join:jf,merge:Xf,selection:qd,order:Bf,sort:Yf,call:Kf,nodes:qf,node:Zf,size:Gf,empty:Uf,each:Jf,attr:id,style:sd,property:fd,classed:md,text:vd,html:Sd,raise:zd,lower:Nd,append:Md,insert:Ad,remove:Td,clone:Id,datum:Wd,on:Xd,dispatch:Fd,[Symbol.iterator]:Kd};function gt(t){return typeof t=="string"?new mt([[document.querySelector(t)]],[document.documentElement]):new mt([[t]],na)}function Zd(t){let e;for(;e=t.sourceEvent;)t=e;return t}function wt(t,e){if(t=Zd(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const Gd={passive:!1},Yn={capture:!0,passive:!1};function ho(t){t.stopImmediatePropagation()}function bn(t){t.preventDefault(),t.stopImmediatePropagation()}function ia(t){var e=t.document.documentElement,n=gt(t).on("dragstart.drag",bn,Yn);"onselectstart"in e?n.on("selectstart.drag",bn,Yn):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function oa(t,e){var n=t.document.documentElement,i=gt(t).on("dragstart.drag",null);e&&(i.on("click.drag",bn,Yn),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ai=t=>()=>t;function Eo(t,{sourceEvent:e,subject:n,target:i,identifier:o,active:l,x:s,y:r,dx:a,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:l,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:r,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}Eo.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Ud(t){return!t.ctrlKey&&!t.button}function Jd(){return this.parentNode}function Qd(t,e){return e??{x:t.x,y:t.y}}function xd(){return navigator.maxTouchPoints||"ontouchstart"in this}function la(){var t=Ud,e=Jd,n=Qd,i=xd,o={},l=Fi("start","drag","end"),s=0,r,a,u,f,d=0;function c(E){E.on("mousedown.drag",h).filter(i).on("touchstart.drag",v).on("touchmove.drag",b,Gd).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(E,S){if(!(f||!t.call(this,E,S))){var N=y(this,e.call(this,E,S),E,S,"mouse");N&&(gt(E.view).on("mousemove.drag",m,Yn).on("mouseup.drag",p,Yn),ia(E.view),ho(E),u=!1,r=E.clientX,a=E.clientY,N("start",E))}}function m(E){if(bn(E),!u){var S=E.clientX-r,N=E.clientY-a;u=S*S+N*N>d}o.mouse("drag",E)}function p(E){gt(E.view).on("mousemove.drag mouseup.drag",null),oa(E.view,u),bn(E),o.mouse("end",E)}function v(E,S){if(t.call(this,E,S)){var N=E.changedTouches,w=e.call(this,E,S),T=N.length,A,H;for(A=0;A<T;++A)(H=y(this,w,E,S,N[A].identifier,N[A]))&&(ho(E),H("start",E,N[A]))}}function b(E){var S=E.changedTouches,N=S.length,w,T;for(w=0;w<N;++w)(T=o[S[w].identifier])&&(bn(E),T("drag",E,S[w]))}function C(E){var S=E.changedTouches,N=S.length,w,T;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),w=0;w<N;++w)(T=o[S[w].identifier])&&(ho(E),T("end",E,S[w]))}function y(E,S,N,w,T,A){var H=l.copy(),M=wt(A||N,S),I,R,k;if((k=n.call(E,new Eo("beforestart",{sourceEvent:N,target:c,identifier:T,active:s,x:M[0],y:M[1],dx:0,dy:0,dispatch:H}),w))!=null)return I=k.x-M[0]||0,R=k.y-M[1]||0,function P(O,V,j){var X=M,ee;switch(O){case"start":o[T]=P,ee=s++;break;case"end":delete o[T],--s;case"drag":M=wt(j||V,S),ee=s;break}H.call(O,E,new Eo(O,{sourceEvent:V,subject:k,target:c,identifier:T,active:ee,x:M[0]+I,y:M[1]+R,dx:M[0]-X[0],dy:M[1]-X[1],dispatch:H}),w)}}return c.filter=function(E){return arguments.length?(t=typeof E=="function"?E:ai(!!E),c):t},c.container=function(E){return arguments.length?(e=typeof E=="function"?E:ai(E),c):e},c.subject=function(E){return arguments.length?(n=typeof E=="function"?E:ai(E),c):n},c.touchable=function(E){return arguments.length?(i=typeof E=="function"?E:ai(!!E),c):i},c.on=function(){var E=l.on.apply(l,arguments);return E===l?c:E},c.clickDistance=function(E){return arguments.length?(d=(E=+E)*E,c):Math.sqrt(d)},c}function Fo(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ra(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function $n(){}var Fn=.7,Mi=1/Fn,vn="\\s*([+-]?\\d+)\\s*",Kn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$d=/^#([0-9a-f]{3,8})$/,eh=new RegExp(`^rgb\\(${vn},${vn},${vn}\\)$`),th=new RegExp(`^rgb\\(${Mt},${Mt},${Mt}\\)$`),nh=new RegExp(`^rgba\\(${vn},${vn},${vn},${Kn}\\)$`),ih=new RegExp(`^rgba\\(${Mt},${Mt},${Mt},${Kn}\\)$`),oh=new RegExp(`^hsl\\(${Kn},${Mt},${Mt}\\)$`),lh=new RegExp(`^hsla\\(${Kn},${Mt},${Mt},${Kn}\\)$`),kl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Fo($n,qn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Sl,formatHex:Sl,formatHex8:rh,formatHsl:sh,formatRgb:Cl,toString:Cl});function Sl(){return this.rgb().formatHex()}function rh(){return this.rgb().formatHex8()}function sh(){return sa(this).formatHsl()}function Cl(){return this.rgb().formatRgb()}function qn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=$d.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?zl(e):n===3?new ft(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ui(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ui(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=eh.exec(t))?new ft(e[1],e[2],e[3],1):(e=th.exec(t))?new ft(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=nh.exec(t))?ui(e[1],e[2],e[3],e[4]):(e=ih.exec(t))?ui(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=oh.exec(t))?Ml(e[1],e[2]/100,e[3]/100,1):(e=lh.exec(t))?Ml(e[1],e[2]/100,e[3]/100,e[4]):kl.hasOwnProperty(t)?zl(kl[t]):t==="transparent"?new ft(NaN,NaN,NaN,0):null}function zl(t){return new ft(t>>16&255,t>>8&255,t&255,1)}function ui(t,e,n,i){return i<=0&&(t=e=n=NaN),new ft(t,e,n,i)}function ah(t){return t instanceof $n||(t=qn(t)),t?(t=t.rgb(),new ft(t.r,t.g,t.b,t.opacity)):new ft}function No(t,e,n,i){return arguments.length===1?ah(t):new ft(t,e,n,i??1)}function ft(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}Fo(ft,No,ra($n,{brighter(t){return t=t==null?Mi:Math.pow(Mi,t),new ft(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Fn:Math.pow(Fn,t),new ft(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ft(Qt(this.r),Qt(this.g),Qt(this.b),Pi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:El,formatHex:El,formatHex8:uh,formatRgb:Nl,toString:Nl}));function El(){return`#${Ut(this.r)}${Ut(this.g)}${Ut(this.b)}`}function uh(){return`#${Ut(this.r)}${Ut(this.g)}${Ut(this.b)}${Ut((isNaN(this.opacity)?1:this.opacity)*255)}`}function Nl(){const t=Pi(this.opacity);return`${t===1?"rgb(":"rgba("}${Qt(this.r)}, ${Qt(this.g)}, ${Qt(this.b)}${t===1?")":`, ${t})`}`}function Pi(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Qt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ut(t){return t=Qt(t),(t<16?"0":"")+t.toString(16)}function Ml(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new kt(t,e,n,i)}function sa(t){if(t instanceof kt)return new kt(t.h,t.s,t.l,t.opacity);if(t instanceof $n||(t=qn(t)),!t)return new kt;if(t instanceof kt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),l=Math.max(e,n,i),s=NaN,r=l-o,a=(l+o)/2;return r?(e===l?s=(n-i)/r+(n<i)*6:n===l?s=(i-e)/r+2:s=(e-n)/r+4,r/=a<.5?l+o:2-l-o,s*=60):r=a>0&&a<1?0:s,new kt(s,r,a,t.opacity)}function ch(t,e,n,i){return arguments.length===1?sa(t):new kt(t,e,n,i??1)}function kt(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Fo(kt,ch,ra($n,{brighter(t){return t=t==null?Mi:Math.pow(Mi,t),new kt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Fn:Math.pow(Fn,t),new kt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new ft(go(t>=240?t-240:t+120,o,i),go(t,o,i),go(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new kt(Pl(this.h),ci(this.s),ci(this.l),Pi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Pi(this.opacity);return`${t===1?"hsl(":"hsla("}${Pl(this.h)}, ${ci(this.s)*100}%, ${ci(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Pl(t){return t=(t||0)%360,t<0?t+360:t}function ci(t){return Math.max(0,Math.min(1,t||0))}function go(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const aa=t=>()=>t;function fh(t,e){return function(n){return t+n*e}}function dh(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function hh(t){return(t=+t)==1?ua:function(e,n){return n-e?dh(e,n,t):aa(isNaN(e)?n:e)}}function ua(t,e){var n=e-t;return n?fh(t,n):aa(isNaN(t)?e:t)}const Al=function t(e){var n=hh(e);function i(o,l){var s=n((o=No(o)).r,(l=No(l)).r),r=n(o.g,l.g),a=n(o.b,l.b),u=ua(o.opacity,l.opacity);return function(f){return o.r=s(f),o.g=r(f),o.b=a(f),o.opacity=u(f),o+""}}return i.gamma=t,i}(1);function Bt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Mo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mo=new RegExp(Mo.source,"g");function gh(t){return function(){return t}}function mh(t){return function(e){return t(e)+""}}function _h(t,e){var n=Mo.lastIndex=mo.lastIndex=0,i,o,l,s=-1,r=[],a=[];for(t=t+"",e=e+"";(i=Mo.exec(t))&&(o=mo.exec(e));)(l=o.index)>n&&(l=e.slice(n,l),r[s]?r[s]+=l:r[++s]=l),(i=i[0])===(o=o[0])?r[s]?r[s]+=o:r[++s]=o:(r[++s]=null,a.push({i:s,x:Bt(i,o)})),n=mo.lastIndex;return n<e.length&&(l=e.slice(n),r[s]?r[s]+=l:r[++s]=l),r.length<2?a[0]?mh(a[0].x):gh(e):(e=a.length,function(u){for(var f=0,d;f<e;++f)r[(d=a[f]).i]=d.x(u);return r.join("")})}var Ol=180/Math.PI,Po={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ca(t,e,n,i,o,l){var s,r,a;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(a=t*n+e*i)&&(n-=t*a,i-=e*a),(r=Math.sqrt(n*n+i*i))&&(n/=r,i/=r,a/=r),t*i<e*n&&(t=-t,e=-e,a=-a,s=-s),{translateX:o,translateY:l,rotate:Math.atan2(e,t)*Ol,skewX:Math.atan(a)*Ol,scaleX:s,scaleY:r}}var fi;function ph(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Po:ca(e.a,e.b,e.c,e.d,e.e,e.f)}function bh(t){return t==null||(fi||(fi=document.createElementNS("http://www.w3.org/2000/svg","g")),fi.setAttribute("transform",t),!(t=fi.transform.baseVal.consolidate()))?Po:(t=t.matrix,ca(t.a,t.b,t.c,t.d,t.e,t.f))}function fa(t,e,n,i){function o(u){return u.length?u.pop()+" ":""}function l(u,f,d,c,h,m){if(u!==d||f!==c){var p=h.push("translate(",null,e,null,n);m.push({i:p-4,x:Bt(u,d)},{i:p-2,x:Bt(f,c)})}else(d||c)&&h.push("translate("+d+e+c+n)}function s(u,f,d,c){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),c.push({i:d.push(o(d)+"rotate(",null,i)-2,x:Bt(u,f)})):f&&d.push(o(d)+"rotate("+f+i)}function r(u,f,d,c){u!==f?c.push({i:d.push(o(d)+"skewX(",null,i)-2,x:Bt(u,f)}):f&&d.push(o(d)+"skewX("+f+i)}function a(u,f,d,c,h,m){if(u!==d||f!==c){var p=h.push(o(h)+"scale(",null,",",null,")");m.push({i:p-4,x:Bt(u,d)},{i:p-2,x:Bt(f,c)})}else(d!==1||c!==1)&&h.push(o(h)+"scale("+d+","+c+")")}return function(u,f){var d=[],c=[];return u=t(u),f=t(f),l(u.translateX,u.translateY,f.translateX,f.translateY,d,c),s(u.rotate,f.rotate,d,c),r(u.skewX,f.skewX,d,c),a(u.scaleX,u.scaleY,f.scaleX,f.scaleY,d,c),u=f=null,function(h){for(var m=-1,p=c.length,v;++m<p;)d[(v=c[m]).i]=v.x(h);return d.join("")}}}var vh=fa(ph,"px, ","px)","deg)"),yh=fa(bh,", ",")",")"),wh=1e-12;function Tl(t){return((t=Math.exp(t))+1/t)/2}function kh(t){return((t=Math.exp(t))-1/t)/2}function Sh(t){return((t=Math.exp(2*t))-1)/(t+1)}const Ch=function t(e,n,i){function o(l,s){var r=l[0],a=l[1],u=l[2],f=s[0],d=s[1],c=s[2],h=f-r,m=d-a,p=h*h+m*m,v,b;if(p<wh)b=Math.log(c/u)/e,v=function(w){return[r+w*h,a+w*m,u*Math.exp(e*w*b)]};else{var C=Math.sqrt(p),y=(c*c-u*u+i*p)/(2*u*n*C),E=(c*c-u*u-i*p)/(2*c*n*C),S=Math.log(Math.sqrt(y*y+1)-y),N=Math.log(Math.sqrt(E*E+1)-E);b=(N-S)/e,v=function(w){var T=w*b,A=Tl(S),H=u/(n*C)*(A*Sh(e*T+S)-kh(S));return[r+H*h,a+H*m,u*A/Tl(e*T+S)]}}return v.duration=b*1e3*e/Math.SQRT2,v}return o.rho=function(l){var s=Math.max(.001,+l),r=s*s,a=r*r;return t(s,r,a)},o}(Math.SQRT2,2,4);var En=0,Wn=0,Hn=0,da=1e3,Ai,Ln,Oi=0,$t=0,qi=0,Zn=typeof performance=="object"&&performance.now?performance:Date,ha=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ko(){return $t||(ha(zh),$t=Zn.now()+qi)}function zh(){$t=0}function Ti(){this._call=this._time=this._next=null}Ti.prototype=ga.prototype={constructor:Ti,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Ko():+n)+(e==null?0:+e),!this._next&&Ln!==this&&(Ln?Ln._next=this:Ai=this,Ln=this),this._call=t,this._time=n,Ao()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ao())}};function ga(t,e,n){var i=new Ti;return i.restart(t,e,n),i}function Eh(){Ko(),++En;for(var t=Ai,e;t;)(e=$t-t._time)>=0&&t._call.call(void 0,e),t=t._next;--En}function Hl(){$t=(Oi=Zn.now())+qi,En=Wn=0;try{Eh()}finally{En=0,Mh(),$t=0}}function Nh(){var t=Zn.now(),e=t-Oi;e>da&&(qi-=e,Oi=t)}function Mh(){for(var t,e=Ai,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Ai=n);Ln=t,Ao(i)}function Ao(t){if(!En){Wn&&(Wn=clearTimeout(Wn));var e=t-$t;e>24?(t<1/0&&(Wn=setTimeout(Hl,t-Zn.now()-qi)),Hn&&(Hn=clearInterval(Hn))):(Hn||(Oi=Zn.now(),Hn=setInterval(Nh,da)),En=1,ha(Hl))}}function Dl(t,e,n){var i=new Ti;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}var Ph=Fi("start","end","cancel","interrupt"),Ah=[],ma=0,Il=1,Oo=2,bi=3,Wl=4,To=5,vi=6;function Zi(t,e,n,i,o,l){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;Oh(t,n,{name:e,index:i,group:o,on:Ph,tween:Ah,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:ma})}function qo(t,e){var n=zt(t,e);if(n.state>ma)throw new Error("too late; already scheduled");return n}function At(t,e){var n=zt(t,e);if(n.state>bi)throw new Error("too late; already running");return n}function zt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Oh(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=ga(l,0,n.time);function l(u){n.state=Il,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var f,d,c,h;if(n.state!==Il)return a();for(f in i)if(h=i[f],h.name===n.name){if(h.state===bi)return Dl(s);h.state===Wl?(h.state=vi,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[f]):+f<e&&(h.state=vi,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[f])}if(Dl(function(){n.state===bi&&(n.state=Wl,n.timer.restart(r,n.delay,n.time),r(u))}),n.state=Oo,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Oo){for(n.state=bi,o=new Array(c=n.tween.length),f=0,d=-1;f<c;++f)(h=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(o[++d]=h);o.length=d+1}}function r(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=To,1),d=-1,c=o.length;++d<c;)o[d].call(t,f);n.state===To&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=vi,n.timer.stop(),delete i[e];for(var u in i)return;delete t.__transition}}function yi(t,e){var n=t.__transition,i,o,l=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((i=n[s]).name!==e){l=!1;continue}o=i.state>Oo&&i.state<To,i.state=vi,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[s]}l&&delete t.__transition}}function Th(t){return this.each(function(){yi(this,t)})}function Hh(t,e){var n,i;return function(){var o=At(this,t),l=o.tween;if(l!==n){i=n=l;for(var s=0,r=i.length;s<r;++s)if(i[s].name===e){i=i.slice(),i.splice(s,1);break}}o.tween=i}}function Dh(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var l=At(this,t),s=l.tween;if(s!==i){o=(i=s).slice();for(var r={name:e,value:n},a=0,u=o.length;a<u;++a)if(o[a].name===e){o[a]=r;break}a===u&&o.push(r)}l.tween=o}}function Ih(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=zt(this.node(),n).tween,o=0,l=i.length,s;o<l;++o)if((s=i[o]).name===t)return s.value;return null}return this.each((e==null?Hh:Dh)(n,t,e))}function Zo(t,e,n){var i=t._id;return t.each(function(){var o=At(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return zt(o,i).value[e]}}function _a(t,e){var n;return(typeof e=="number"?Bt:e instanceof qn?Al:(n=qn(e))?(e=n,Al):_h)(t,e)}function Wh(t){return function(){this.removeAttribute(t)}}function Lh(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Rh(t,e,n){var i,o=n+"",l;return function(){var s=this.getAttribute(t);return s===o?null:s===i?l:l=e(i=s,n)}}function Vh(t,e,n){var i,o=n+"",l;return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===i?l:l=e(i=s,n)}}function jh(t,e,n){var i,o,l;return function(){var s,r=n(this),a;return r==null?void this.removeAttribute(t):(s=this.getAttribute(t),a=r+"",s===a?null:s===i&&a===o?l:(o=a,l=e(i=s,r)))}}function Xh(t,e,n){var i,o,l;return function(){var s,r=n(this),a;return r==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),a=r+"",s===a?null:s===i&&a===o?l:(o=a,l=e(i=s,r)))}}function Bh(t,e){var n=Ki(t),i=n==="transform"?yh:_a;return this.attrTween(t,typeof e=="function"?(n.local?Xh:jh)(n,i,Zo(this,"attr."+t,e)):e==null?(n.local?Lh:Wh)(n):(n.local?Vh:Rh)(n,i,e))}function Yh(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Fh(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Kh(t,e){var n,i;function o(){var l=e.apply(this,arguments);return l!==i&&(n=(i=l)&&Fh(t,l)),n}return o._value=e,o}function qh(t,e){var n,i;function o(){var l=e.apply(this,arguments);return l!==i&&(n=(i=l)&&Yh(t,l)),n}return o._value=e,o}function Zh(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=Ki(t);return this.tween(n,(i.local?Kh:qh)(i,e))}function Gh(t,e){return function(){qo(this,t).delay=+e.apply(this,arguments)}}function Uh(t,e){return e=+e,function(){qo(this,t).delay=e}}function Jh(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Gh:Uh)(e,t)):zt(this.node(),e).delay}function Qh(t,e){return function(){At(this,t).duration=+e.apply(this,arguments)}}function xh(t,e){return e=+e,function(){At(this,t).duration=e}}function $h(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Qh:xh)(e,t)):zt(this.node(),e).duration}function e1(t,e){if(typeof e!="function")throw new Error;return function(){At(this,t).ease=e}}function t1(t){var e=this._id;return arguments.length?this.each(e1(e,t)):zt(this.node(),e).ease}function n1(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;At(this,t).ease=n}}function i1(t){if(typeof t!="function")throw new Error;return this.each(n1(this._id,t))}function o1(t){typeof t!="function"&&(t=Zs(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var l=e[o],s=l.length,r=i[o]=[],a,u=0;u<s;++u)(a=l[u])&&t.call(a,a.__data__,u,l)&&r.push(a);return new Rt(i,this._parents,this._name,this._id)}function l1(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,l=Math.min(i,o),s=new Array(i),r=0;r<l;++r)for(var a=e[r],u=n[r],f=a.length,d=s[r]=new Array(f),c,h=0;h<f;++h)(c=a[h]||u[h])&&(d[h]=c);for(;r<i;++r)s[r]=e[r];return new Rt(s,this._parents,this._name,this._id)}function r1(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function s1(t,e,n){var i,o,l=r1(e)?qo:At;return function(){var s=l(this,t),r=s.on;r!==i&&(o=(i=r).copy()).on(e,n),s.on=o}}function a1(t,e){var n=this._id;return arguments.length<2?zt(this.node(),n).on.on(t):this.each(s1(n,t,e))}function u1(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function c1(){return this.on("end.remove",u1(this._id))}function f1(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Bo(t));for(var i=this._groups,o=i.length,l=new Array(o),s=0;s<o;++s)for(var r=i[s],a=r.length,u=l[s]=new Array(a),f,d,c=0;c<a;++c)(f=r[c])&&(d=t.call(f,f.__data__,c,r))&&("__data__"in f&&(d.__data__=f.__data__),u[c]=d,Zi(u[c],e,n,c,u,zt(f,n)));return new Rt(l,this._parents,e,n)}function d1(t){var e=this._name,n=this._id;typeof t!="function"&&(t=qs(t));for(var i=this._groups,o=i.length,l=[],s=[],r=0;r<o;++r)for(var a=i[r],u=a.length,f,d=0;d<u;++d)if(f=a[d]){for(var c=t.call(f,f.__data__,d,a),h,m=zt(f,n),p=0,v=c.length;p<v;++p)(h=c[p])&&Zi(h,e,n,p,c,m);l.push(c),s.push(f)}return new Rt(l,s,e,n)}var h1=xn.prototype.constructor;function g1(){return new h1(this._groups,this._parents)}function m1(t,e){var n,i,o;return function(){var l=zn(this,t),s=(this.style.removeProperty(t),zn(this,t));return l===s?null:l===n&&s===i?o:o=e(n=l,i=s)}}function pa(t){return function(){this.style.removeProperty(t)}}function _1(t,e,n){var i,o=n+"",l;return function(){var s=zn(this,t);return s===o?null:s===i?l:l=e(i=s,n)}}function p1(t,e,n){var i,o,l;return function(){var s=zn(this,t),r=n(this),a=r+"";return r==null&&(a=r=(this.style.removeProperty(t),zn(this,t))),s===a?null:s===i&&a===o?l:(o=a,l=e(i=s,r))}}function b1(t,e){var n,i,o,l="style."+e,s="end."+l,r;return function(){var a=At(this,t),u=a.on,f=a.value[l]==null?r||(r=pa(e)):void 0;(u!==n||o!==f)&&(i=(n=u).copy()).on(s,o=f),a.on=i}}function v1(t,e,n){var i=(t+="")=="transform"?vh:_a;return e==null?this.styleTween(t,m1(t,i)).on("end.style."+t,pa(t)):typeof e=="function"?this.styleTween(t,p1(t,i,Zo(this,"style."+t,e))).each(b1(this._id,t)):this.styleTween(t,_1(t,i,e),n).on("end.style."+t,null)}function y1(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function w1(t,e,n){var i,o;function l(){var s=e.apply(this,arguments);return s!==o&&(i=(o=s)&&y1(t,s,n)),i}return l._value=e,l}function k1(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,w1(t,e,n??""))}function S1(t){return function(){this.textContent=t}}function C1(t){return function(){var e=t(this);this.textContent=e??""}}function z1(t){return this.tween("text",typeof t=="function"?C1(Zo(this,"text",t)):S1(t==null?"":t+""))}function E1(t){return function(e){this.textContent=t.call(this,e)}}function N1(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&E1(o)),e}return i._value=t,i}function M1(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,N1(t))}function P1(){for(var t=this._name,e=this._id,n=ba(),i=this._groups,o=i.length,l=0;l<o;++l)for(var s=i[l],r=s.length,a,u=0;u<r;++u)if(a=s[u]){var f=zt(a,e);Zi(a,t,n,u,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Rt(i,this._parents,t,n)}function A1(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(l,s){var r={value:s},a={value:function(){--o===0&&l()}};n.each(function(){var u=At(this,i),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(r),e._.interrupt.push(r),e._.end.push(a)),u.on=e}),o===0&&l()})}var O1=0;function Rt(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function ba(){return++O1}var Ht=xn.prototype;Rt.prototype={constructor:Rt,select:f1,selectAll:d1,selectChild:Ht.selectChild,selectChildren:Ht.selectChildren,filter:o1,merge:l1,selection:g1,transition:P1,call:Ht.call,nodes:Ht.nodes,node:Ht.node,size:Ht.size,empty:Ht.empty,each:Ht.each,on:a1,attr:Bh,attrTween:Zh,style:v1,styleTween:k1,text:z1,textTween:M1,remove:c1,tween:Ih,delay:Jh,duration:$h,ease:t1,easeVarying:i1,end:A1,[Symbol.iterator]:Ht[Symbol.iterator]};function T1(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var H1={time:null,delay:0,duration:250,ease:T1};function D1(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function I1(t){var e,n;t instanceof Rt?(e=t._id,t=t._name):(e=ba(),(n=H1).time=Ko(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,l=0;l<o;++l)for(var s=i[l],r=s.length,a,u=0;u<r;++u)(a=s[u])&&Zi(a,t,e,u,s,n||D1(a,e));return new Rt(i,this._parents,t,e)}xn.prototype.interrupt=Th;xn.prototype.transition=I1;const di=t=>()=>t;function W1(t,{sourceEvent:e,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function Dt(t,e,n){this.k=t,this.x=e,this.y=n}Dt.prototype={constructor:Dt,scale:function(t){return t===1?this:new Dt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Dt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Gi=new Dt(1,0,0);va.prototype=Dt.prototype;function va(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Gi;return t.__zoom}function _o(t){t.stopImmediatePropagation()}function Dn(t){t.preventDefault(),t.stopImmediatePropagation()}function L1(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function R1(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Ll(){return this.__zoom||Gi}function V1(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function j1(){return navigator.maxTouchPoints||"ontouchstart"in this}function X1(t,e,n){var i=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],l=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),s>l?(l+s)/2:Math.min(0,l)||Math.max(0,s))}function ya(){var t=L1,e=R1,n=X1,i=V1,o=j1,l=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],r=250,a=Ch,u=Fi("start","zoom","end"),f,d,c,h=500,m=150,p=0,v=10;function b(k){k.property("__zoom",Ll).on("wheel.zoom",T,{passive:!1}).on("mousedown.zoom",A).on("dblclick.zoom",H).filter(o).on("touchstart.zoom",M).on("touchmove.zoom",I).on("touchend.zoom touchcancel.zoom",R).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(k,P,O,V){var j=k.selection?k.selection():k;j.property("__zoom",Ll),k!==j?S(k,P,O,V):j.interrupt().each(function(){N(this,arguments).event(V).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},b.scaleBy=function(k,P,O,V){b.scaleTo(k,function(){var j=this.__zoom.k,X=typeof P=="function"?P.apply(this,arguments):P;return j*X},O,V)},b.scaleTo=function(k,P,O,V){b.transform(k,function(){var j=e.apply(this,arguments),X=this.__zoom,ee=O==null?E(j):typeof O=="function"?O.apply(this,arguments):O,q=X.invert(ee),te=typeof P=="function"?P.apply(this,arguments):P;return n(y(C(X,te),ee,q),j,s)},O,V)},b.translateBy=function(k,P,O,V){b.transform(k,function(){return n(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof O=="function"?O.apply(this,arguments):O),e.apply(this,arguments),s)},null,V)},b.translateTo=function(k,P,O,V,j){b.transform(k,function(){var X=e.apply(this,arguments),ee=this.__zoom,q=V==null?E(X):typeof V=="function"?V.apply(this,arguments):V;return n(Gi.translate(q[0],q[1]).scale(ee.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof O=="function"?-O.apply(this,arguments):-O),X,s)},V,j)};function C(k,P){return P=Math.max(l[0],Math.min(l[1],P)),P===k.k?k:new Dt(P,k.x,k.y)}function y(k,P,O){var V=P[0]-O[0]*k.k,j=P[1]-O[1]*k.k;return V===k.x&&j===k.y?k:new Dt(k.k,V,j)}function E(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function S(k,P,O,V){k.on("start.zoom",function(){N(this,arguments).event(V).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(V).end()}).tween("zoom",function(){var j=this,X=arguments,ee=N(j,X).event(V),q=e.apply(j,X),te=O==null?E(q):typeof O=="function"?O.apply(j,X):O,U=Math.max(q[1][0]-q[0][0],q[1][1]-q[0][1]),J=j.__zoom,ue=typeof P=="function"?P.apply(j,X):P,me=a(J.invert(te).concat(U/J.k),ue.invert(te).concat(U/ue.k));return function(le){if(le===1)le=ue;else{var ve=me(le),ne=U/ve[2];le=new Dt(ne,te[0]-ve[0]*ne,te[1]-ve[1]*ne)}ee.zoom(null,le)}})}function N(k,P,O){return!O&&k.__zooming||new w(k,P)}function w(k,P){this.that=k,this.args=P,this.active=0,this.sourceEvent=null,this.extent=e.apply(k,P),this.taps=0}w.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,P){return this.mouse&&k!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var P=gt(this.that).datum();u.call(k,this.that,new W1(k,{sourceEvent:this.sourceEvent,target:b,transform:this.that.__zoom,dispatch:u}),P)}};function T(k,...P){if(!t.apply(this,arguments))return;var O=N(this,P).event(k),V=this.__zoom,j=Math.max(l[0],Math.min(l[1],V.k*Math.pow(2,i.apply(this,arguments)))),X=wt(k);if(O.wheel)(O.mouse[0][0]!==X[0]||O.mouse[0][1]!==X[1])&&(O.mouse[1]=V.invert(O.mouse[0]=X)),clearTimeout(O.wheel);else{if(V.k===j)return;O.mouse=[X,V.invert(X)],yi(this),O.start()}Dn(k),O.wheel=setTimeout(ee,m),O.zoom("mouse",n(y(C(V,j),O.mouse[0],O.mouse[1]),O.extent,s));function ee(){O.wheel=null,O.end()}}function A(k,...P){if(c||!t.apply(this,arguments))return;var O=k.currentTarget,V=N(this,P,!0).event(k),j=gt(k.view).on("mousemove.zoom",te,!0).on("mouseup.zoom",U,!0),X=wt(k,O),ee=k.clientX,q=k.clientY;ia(k.view),_o(k),V.mouse=[X,this.__zoom.invert(X)],yi(this),V.start();function te(J){if(Dn(J),!V.moved){var ue=J.clientX-ee,me=J.clientY-q;V.moved=ue*ue+me*me>p}V.event(J).zoom("mouse",n(y(V.that.__zoom,V.mouse[0]=wt(J,O),V.mouse[1]),V.extent,s))}function U(J){j.on("mousemove.zoom mouseup.zoom",null),oa(J.view,V.moved),Dn(J),V.event(J).end()}}function H(k,...P){if(t.apply(this,arguments)){var O=this.__zoom,V=wt(k.changedTouches?k.changedTouches[0]:k,this),j=O.invert(V),X=O.k*(k.shiftKey?.5:2),ee=n(y(C(O,X),V,j),e.apply(this,P),s);Dn(k),r>0?gt(this).transition().duration(r).call(S,ee,V,k):gt(this).call(b.transform,ee,V,k)}}function M(k,...P){if(t.apply(this,arguments)){var O=k.touches,V=O.length,j=N(this,P,k.changedTouches.length===V).event(k),X,ee,q,te;for(_o(k),ee=0;ee<V;++ee)q=O[ee],te=wt(q,this),te=[te,this.__zoom.invert(te),q.identifier],j.touch0?!j.touch1&&j.touch0[2]!==te[2]&&(j.touch1=te,j.taps=0):(j.touch0=te,X=!0,j.taps=1+!!f);f&&(f=clearTimeout(f)),X&&(j.taps<2&&(d=te[0],f=setTimeout(function(){f=null},h)),yi(this),j.start())}}function I(k,...P){if(this.__zooming){var O=N(this,P).event(k),V=k.changedTouches,j=V.length,X,ee,q,te;for(Dn(k),X=0;X<j;++X)ee=V[X],q=wt(ee,this),O.touch0&&O.touch0[2]===ee.identifier?O.touch0[0]=q:O.touch1&&O.touch1[2]===ee.identifier&&(O.touch1[0]=q);if(ee=O.that.__zoom,O.touch1){var U=O.touch0[0],J=O.touch0[1],ue=O.touch1[0],me=O.touch1[1],le=(le=ue[0]-U[0])*le+(le=ue[1]-U[1])*le,ve=(ve=me[0]-J[0])*ve+(ve=me[1]-J[1])*ve;ee=C(ee,Math.sqrt(le/ve)),q=[(U[0]+ue[0])/2,(U[1]+ue[1])/2],te=[(J[0]+me[0])/2,(J[1]+me[1])/2]}else if(O.touch0)q=O.touch0[0],te=O.touch0[1];else return;O.zoom("touch",n(y(ee,q,te),O.extent,s))}}function R(k,...P){if(this.__zooming){var O=N(this,P).event(k),V=k.changedTouches,j=V.length,X,ee;for(_o(k),c&&clearTimeout(c),c=setTimeout(function(){c=null},h),X=0;X<j;++X)ee=V[X],O.touch0&&O.touch0[2]===ee.identifier?delete O.touch0:O.touch1&&O.touch1[2]===ee.identifier&&delete O.touch1;if(O.touch1&&!O.touch0&&(O.touch0=O.touch1,delete O.touch1),O.touch0)O.touch0[1]=this.__zoom.invert(O.touch0[0]);else if(O.end(),O.taps===2&&(ee=wt(ee,this),Math.hypot(d[0]-ee[0],d[1]-ee[1])<v)){var q=gt(this).on("dblclick.zoom");q&&q.apply(this,arguments)}}}return b.wheelDelta=function(k){return arguments.length?(i=typeof k=="function"?k:di(+k),b):i},b.filter=function(k){return arguments.length?(t=typeof k=="function"?k:di(!!k),b):t},b.touchable=function(k){return arguments.length?(o=typeof k=="function"?k:di(!!k),b):o},b.extent=function(k){return arguments.length?(e=typeof k=="function"?k:di([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),b):e},b.scaleExtent=function(k){return arguments.length?(l[0]=+k[0],l[1]=+k[1],b):[l[0],l[1]]},b.translateExtent=function(k){return arguments.length?(s[0][0]=+k[0][0],s[1][0]=+k[1][0],s[0][1]=+k[0][1],s[1][1]=+k[1][1],b):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},b.constrain=function(k){return arguments.length?(n=k,b):n},b.duration=function(k){return arguments.length?(r=+k,b):r},b.interpolate=function(k){return arguments.length?(a=k,b):a},b.on=function(){var k=u.on.apply(u,arguments);return k===u?b:k},b.clickDistance=function(k){return arguments.length?(p=(k=+k)*k,b):Math.sqrt(p)},b.tapDistance=function(k){return arguments.length?(v=+k,b):v},b}const Nn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:i})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:i}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Hi=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]];var Ft;(function(t){t.Strict="strict",t.Loose="loose"})(Ft||(Ft={}));var Pt;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Pt||(Pt={}));var Di;(function(t){t.Partial="partial",t.Full="full"})(Di||(Di={}));const Ho={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var yn;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(yn||(yn={}));var Ii;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Ii||(Ii={}));var ke;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(ke||(ke={}));const Rl={[ke.Left]:ke.Right,[ke.Right]:ke.Left,[ke.Top]:ke.Bottom,[ke.Bottom]:ke.Top};function B1(t,e){if(!t&&!e)return!0;if(!t||!e||t.size!==e.size)return!1;if(!t.size&&!e.size)return!0;for(const n of t.keys())if(!e.has(n))return!1;return!0}function Vl(t,e,n){if(!n)return;const i=[];t.forEach((o,l)=>{e!=null&&e.has(l)||i.push(o)}),i.length&&n(i)}function jl(t){return t===null?null:t?"valid":"invalid"}const Y1=t=>"id"in t&&"source"in t&&"target"in t,F1=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),Go=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),ei=(t,e=[0,0])=>{const{width:n,height:i}=qt(t),o=t.origin??e,l=n*o[0],s=i*o[1];return{x:t.position.x-l,y:t.position.y-s}},K1=(t,e={nodeOrigin:[0,0]})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((i,o)=>{const l=typeof o=="string";let s=!e.nodeLookup&&!l?o:void 0;e.nodeLookup&&(s=l?e.nodeLookup.get(o):Go(o)?o:e.nodeLookup.get(o.id));const r=s?Wi(s,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Ui(i,r)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Ji(n)},ti=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(i=>{if(e.filter===void 0||e.filter(i)){const o=Wi(i);n=Ui(n,o)}}),Ji(n)},wa=(t,e,[n,i,o]=[0,0,1],l=!1,s=!1)=>{const r={...ni(e,[n,i,o]),width:e.width/o,height:e.height/o},a=[];for(const u of t.values()){const{measured:f,selectable:d=!0,hidden:c=!1}=u;if(s&&!d||c)continue;const h=f.width??u.width??u.initialWidth??null,m=f.height??u.height??u.initialHeight??null,p=Gn(r,Pn(u)),v=(h??0)*(m??0),b=l&&p>0;(!u.internals.handleBounds||b||p>=v||u.dragging)&&a.push(u)}return a},Do=(t,e)=>{const n=new Set;return t.forEach(i=>{n.add(i.id)}),e.filter(i=>n.has(i.source)||n.has(i.target))};function q1(t,e){const n=new Map,i=e!=null&&e.nodes?new Set(e.nodes.map(o=>o.id)):null;return t.forEach(o=>{o.measured.width&&o.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!o.hidden)&&(!i||i.has(o.id))&&n.set(o.id,o)}),n}async function Z1({nodes:t,width:e,height:n,panZoom:i,minZoom:o,maxZoom:l},s){if(t.size===0)return Promise.resolve(!0);const r=q1(t,s),a=ti(r),u=Jo(a,e,n,(s==null?void 0:s.minZoom)??o,(s==null?void 0:s.maxZoom)??l,(s==null?void 0:s.padding)??.1);return await i.setViewport(u,{duration:s==null?void 0:s.duration}),Promise.resolve(!0)}function G1({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:i=[0,0],nodeExtent:o,onError:l}){const s=n.get(t),r=s.parentId?n.get(s.parentId):void 0,{x:a,y:u}=r?r.internals.positionAbsolute:{x:0,y:0},f=s.origin??i;let d=o;if(s.extent==="parent"&&!s.expandParent)if(!r)l==null||l("005",Nn.error005());else{const h=r.measured.width,m=r.measured.height;h&&m&&(d=[[a,u],[a+h,u+m]])}else r&&An(s.extent)&&(d=[[s.extent[0][0]+a,s.extent[0][1]+u],[s.extent[1][0]+a,s.extent[1][1]+u]]);const c=An(d)?en(e,d,s.measured):e;return(s.measured.width===void 0||s.measured.height===void 0)&&(l==null||l("015",Nn.error015())),{position:{x:c.x-a+(s.measured.width??0)*f[0],y:c.y-u+(s.measured.height??0)*f[1]},positionAbsolute:c}}async function ka({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:i,onBeforeDelete:o}){const l=new Set(t.map(c=>c.id)),s=[];for(const c of n){if(c.deletable===!1)continue;const h=l.has(c.id),m=!h&&c.parentId&&s.find(p=>p.id===c.parentId);(h||m)&&s.push(c)}const r=new Set(e.map(c=>c.id)),a=i.filter(c=>c.deletable!==!1),f=Do(s,a);for(const c of a)r.has(c.id)&&!f.find(m=>m.id===c.id)&&f.push(c);if(!o)return{edges:f,nodes:s};const d=await o({nodes:s,edges:f});return typeof d=="boolean"?d?{edges:f,nodes:s}:{edges:[],nodes:[]}:d}const Mn=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),en=(t={x:0,y:0},e,n)=>({x:Mn(t.x,e[0][0],e[1][0]-((n==null?void 0:n.width)??0)),y:Mn(t.y,e[0][1],e[1][1]-((n==null?void 0:n.height)??0))});function Sa(t,e,n){const{width:i,height:o}=qt(n),{x:l,y:s}=n.internals.positionAbsolute;return en(t,[[l,s],[l+i,s+o]],e)}const Xl=(t,e,n)=>t<e?Mn(Math.abs(t-e),1,e)/e:t>n?-Mn(Math.abs(t-n),1,e)/e:0,Ca=(t,e,n=15,i=40)=>{const o=Xl(t.x,i,e.width-i)*n,l=Xl(t.y,i,e.height-i)*n;return[o,l]},Ui=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),Io=({x:t,y:e,width:n,height:i})=>({x:t,y:e,x2:t+n,y2:e+i}),Ji=({x:t,y:e,x2:n,y2:i})=>({x:t,y:e,width:n-t,height:i-e}),Pn=(t,e=[0,0])=>{var o,l;const{x:n,y:i}=Go(t)?t.internals.positionAbsolute:ei(t,e);return{x:n,y:i,width:((o=t.measured)==null?void 0:o.width)??t.width??t.initialWidth??0,height:((l=t.measured)==null?void 0:l.height)??t.height??t.initialHeight??0}},Wi=(t,e=[0,0])=>{var o,l;const{x:n,y:i}=Go(t)?t.internals.positionAbsolute:ei(t,e);return{x:n,y:i,x2:n+(((o=t.measured)==null?void 0:o.width)??t.width??t.initialWidth??0),y2:i+(((l=t.measured)==null?void 0:l.height)??t.height??t.initialHeight??0)}},za=(t,e)=>Ji(Ui(Io(t),Io(e))),Gn=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),i=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*i)},Bl=t=>St(t.width)&&St(t.height)&&St(t.x)&&St(t.y),St=t=>!isNaN(t)&&isFinite(t),U1=(t,e)=>{},Uo=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),ni=({x:t,y:e},[n,i,o],l=!1,s=[1,1])=>{const r={x:(t-n)/o,y:(e-i)/o};return l?Uo(r,s):r},Li=({x:t,y:e},[n,i,o])=>({x:t*o+n,y:e*o+i});function hn(t,e){if(typeof t=="number")return Math.floor((e-e/(1+t))*.5);if(typeof t=="string"&&t.endsWith("px")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(n)}if(typeof t=="string"&&t.endsWith("%")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(e*n*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function J1(t,e,n){if(typeof t=="string"||typeof t=="number"){const i=hn(t,n),o=hn(t,e);return{top:i,right:o,bottom:i,left:o,x:o*2,y:i*2}}if(typeof t=="object"){const i=hn(t.top??t.y??0,n),o=hn(t.bottom??t.y??0,n),l=hn(t.left??t.x??0,e),s=hn(t.right??t.x??0,e);return{top:i,right:s,bottom:o,left:l,x:l+s,y:i+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function Q1(t,e,n,i,o,l){const{x:s,y:r}=Li(t,[e,n,i]),{x:a,y:u}=Li({x:t.x+t.width,y:t.y+t.height},[e,n,i]),f=o-a,d=l-u;return{left:Math.floor(s),top:Math.floor(r),right:Math.floor(f),bottom:Math.floor(d)}}const Jo=(t,e,n,i,o,l)=>{const s=J1(l,e,n),r=(e-s.x)/t.width,a=(n-s.y)/t.height,u=Math.min(r,a),f=Mn(u,i,o),d=t.x+t.width/2,c=t.y+t.height/2,h=e/2-d*f,m=n/2-c*f,p=Q1(t,h,m,f,e,n),v={left:Math.min(p.left-s.left,0),top:Math.min(p.top-s.top,0),right:Math.min(p.right-s.right,0),bottom:Math.min(p.bottom-s.bottom,0)};return{x:h-v.left+v.right,y:m-v.top+v.bottom,zoom:f}},Ri=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function An(t){return t!==void 0&&t!=="parent"}function qt(t){var e,n;return{width:((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight??0}}function Vi(t){var e,n;return(((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function x1(t,e={width:0,height:0},n,i,o){const l={...t},s=i.get(n);if(s){const r=s.origin||o;l.x+=s.internals.positionAbsolute.x-(e.width??0)*r[0],l.y+=s.internals.positionAbsolute.y-(e.height??0)*r[1]}return l}function $1(){let t,e;return{promise:new Promise((i,o)=>{t=i,e=o}),resolve:t,reject:e}}function Vn(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:i,containerBounds:o}){const{x:l,y:s}=Wt(t),r=ni({x:l-((o==null?void 0:o.left)??0),y:s-((o==null?void 0:o.top)??0)},i),{x:a,y:u}=n?Uo(r,e):r;return{xSnapped:a,ySnapped:u,...r}}const Ea=t=>({width:t.offsetWidth,height:t.offsetHeight}),eg=t=>{var e;return((e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},tg=["INPUT","SELECT","TEXTAREA"];function ng(t){var i,o;const e=((o=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:o[0])||t.target;return(e==null?void 0:e.nodeType)!==1?!1:tg.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const Na=t=>"clientX"in t,Wt=(t,e)=>{var l,s;const n=Na(t),i=n?t.clientX:(l=t.touches)==null?void 0:l[0].clientX,o=n?t.clientY:(s=t.touches)==null?void 0:s[0].clientY;return{x:i-((e==null?void 0:e.left)??0),y:o-((e==null?void 0:e.top)??0)}},Yl=(t,e,n,i,o)=>{const l=e.querySelectorAll(`.${t}`);return!l||!l.length?null:Array.from(l).map(s=>{const r=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:t,nodeId:o,position:s.getAttribute("data-handlepos"),x:(r.left-n.left)/i,y:(r.top-n.top)/i,...Ea(s)}})};function ig({sourceX:t,sourceY:e,targetX:n,targetY:i,sourceControlX:o,sourceControlY:l,targetControlX:s,targetControlY:r}){const a=t*.125+o*.375+s*.375+n*.125,u=e*.125+l*.375+r*.375+i*.125,f=Math.abs(a-t),d=Math.abs(u-e);return[a,u,f,d]}function hi(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function Fl({pos:t,x1:e,y1:n,x2:i,y2:o,c:l}){switch(t){case ke.Left:return[e-hi(e-i,l),n];case ke.Right:return[e+hi(i-e,l),n];case ke.Top:return[e,n-hi(n-o,l)];case ke.Bottom:return[e,n+hi(o-n,l)]}}function Ma({sourceX:t,sourceY:e,sourcePosition:n=ke.Bottom,targetX:i,targetY:o,targetPosition:l=ke.Top,curvature:s=.25}){const[r,a]=Fl({pos:n,x1:t,y1:e,x2:i,y2:o,c:s}),[u,f]=Fl({pos:l,x1:i,y1:o,x2:t,y2:e,c:s}),[d,c,h,m]=ig({sourceX:t,sourceY:e,targetX:i,targetY:o,sourceControlX:r,sourceControlY:a,targetControlX:u,targetControlY:f});return[`M${t},${e} C${r},${a} ${u},${f} ${i},${o}`,d,c,h,m]}function Pa({sourceX:t,sourceY:e,targetX:n,targetY:i}){const o=Math.abs(n-t)/2,l=n<t?n+o:n-o,s=Math.abs(i-e)/2,r=i<e?i+s:i-s;return[l,r,o,s]}function og({sourceNode:t,targetNode:e,selected:n=!1,zIndex:i=0,elevateOnSelect:o=!1}){if(!o)return i;const l=n||e.selected||t.selected,s=Math.max(t.internals.z||0,e.internals.z||0,1e3);return i+(l?s:0)}function lg({sourceNode:t,targetNode:e,width:n,height:i,transform:o}){const l=Ui(Wi(t),Wi(e));l.x===l.x2&&(l.x2+=1),l.y===l.y2&&(l.y2+=1);const s={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:i/o[2]};return Gn(s,Ji(l))>0}const rg=({source:t,sourceHandle:e,target:n,targetHandle:i})=>`xy-edge__${t}${e||""}-${n}${i||""}`,sg=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),ag=(t,e)=>{if(!t.source||!t.target)return e;let n;return Y1(t)?n={...t}:n={...t,id:rg(t)},sg(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function Aa({sourceX:t,sourceY:e,targetX:n,targetY:i}){const[o,l,s,r]=Pa({sourceX:t,sourceY:e,targetX:n,targetY:i});return[`M ${t},${e}L ${n},${i}`,o,l,s,r]}const Kl={[ke.Left]:{x:-1,y:0},[ke.Right]:{x:1,y:0},[ke.Top]:{x:0,y:-1},[ke.Bottom]:{x:0,y:1}},ug=({source:t,sourcePosition:e=ke.Bottom,target:n})=>e===ke.Left||e===ke.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},ql=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function cg({source:t,sourcePosition:e=ke.Bottom,target:n,targetPosition:i=ke.Top,center:o,offset:l}){const s=Kl[e],r=Kl[i],a={x:t.x+s.x*l,y:t.y+s.y*l},u={x:n.x+r.x*l,y:n.y+r.y*l},f=ug({source:a,sourcePosition:e,target:u}),d=f.x!==0?"x":"y",c=f[d];let h=[],m,p;const v={x:0,y:0},b={x:0,y:0},[C,y,E,S]=Pa({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(s[d]*r[d]===-1){m=o.x??C,p=o.y??y;const w=[{x:m,y:a.y},{x:m,y:u.y}],T=[{x:a.x,y:p},{x:u.x,y:p}];s[d]===c?h=d==="x"?w:T:h=d==="x"?T:w}else{const w=[{x:a.x,y:u.y}],T=[{x:u.x,y:a.y}];if(d==="x"?h=s.x===c?T:w:h=s.y===c?w:T,e===i){const R=Math.abs(t[d]-n[d]);if(R<=l){const k=Math.min(l-1,l-R);s[d]===c?v[d]=(a[d]>t[d]?-1:1)*k:b[d]=(u[d]>n[d]?-1:1)*k}}if(e!==i){const R=d==="x"?"y":"x",k=s[d]===r[R],P=a[R]>u[R],O=a[R]<u[R];(s[d]===1&&(!k&&P||k&&O)||s[d]!==1&&(!k&&O||k&&P))&&(h=d==="x"?w:T)}const A={x:a.x+v.x,y:a.y+v.y},H={x:u.x+b.x,y:u.y+b.y},M=Math.max(Math.abs(A.x-h[0].x),Math.abs(H.x-h[0].x)),I=Math.max(Math.abs(A.y-h[0].y),Math.abs(H.y-h[0].y));M>=I?(m=(A.x+H.x)/2,p=h[0].y):(m=h[0].x,p=(A.y+H.y)/2)}return[[t,{x:a.x+v.x,y:a.y+v.y},...h,{x:u.x+b.x,y:u.y+b.y},n],m,p,E,S]}function fg(t,e,n,i){const o=Math.min(ql(t,e)/2,ql(e,n)/2,i),{x:l,y:s}=e;if(t.x===l&&l===n.x||t.y===s&&s===n.y)return`L${l} ${s}`;if(t.y===s){const u=t.x<n.x?-1:1,f=t.y<n.y?1:-1;return`L ${l+o*u},${s}Q ${l},${s} ${l},${s+o*f}`}const r=t.x<n.x?1:-1,a=t.y<n.y?-1:1;return`L ${l},${s+o*a}Q ${l},${s} ${l+o*r},${s}`}function ji({sourceX:t,sourceY:e,sourcePosition:n=ke.Bottom,targetX:i,targetY:o,targetPosition:l=ke.Top,borderRadius:s=5,centerX:r,centerY:a,offset:u=20}){const[f,d,c,h,m]=cg({source:{x:t,y:e},sourcePosition:n,target:{x:i,y:o},targetPosition:l,center:{x:r,y:a},offset:u});return[f.reduce((v,b,C)=>{let y="";return C>0&&C<f.length-1?y=fg(f[C-1],b,f[C+1],s):y=`${C===0?"M":"L"}${b.x} ${b.y}`,v+=y,v},""),d,c,h,m]}function Zl(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function dg(t){var d;const{sourceNode:e,targetNode:n}=t;if(!Zl(e)||!Zl(n))return null;const i=e.internals.handleBounds||Gl(e.handles),o=n.internals.handleBounds||Gl(n.handles),l=Ul((i==null?void 0:i.source)??[],t.sourceHandle),s=Ul(t.connectionMode===Ft.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),t.targetHandle);if(!l||!s)return(d=t.onError)==null||d.call(t,"008",Nn.error008(l?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const r=(l==null?void 0:l.position)||ke.Bottom,a=(s==null?void 0:s.position)||ke.Top,u=Un(e,l,r),f=Un(n,s,a);return{sourceX:u.x,sourceY:u.y,targetX:f.x,targetY:f.y,sourcePosition:r,targetPosition:a}}function Gl(t){if(!t)return null;const e=[],n=[];for(const i of t)i.width=i.width??1,i.height=i.height??1,i.type==="source"?e.push(i):i.type==="target"&&n.push(i);return{source:e,target:n}}function Un(t,e,n=ke.Left,i=!1){const o=((e==null?void 0:e.x)??0)+t.internals.positionAbsolute.x,l=((e==null?void 0:e.y)??0)+t.internals.positionAbsolute.y,{width:s,height:r}=e??qt(t);if(i)return{x:o+s/2,y:l+r/2};switch((e==null?void 0:e.position)??n){case ke.Top:return{x:o+s/2,y:l};case ke.Right:return{x:o+s,y:l+r/2};case ke.Bottom:return{x:o+s/2,y:l+r};case ke.Left:return{x:o,y:l+r/2}}}function Ul(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function Wo(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(i=>`${i}=${t[i]}`).join("&")}`:""}function hg(t,{id:e,defaultColor:n,defaultMarkerStart:i,defaultMarkerEnd:o}){const l=new Set;return t.reduce((s,r)=>([r.markerStart||i,r.markerEnd||o].forEach(a=>{if(a&&typeof a=="object"){const u=Wo(a,e);l.has(u)||(s.push({id:u,color:a.color||n,...a}),l.add(u))}}),s),[]).sort((s,r)=>s.id.localeCompare(r.id))}const Qo={nodeOrigin:[0,0],nodeExtent:Hi,elevateNodesOnSelect:!0,defaults:{}},gg={...Qo,checkEquality:!0};function xo(t,e){const n={...t};for(const i in e)e[i]!==void 0&&(n[i]=e[i]);return n}function mg(t,e,n){const i=xo(Qo,n);for(const o of t.values())if(o.parentId)$o(o,t,e,i);else{const l=ei(o,i.nodeOrigin),s=An(o.extent)?o.extent:i.nodeExtent,r=en(l,s,qt(o));o.internals.positionAbsolute=r}}function Oa(t,e,n,i){var a,u;const o=xo(gg,i);let l=t.length>0;const s=new Map(e),r=o!=null&&o.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const f of t){let d=s.get(f.id);if(o.checkEquality&&f===(d==null?void 0:d.internals.userNode))e.set(f.id,d);else{const c=ei(f,o.nodeOrigin),h=An(f.extent)?f.extent:o.nodeExtent,m=en(c,h,qt(f));d={...o.defaults,...f,measured:{width:(a=f.measured)==null?void 0:a.width,height:(u=f.measured)==null?void 0:u.height},internals:{positionAbsolute:m,handleBounds:f.measured?d==null?void 0:d.internals.handleBounds:void 0,z:Ta(f,r),userNode:f}},e.set(f.id,d)}(d.measured===void 0||d.measured.width===void 0||d.measured.height===void 0)&&!d.hidden&&(l=!1),f.parentId&&$o(d,e,n,i)}return l}function _g(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function $o(t,e,n,i){const{elevateNodesOnSelect:o,nodeOrigin:l,nodeExtent:s}=xo(Qo,i),r=t.parentId,a=e.get(r);if(!a){console.warn(`Parent node ${r} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}_g(t,n);const u=o?1e3:0,{x:f,y:d,z:c}=pg(t,a,l,s,u),{positionAbsolute:h}=t.internals,m=f!==h.x||d!==h.y;(m||c!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:m?{x:f,y:d}:h,z:c}})}function Ta(t,e){return(St(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function pg(t,e,n,i,o){const{x:l,y:s}=e.internals.positionAbsolute,r=qt(t),a=ei(t,n),u=An(t.extent)?en(a,t.extent,r):a;let f=en({x:l+u.x,y:s+u.y},i,r);t.extent==="parent"&&(f=Sa(f,r,e));const d=Ta(t,o),c=e.internals.z??0;return{x:f.x,y:f.y,z:c>d?c:d}}function bg(t,e,n,i=[0,0]){var s;const o=[],l=new Map;for(const r of t){const a=e.get(r.parentId);if(!a)continue;const u=((s=l.get(r.parentId))==null?void 0:s.expandedRect)??Pn(a),f=za(u,r.rect);l.set(r.parentId,{expandedRect:f,parent:a})}return l.size>0&&l.forEach(({expandedRect:r,parent:a},u)=>{var y;const f=a.internals.positionAbsolute,d=qt(a),c=a.origin??i,h=r.x<f.x?Math.round(Math.abs(f.x-r.x)):0,m=r.y<f.y?Math.round(Math.abs(f.y-r.y)):0,p=Math.max(d.width,Math.round(r.width)),v=Math.max(d.height,Math.round(r.height)),b=(p-d.width)*c[0],C=(v-d.height)*c[1];(h>0||m>0||b||C)&&(o.push({id:u,type:"position",position:{x:a.position.x-h+b,y:a.position.y-m+C}}),(y=n.get(u))==null||y.forEach(E=>{t.some(S=>S.id===E.id)||o.push({id:E.id,type:"position",position:{x:E.position.x+h,y:E.position.y+m}})})),(d.width<r.width||d.height<r.height||h||m)&&o.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:p+(h?c[0]*h-b:0),height:v+(m?c[1]*m-C:0)}})}),o}function vg(t,e,n,i,o,l){const s=i==null?void 0:i.querySelector(".xyflow__viewport");let r=!1;if(!s)return{changes:[],updatedInternals:r};const a=[],u=window.getComputedStyle(s),{m22:f}=new window.DOMMatrixReadOnly(u.transform),d=[];for(const c of t.values()){const h=e.get(c.id);if(!h)continue;if(h.hidden){e.set(h.id,{...h,internals:{...h.internals,handleBounds:void 0}}),r=!0;continue}const m=Ea(c.nodeElement),p=h.measured.width!==m.width||h.measured.height!==m.height;if(!!(m.width&&m.height&&(p||!h.internals.handleBounds||c.force))){const b=c.nodeElement.getBoundingClientRect(),C=An(h.extent)?h.extent:l;let{positionAbsolute:y}=h.internals;h.parentId&&h.extent==="parent"?y=Sa(y,m,e.get(h.parentId)):C&&(y=en(y,C,m));const E={...h,measured:m,internals:{...h.internals,positionAbsolute:y,handleBounds:{source:Yl("source",c.nodeElement,b,f,h.id),target:Yl("target",c.nodeElement,b,f,h.id)}}};e.set(h.id,E),h.parentId&&$o(E,e,n,{nodeOrigin:o}),r=!0,p&&(a.push({id:h.id,type:"dimensions",dimensions:m}),h.expandParent&&h.parentId&&d.push({id:h.id,parentId:h.parentId,rect:Pn(E,o)}))}}if(d.length>0){const c=bg(d,e,n,o);a.push(...c)}return{changes:a,updatedInternals:r}}async function yg({delta:t,panZoom:e,transform:n,translateExtent:i,width:o,height:l}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const s=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[o,l]],i),r=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(r)}function Jl(t,e,n,i,o,l){let s=o;const r=i.get(s)||new Map;i.set(s,r.set(n,e)),s=`${o}-${t}`;const a=i.get(s)||new Map;if(i.set(s,a.set(n,e)),l){s=`${o}-${t}-${l}`;const u=i.get(s)||new Map;i.set(s,u.set(n,e))}}function Ha(t,e,n){t.clear(),e.clear();for(const i of n){const{source:o,target:l,sourceHandle:s=null,targetHandle:r=null}=i,a={edgeId:i.id,source:o,target:l,sourceHandle:s,targetHandle:r},u=`${o}-${s}--${l}-${r}`,f=`${l}-${r}--${o}-${s}`;Jl("source",a,f,t,o,s),Jl("target",a,u,t,l,r),e.set(i.id,i)}}function Da(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:Da(n,e):!1}function Ql(t,e,n){var o;let i=t;do{if((o=i==null?void 0:i.matches)!=null&&o.call(i,e))return!0;if(i===n)return!1;i=i==null?void 0:i.parentElement}while(i);return!1}function wg(t,e,n,i){const o=new Map;for(const[l,s]of t)if((s.selected||s.id===i)&&(!s.parentId||!Da(s,t))&&(s.draggable||e&&typeof s.draggable>"u")){const r=t.get(l);r&&o.set(l,{id:l,position:r.position||{x:0,y:0},distance:{x:n.x-r.internals.positionAbsolute.x,y:n.y-r.internals.positionAbsolute.y},extent:r.extent,parentId:r.parentId,origin:r.origin,expandParent:r.expandParent,internals:{positionAbsolute:r.internals.positionAbsolute||{x:0,y:0}},measured:{width:r.measured.width??0,height:r.measured.height??0}})}return o}function po({nodeId:t,dragItems:e,nodeLookup:n,dragging:i=!0}){var s,r,a;const o=[];for(const[u,f]of e){const d=(s=n.get(u))==null?void 0:s.internals.userNode;d&&o.push({...d,position:f.position,dragging:i})}if(!t)return[o[0],o];const l=(r=n.get(t))==null?void 0:r.internals.userNode;return[l?{...l,position:((a=e.get(t))==null?void 0:a.position)||l.position,dragging:i}:o[0],o]}function kg({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:i,onDragStop:o}){let l={x:null,y:null},s=0,r=new Map,a=!1,u={x:0,y:0},f=null,d=!1,c=null,h=!1;function m({noDragClassName:v,handleSelector:b,domNode:C,isSelectable:y,nodeId:E,nodeClickDistance:S=0}){c=gt(C);function N({x:H,y:M},I){const{nodeLookup:R,nodeExtent:k,snapGrid:P,snapToGrid:O,nodeOrigin:V,onNodeDrag:j,onSelectionDrag:X,onError:ee,updateNodePositions:q}=e();l={x:H,y:M};let te=!1,U={x:0,y:0,x2:0,y2:0};if(r.size>1&&k){const J=ti(r);U=Io(J)}for(const[J,ue]of r){if(!R.has(J))continue;let me={x:H-ue.distance.x,y:M-ue.distance.y};O&&(me=Uo(me,P));let le=[[k[0][0],k[0][1]],[k[1][0],k[1][1]]];if(r.size>1&&k&&!ue.extent){const{positionAbsolute:be}=ue.internals,oe=be.x-U.x+k[0][0],_e=be.x+ue.measured.width-U.x2+k[1][0],Ie=be.y-U.y+k[0][1],K=be.y+ue.measured.height-U.y2+k[1][1];le=[[oe,Ie],[_e,K]]}const{position:ve,positionAbsolute:ne}=G1({nodeId:J,nextPosition:me,nodeLookup:R,nodeExtent:le,nodeOrigin:V,onError:ee});te=te||ue.position.x!==ve.x||ue.position.y!==ve.y,ue.position=ve,ue.internals.positionAbsolute=ne}if(te&&(q(r,!0),I&&(i||j||!E&&X))){const[J,ue]=po({nodeId:E,dragItems:r,nodeLookup:R});i==null||i(I,r,J,ue),j==null||j(I,J,ue),E||X==null||X(I,ue)}}async function w(){if(!f)return;const{transform:H,panBy:M,autoPanSpeed:I,autoPanOnNodeDrag:R}=e();if(!R){a=!1,cancelAnimationFrame(s);return}const[k,P]=Ca(u,f,I);(k!==0||P!==0)&&(l.x=(l.x??0)-k/H[2],l.y=(l.y??0)-P/H[2],await M({x:k,y:P})&&N(l,null)),s=requestAnimationFrame(w)}function T(H){var te;const{nodeLookup:M,multiSelectionActive:I,nodesDraggable:R,transform:k,snapGrid:P,snapToGrid:O,selectNodesOnDrag:V,onNodeDragStart:j,onSelectionDragStart:X,unselectNodesAndEdges:ee}=e();d=!0,(!V||!y)&&!I&&E&&((te=M.get(E))!=null&&te.selected||ee()),y&&V&&E&&(t==null||t(E));const q=Vn(H.sourceEvent,{transform:k,snapGrid:P,snapToGrid:O,containerBounds:f});if(l=q,r=wg(M,R,q,E),r.size>0&&(n||j||!E&&X)){const[U,J]=po({nodeId:E,dragItems:r,nodeLookup:M});n==null||n(H.sourceEvent,r,U,J),j==null||j(H.sourceEvent,U,J),E||X==null||X(H.sourceEvent,J)}}const A=la().clickDistance(S).on("start",H=>{const{domNode:M,nodeDragThreshold:I,transform:R,snapGrid:k,snapToGrid:P}=e();f=(M==null?void 0:M.getBoundingClientRect())||null,h=!1,I===0&&T(H),l=Vn(H.sourceEvent,{transform:R,snapGrid:k,snapToGrid:P,containerBounds:f}),u=Wt(H.sourceEvent,f)}).on("drag",H=>{const{autoPanOnNodeDrag:M,transform:I,snapGrid:R,snapToGrid:k,nodeDragThreshold:P,nodeLookup:O}=e(),V=Vn(H.sourceEvent,{transform:I,snapGrid:R,snapToGrid:k,containerBounds:f});if((H.sourceEvent.type==="touchmove"&&H.sourceEvent.touches.length>1||E&&!O.has(E))&&(h=!0),!h){if(!a&&M&&d&&(a=!0,w()),!d){const j=V.xSnapped-(l.x??0),X=V.ySnapped-(l.y??0);Math.sqrt(j*j+X*X)>P&&T(H)}(l.x!==V.xSnapped||l.y!==V.ySnapped)&&r&&d&&(u=Wt(H.sourceEvent,f),N(V,H.sourceEvent))}}).on("end",H=>{if(!(!d||h)&&(a=!1,d=!1,cancelAnimationFrame(s),r.size>0)){const{nodeLookup:M,updateNodePositions:I,onNodeDragStop:R,onSelectionDragStop:k}=e();if(I(r,!1),o||R||!E&&k){const[P,O]=po({nodeId:E,dragItems:r,nodeLookup:M,dragging:!1});o==null||o(H.sourceEvent,r,P,O),R==null||R(H.sourceEvent,P,O),E||k==null||k(H.sourceEvent,O)}}}).filter(H=>{const M=H.target;return!H.button&&(!v||!Ql(M,`.${v}`,C))&&(!b||Ql(M,b,C))});c.call(A)}function p(){c==null||c.on(".drag",null)}return{update:m,destroy:p}}function Sg(t,e,n){const i=[],o={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const l of e.values())Gn(o,Pn(l))>0&&i.push(l);return i}const Cg=250;function zg(t,e,n,i){var r,a;let o=[],l=1/0;const s=Sg(t,n,e+Cg);for(const u of s){const f=[...((r=u.internals.handleBounds)==null?void 0:r.source)??[],...((a=u.internals.handleBounds)==null?void 0:a.target)??[]];for(const d of f){if(i.nodeId===d.nodeId&&i.type===d.type&&i.id===d.id)continue;const{x:c,y:h}=Un(u,d,d.position,!0),m=Math.sqrt(Math.pow(c-t.x,2)+Math.pow(h-t.y,2));m>e||(m<l?(o=[{...d,x:c,y:h}],l=m):m===l&&o.push({...d,x:c,y:h}))}}if(!o.length)return null;if(o.length>1){const u=i.type==="source"?"target":"source";return o.find(f=>f.type===u)??o[0]}return o[0]}function Ia(t,e,n,i,o,l=!1){var u,f,d;const s=i.get(t);if(!s)return null;const r=o==="strict"?(u=s.internals.handleBounds)==null?void 0:u[e]:[...((f=s.internals.handleBounds)==null?void 0:f.source)??[],...((d=s.internals.handleBounds)==null?void 0:d.target)??[]],a=(n?r==null?void 0:r.find(c=>c.id===n):r==null?void 0:r[0])??null;return a&&l?{...a,...Un(s,a,a.position,!0)}:a}function Wa(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function Eg(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const La=()=>!0;function Ng(t,{connectionMode:e,connectionRadius:n,handleId:i,nodeId:o,edgeUpdaterType:l,isTarget:s,domNode:r,nodeLookup:a,lib:u,autoPanOnConnect:f,flowId:d,panBy:c,cancelConnection:h,onConnectStart:m,onConnect:p,onConnectEnd:v,isValidConnection:b=La,onReconnectEnd:C,updateConnection:y,getTransform:E,getFromHandle:S,autoPanSpeed:N}){const w=eg(t.target);let T=0,A;const{x:H,y:M}=Wt(t),I=w==null?void 0:w.elementFromPoint(H,M),R=Wa(l,I),k=r==null?void 0:r.getBoundingClientRect();if(!k||!R)return;const P=Ia(o,R,i,a,e);if(!P)return;let O=Wt(t,k),V=!1,j=null,X=!1,ee=null;function q(){if(!f||!k)return;const[ne,be]=Ca(O,k,N);c({x:ne,y:be}),T=requestAnimationFrame(q)}const te={...P,nodeId:o,type:R,position:P.position},U=a.get(o),ue={inProgress:!0,isValid:null,from:Un(U,te,ke.Left,!0),fromHandle:te,fromPosition:te.position,fromNode:U,to:O,toHandle:null,toPosition:Rl[te.position],toNode:null};y(ue);let me=ue;m==null||m(t,{nodeId:o,handleId:i,handleType:R});function le(ne){if(!S()||!te){ve(ne);return}const be=E();O=Wt(ne,k),A=zg(ni(O,be,!1,[1,1]),n,a,te),V||(q(),V=!0);const oe=Ra(ne,{handle:A,connectionMode:e,fromNodeId:o,fromHandleId:i,fromType:s?"target":"source",isValidConnection:b,doc:w,lib:u,flowId:d,nodeLookup:a});ee=oe.handleDomNode,j=oe.connection,X=Eg(!!A,oe.isValid);const _e={...me,isValid:X,to:A&&X?Li({x:A.x,y:A.y},be):O,toHandle:oe.toHandle,toPosition:X&&oe.toHandle?oe.toHandle.position:Rl[te.position],toNode:oe.toHandle?a.get(oe.toHandle.nodeId):null};X&&A&&me.toHandle&&_e.toHandle&&me.toHandle.type===_e.toHandle.type&&me.toHandle.nodeId===_e.toHandle.nodeId&&me.toHandle.id===_e.toHandle.id&&me.to.x===_e.to.x&&me.to.y===_e.to.y||(y(_e),me=_e)}function ve(ne){(A||ee)&&j&&X&&(p==null||p(j));const{inProgress:be,...oe}=me,_e={...oe,toPosition:me.toHandle?me.toPosition:null};v==null||v(ne,_e),l&&(C==null||C(ne,_e)),h(),cancelAnimationFrame(T),V=!1,X=!1,j=null,ee=null,w.removeEventListener("mousemove",le),w.removeEventListener("mouseup",ve),w.removeEventListener("touchmove",le),w.removeEventListener("touchend",ve)}w.addEventListener("mousemove",le),w.addEventListener("mouseup",ve),w.addEventListener("touchmove",le),w.addEventListener("touchend",ve)}function Ra(t,{handle:e,connectionMode:n,fromNodeId:i,fromHandleId:o,fromType:l,doc:s,lib:r,flowId:a,isValidConnection:u=La,nodeLookup:f}){const d=l==="target",c=e?s.querySelector(`.${r}-flow__handle[data-id="${a}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:h,y:m}=Wt(t),p=s.elementFromPoint(h,m),v=p!=null&&p.classList.contains(`${r}-flow__handle`)?p:c,b={handleDomNode:v,isValid:!1,connection:null,toHandle:null};if(v){const C=Wa(void 0,v),y=v.getAttribute("data-nodeid"),E=v.getAttribute("data-handleid"),S=v.classList.contains("connectable"),N=v.classList.contains("connectableend");if(!y||!C)return b;const w={source:d?y:i,sourceHandle:d?E:o,target:d?i:y,targetHandle:d?o:E};b.connection=w;const A=S&&N&&(n===Ft.Strict?d&&C==="source"||!d&&C==="target":y!==i||E!==o);b.isValid=A&&u(w),b.toHandle=Ia(y,C,E,f,n,!1)}return b}const Mg={onPointerDown:Ng,isValid:Ra};function Pg({domNode:t,panZoom:e,getTransform:n,getViewScale:i}){const o=gt(t);function l({translateExtent:r,width:a,height:u,zoomStep:f=10,pannable:d=!0,zoomable:c=!0,inversePan:h=!1}){const m=y=>{const E=n();if(y.sourceEvent.type!=="wheel"||!e)return;const S=-y.sourceEvent.deltaY*(y.sourceEvent.deltaMode===1?.05:y.sourceEvent.deltaMode?1:.002)*f,N=E[2]*Math.pow(2,S);e.scaleTo(N)};let p=[0,0];const v=y=>{(y.sourceEvent.type==="mousedown"||y.sourceEvent.type==="touchstart")&&(p=[y.sourceEvent.clientX??y.sourceEvent.touches[0].clientX,y.sourceEvent.clientY??y.sourceEvent.touches[0].clientY])},b=y=>{const E=n();if(y.sourceEvent.type!=="mousemove"&&y.sourceEvent.type!=="touchmove"||!e)return;const S=[y.sourceEvent.clientX??y.sourceEvent.touches[0].clientX,y.sourceEvent.clientY??y.sourceEvent.touches[0].clientY],N=[S[0]-p[0],S[1]-p[1]];p=S;const w=i()*Math.max(E[2],Math.log(E[2]))*(h?-1:1),T={x:E[0]-N[0]*w,y:E[1]-N[1]*w},A=[[0,0],[a,u]];e.setViewportConstrained({x:T.x,y:T.y,zoom:E[2]},A,r)},C=ya().on("start",v).on("zoom",d?b:null).on("zoom.wheel",c?m:null);o.call(C,{})}function s(){o.on("zoom",null)}return{update:l,destroy:s,pointer:wt}}const Ag=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,Qi=t=>({x:t.x,y:t.y,zoom:t.k}),bo=({x:t,y:e,zoom:n})=>Gi.translate(t,e).scale(n),_n=(t,e)=>t.target.closest(`.${e}`),Va=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),vo=(t,e=0,n=()=>{})=>{const i=typeof e=="number"&&e>0;return i||n(),i?t.transition().duration(e).on("end",n):t},ja=t=>{const e=t.ctrlKey&&Ri()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function Og({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:i,panOnScrollMode:o,panOnScrollSpeed:l,zoomOnPinch:s,onPanZoomStart:r,onPanZoom:a,onPanZoomEnd:u}){return f=>{if(_n(f,e))return!1;f.preventDefault(),f.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(f.ctrlKey&&s){const v=wt(f),b=ja(f),C=d*Math.pow(2,b);i.scaleTo(n,C,v,f);return}const c=f.deltaMode===1?20:1;let h=o===Pt.Vertical?0:f.deltaX*c,m=o===Pt.Horizontal?0:f.deltaY*c;!Ri()&&f.shiftKey&&o!==Pt.Vertical&&(h=f.deltaY*c,m=0),i.translateBy(n,-(h/d)*l,-(m/d)*l,{internal:!0});const p=Qi(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,r==null||r(f,p)),t.isPanScrolling&&(a==null||a(f,p),t.panScrollTimeout=setTimeout(()=>{u==null||u(f,p),t.isPanScrolling=!1},150))}}function Tg({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(i,o){const l=i.type==="wheel",s=!e&&l&&!i.ctrlKey,r=_n(i,t);if(i.ctrlKey&&l&&r&&i.preventDefault(),s||r)return null;i.preventDefault(),n.call(this,i,o)}}function Hg({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return i=>{var l,s,r;if((l=i.sourceEvent)!=null&&l.internal)return;const o=Qi(i.transform);t.mouseButton=((s=i.sourceEvent)==null?void 0:s.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=o,((r=i.sourceEvent)==null?void 0:r.type)==="mousedown"&&e(!0),n&&(n==null||n(i.sourceEvent,o))}}function Dg({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:i,onPanZoom:o}){return l=>{var s,r;t.usedRightMouseButton=!!(n&&Va(e,t.mouseButton??0)),(s=l.sourceEvent)!=null&&s.sync||i([l.transform.x,l.transform.y,l.transform.k]),o&&!((r=l.sourceEvent)!=null&&r.internal)&&(o==null||o(l.sourceEvent,Qi(l.transform)))}}function Ig({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:i,onPanZoomEnd:o,onPaneContextMenu:l}){return s=>{var r;if(!((r=s.sourceEvent)!=null&&r.internal)&&(t.isZoomingOrPanning=!1,l&&Va(e,t.mouseButton??0)&&!t.usedRightMouseButton&&s.sourceEvent&&l(s.sourceEvent),t.usedRightMouseButton=!1,i(!1),o&&Ag(t.prevViewport,s.transform))){const a=Qi(s.transform);t.prevViewport=a,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{o==null||o(s.sourceEvent,a)},n?150:0)}}}function Wg({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:i,panOnScroll:o,zoomOnDoubleClick:l,userSelectionActive:s,noWheelClassName:r,noPanClassName:a,lib:u}){return f=>{var m;const d=t||e,c=n&&f.ctrlKey;if(f.button===1&&f.type==="mousedown"&&(_n(f,`${u}-flow__node`)||_n(f,`${u}-flow__edge`)))return!0;if(!i&&!d&&!o&&!l&&!n||s||_n(f,r)&&f.type==="wheel"||_n(f,a)&&(f.type!=="wheel"||o&&f.type==="wheel"&&!t)||!n&&f.ctrlKey&&f.type==="wheel")return!1;if(!n&&f.type==="touchstart"&&((m=f.touches)==null?void 0:m.length)>1)return f.preventDefault(),!1;if(!d&&!o&&!c&&f.type==="wheel"||!i&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(i)&&!i.includes(f.button)&&f.type==="mousedown")return!1;const h=Array.isArray(i)&&i.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||f.type==="wheel")&&h}}function Lg({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:i,translateExtent:o,viewport:l,onPanZoom:s,onPanZoomStart:r,onPanZoomEnd:a,onDraggingChange:u}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=t.getBoundingClientRect(),c=ya().clickDistance(!St(i)||i<0?0:i).scaleExtent([e,n]).translateExtent(o),h=gt(t).call(c);y({x:l.x,y:l.y,zoom:Mn(l.zoom,e,n)},[[0,0],[d.width,d.height]],o);const m=h.on("wheel.zoom"),p=h.on("dblclick.zoom");c.wheelDelta(ja);function v(I,R){return h?new Promise(k=>{c==null||c.transform(vo(h,R==null?void 0:R.duration,()=>k(!0)),I)}):Promise.resolve(!1)}function b({noWheelClassName:I,noPanClassName:R,onPaneContextMenu:k,userSelectionActive:P,panOnScroll:O,panOnDrag:V,panOnScrollMode:j,panOnScrollSpeed:X,preventScrolling:ee,zoomOnPinch:q,zoomOnScroll:te,zoomOnDoubleClick:U,zoomActivationKeyPressed:J,lib:ue,onTransformChange:me}){P&&!f.isZoomingOrPanning&&C();const ve=O&&!J&&!P?Og({zoomPanValues:f,noWheelClassName:I,d3Selection:h,d3Zoom:c,panOnScrollMode:j,panOnScrollSpeed:X,zoomOnPinch:q,onPanZoomStart:r,onPanZoom:s,onPanZoomEnd:a}):Tg({noWheelClassName:I,preventScrolling:ee,d3ZoomHandler:m});if(h.on("wheel.zoom",ve,{passive:!1}),!P){const be=Hg({zoomPanValues:f,onDraggingChange:u,onPanZoomStart:r});c.on("start",be);const oe=Dg({zoomPanValues:f,panOnDrag:V,onPaneContextMenu:!!k,onPanZoom:s,onTransformChange:me});c.on("zoom",oe);const _e=Ig({zoomPanValues:f,panOnDrag:V,panOnScroll:O,onPaneContextMenu:k,onPanZoomEnd:a,onDraggingChange:u});c.on("end",_e)}const ne=Wg({zoomActivationKeyPressed:J,panOnDrag:V,zoomOnScroll:te,panOnScroll:O,zoomOnDoubleClick:U,zoomOnPinch:q,userSelectionActive:P,noPanClassName:R,noWheelClassName:I,lib:ue});c.filter(ne),U?h.on("dblclick.zoom",p):h.on("dblclick.zoom",null)}function C(){c.on("zoom",null)}async function y(I,R,k){const P=bo(I),O=c==null?void 0:c.constrain()(P,R,k);return O&&await v(O),new Promise(V=>V(O))}async function E(I,R){const k=bo(I);return await v(k,R),new Promise(P=>P(k))}function S(I){if(h){const R=bo(I),k=h.property("__zoom");(k.k!==I.zoom||k.x!==I.x||k.y!==I.y)&&(c==null||c.transform(h,R,null,{sync:!0}))}}function N(){const I=h?va(h.node()):{x:0,y:0,k:1};return{x:I.x,y:I.y,zoom:I.k}}function w(I,R){return h?new Promise(k=>{c==null||c.scaleTo(vo(h,R==null?void 0:R.duration,()=>k(!0)),I)}):Promise.resolve(!1)}function T(I,R){return h?new Promise(k=>{c==null||c.scaleBy(vo(h,R==null?void 0:R.duration,()=>k(!0)),I)}):Promise.resolve(!1)}function A(I){c==null||c.scaleExtent(I)}function H(I){c==null||c.translateExtent(I)}function M(I){const R=!St(I)||I<0?0:I;c==null||c.clickDistance(R)}return{update:b,destroy:C,setViewport:E,setViewportConstrained:y,getViewport:N,scaleTo:w,scaleBy:T,setScaleExtent:A,setTranslateExtent:H,syncViewport:S,setClickDistance:M}}var wn;(function(t){t.Line="line",t.Handle="handle"})(wn||(wn={}));const xl=["top-left","top-right","bottom-left","bottom-right"],$l=["top","right","bottom","left"];function Rg({width:t,prevWidth:e,height:n,prevHeight:i,affectsX:o,affectsY:l}){const s=t-e,r=n-i,a=[s>0?1:s<0?-1:0,r>0?1:r<0?-1:0];return s&&o&&(a[0]=a[0]*-1),r&&l&&(a[1]=a[1]*-1),a}function Vg(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),i=t.includes("left"),o=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:i,affectsY:o}}function jt(t,e){return Math.max(0,e-t)}function Xt(t,e){return Math.max(0,t-e)}function gi(t,e,n){return Math.max(0,e-t,t-n)}function er(t,e){return t?!e:e}function jg(t,e,n,i,o,l,s,r){let{affectsX:a,affectsY:u}=e;const{isHorizontal:f,isVertical:d}=e,c=f&&d,{xSnapped:h,ySnapped:m}=n,{minWidth:p,maxWidth:v,minHeight:b,maxHeight:C}=i,{x:y,y:E,width:S,height:N,aspectRatio:w}=t;let T=Math.floor(f?h-t.pointerX:0),A=Math.floor(d?m-t.pointerY:0);const H=S+(a?-T:T),M=N+(u?-A:A),I=-l[0]*S,R=-l[1]*N;let k=gi(H,p,v),P=gi(M,b,C);if(s){let j=0,X=0;a&&T<0?j=jt(y+T+I,s[0][0]):!a&&T>0&&(j=Xt(y+H+I,s[1][0])),u&&A<0?X=jt(E+A+R,s[0][1]):!u&&A>0&&(X=Xt(E+M+R,s[1][1])),k=Math.max(k,j),P=Math.max(P,X)}if(r){let j=0,X=0;a&&T>0?j=Xt(y+T,r[0][0]):!a&&T<0&&(j=jt(y+H,r[1][0])),u&&A>0?X=Xt(E+A,r[0][1]):!u&&A<0&&(X=jt(E+M,r[1][1])),k=Math.max(k,j),P=Math.max(P,X)}if(o){if(f){const j=gi(H/w,b,C)*w;if(k=Math.max(k,j),s){let X=0;!a&&!u||a&&!u&&c?X=Xt(E+R+H/w,s[1][1])*w:X=jt(E+R+(a?T:-T)/w,s[0][1])*w,k=Math.max(k,X)}if(r){let X=0;!a&&!u||a&&!u&&c?X=jt(E+H/w,r[1][1])*w:X=Xt(E+(a?T:-T)/w,r[0][1])*w,k=Math.max(k,X)}}if(d){const j=gi(M*w,p,v)/w;if(P=Math.max(P,j),s){let X=0;!a&&!u||u&&!a&&c?X=Xt(y+M*w+I,s[1][0])/w:X=jt(y+(u?A:-A)*w+I,s[0][0])/w,P=Math.max(P,X)}if(r){let X=0;!a&&!u||u&&!a&&c?X=jt(y+M*w,r[1][0])/w:X=Xt(y+(u?A:-A)*w,r[0][0])/w,P=Math.max(P,X)}}}A=A+(A<0?P:-P),T=T+(T<0?k:-k),o&&(c?H>M*w?A=(er(a,u)?-T:T)/w:T=(er(a,u)?-A:A)*w:f?(A=T/w,u=a):(T=A*w,a=u));const O=a?y+T:y,V=u?E+A:E;return{width:S+(a?-T:T),height:N+(u?-A:A),x:l[0]*T*(a?-1:1)+O,y:l[1]*A*(u?-1:1)+V}}const Xa={width:0,height:0,x:0,y:0},Xg={...Xa,pointerX:0,pointerY:0,aspectRatio:1};function Bg(t){return[[0,0],[t.measured.width,t.measured.height]]}function Yg(t,e,n){const i=e.position.x+t.position.x,o=e.position.y+t.position.y,l=t.measured.width??0,s=t.measured.height??0,r=n[0]*l,a=n[1]*s;return[[i-r,o-a],[i+l-r,o+s-a]]}function Fg({domNode:t,nodeId:e,getStoreItems:n,onChange:i,onEnd:o}){const l=gt(t);function s({controlPosition:a,boundaries:u,keepAspectRatio:f,resizeDirection:d,onResizeStart:c,onResize:h,onResizeEnd:m,shouldResize:p}){let v={...Xa},b={...Xg};const C=Vg(a);let y,E=null,S=[],N,w,T;const A=la().on("start",H=>{const{nodeLookup:M,transform:I,snapGrid:R,snapToGrid:k,nodeOrigin:P,paneDomNode:O}=n();if(y=M.get(e),!y)return;E=(O==null?void 0:O.getBoundingClientRect())??null;const{xSnapped:V,ySnapped:j}=Vn(H.sourceEvent,{transform:I,snapGrid:R,snapToGrid:k,containerBounds:E});v={width:y.measured.width??0,height:y.measured.height??0,x:y.position.x??0,y:y.position.y??0},b={...v,pointerX:V,pointerY:j,aspectRatio:v.width/v.height},N=void 0,y.parentId&&(y.extent==="parent"||y.expandParent)&&(N=M.get(y.parentId),w=N&&y.extent==="parent"?Bg(N):void 0),S=[],T=void 0;for(const[X,ee]of M)if(ee.parentId===e&&(S.push({id:X,position:{...ee.position},extent:ee.extent}),ee.extent==="parent"||ee.expandParent)){const q=Yg(ee,y,ee.origin??P);T?T=[[Math.min(q[0][0],T[0][0]),Math.min(q[0][1],T[0][1])],[Math.max(q[1][0],T[1][0]),Math.max(q[1][1],T[1][1])]]:T=q}c==null||c(H,{...v})}).on("drag",H=>{const{transform:M,snapGrid:I,snapToGrid:R,nodeOrigin:k}=n(),P=Vn(H.sourceEvent,{transform:M,snapGrid:I,snapToGrid:R,containerBounds:E}),O=[];if(!y)return;const{x:V,y:j,width:X,height:ee}=v,q={},te=y.origin??k,{width:U,height:J,x:ue,y:me}=jg(b,C,P,u,f,te,w,T),le=U!==X,ve=J!==ee,ne=ue!==V&&le,be=me!==j&&ve;if(!ne&&!be&&!le&&!ve)return;if((ne||be||te[0]===1||te[1]===1)&&(q.x=ne?ue:v.x,q.y=be?me:v.y,v.x=q.x,v.y=q.y,S.length>0)){const K=ue-V,Ee=me-j;for(const Te of S)Te.position={x:Te.position.x-K+te[0]*(U-X),y:Te.position.y-Ee+te[1]*(J-ee)},O.push(Te)}if((le||ve)&&(q.width=le&&(!d||d==="horizontal")?U:v.width,q.height=ve&&(!d||d==="vertical")?J:v.height,v.width=q.width,v.height=q.height),N&&y.expandParent){const K=te[0]*(q.width??0);q.x&&q.x<K&&(v.x=K,b.x=b.x-(q.x-K));const Ee=te[1]*(q.height??0);q.y&&q.y<Ee&&(v.y=Ee,b.y=b.y-(q.y-Ee))}const oe=Rg({width:v.width,prevWidth:X,height:v.height,prevHeight:ee,affectsX:C.affectsX,affectsY:C.affectsY}),_e={...v,direction:oe};(p==null?void 0:p(H,_e))!==!1&&(h==null||h(H,_e),i(q,O))}).on("end",H=>{m==null||m(H,{...v}),o==null||o({...v})});l.call(A)}function r(){l.on(".drag",null)}return{update:s,destroy:r}}function Kg(t){let e,n,i,o,l,s;const r=t[45].default,a=Ve(r,t,t[44],null);return{c(){e=z("div"),a&&a.c(),g(e,"data-handleid",t[6]),g(e,"data-nodeid",t[14]),g(e,"data-handlepos",t[2]),g(e,"data-id",n=t[13]+"-"+t[14]+"-"+(t[0]||null)+"-"+t[1]),g(e,"class",i=qe(["svelte-flow__handle",`svelte-flow__handle-${t[2]}`,"nodrag","nopan",t[2],t[4]])),g(e,"style",t[3]),g(e,"role","button"),g(e,"tabindex","-1"),ae(e,"valid",t[7]),ae(e,"connectingto",t[5]),ae(e,"connectingfrom",t[9]),ae(e,"source",!t[11]),ae(e,"target",t[11]),ae(e,"connectablestart",t[12]),ae(e,"connectableend",t[12]),ae(e,"connectable",t[12]),ae(e,"connectionindicator",t[12]&&(!t[10]||t[8]))},m(u,f){Y(u,e,f),a&&a.m(e,null),o=!0,l||(s=[G(e,"mousedown",t[32]),G(e,"touchstart",t[32])],l=!0)},p(u,f){a&&a.p&&(!o||f[1]&8192)&&Xe(a,r,u,u[44],o?je(r,u[44],f,null):Be(u[44]),null),(!o||f[0]&64)&&g(e,"data-handleid",u[6]),(!o||f[0]&4)&&g(e,"data-handlepos",u[2]),(!o||f[0]&8195&&n!==(n=u[13]+"-"+u[14]+"-"+(u[0]||null)+"-"+u[1]))&&g(e,"data-id",n),(!o||f[0]&20&&i!==(i=qe(["svelte-flow__handle",`svelte-flow__handle-${u[2]}`,"nodrag","nopan",u[2],u[4]])))&&g(e,"class",i),(!o||f[0]&8)&&g(e,"style",u[3]),(!o||f[0]&148)&&ae(e,"valid",u[7]),(!o||f[0]&52)&&ae(e,"connectingto",u[5]),(!o||f[0]&532)&&ae(e,"connectingfrom",u[9]),(!o||f[0]&2068)&&ae(e,"source",!u[11]),(!o||f[0]&2068)&&ae(e,"target",u[11]),(!o||f[0]&4116)&&ae(e,"connectablestart",u[12]),(!o||f[0]&4116)&&ae(e,"connectableend",u[12]),(!o||f[0]&4116)&&ae(e,"connectable",u[12]),(!o||f[0]&5396)&&ae(e,"connectionindicator",u[12]&&(!u[10]||u[8]))},i(u){o||(D(a,u),o=!0)},o(u){W(a,u),o=!1},d(u){u&&B(e),a&&a.d(u),l=!1,He(s)}}}function qg(t,e,n){let i,o,l,s,r,a,u,f,d,c,h,m,p,v,b,C,y,E,S,N,w,T,A,H,M,{$$slots:I={},$$scope:R}=e,{id:k=void 0}=e,{type:P="source"}=e,{position:O=ke.Top}=e,{style:V=void 0}=e,{isValidConnection:j=void 0}=e,{onconnect:X=void 0}=e,{ondisconnect:ee=void 0}=e,{isConnectable:q=void 0}=e,{class:te=void 0}=e;const U=Bn("svelteflow__node_id"),J=Bn("svelteflow__node_connectable");re(t,J,Z=>n(43,M=Z));const ue=ot(),{connectionMode:me,domNode:le,nodeLookup:ve,connectionRadius:ne,viewport:be,isValidConnection:oe,lib:_e,addEdge:Ie,onedgecreate:K,panBy:Ee,cancelConnection:Te,updateConnection:Le,autoPanOnConnect:Ce,edges:Ke,connectionLookup:nt,onconnect:_t,onconnectstart:he,onconnectend:pt,flowId:vt,connection:Ue}=ue;re(t,me,Z=>n(40,c=Z)),re(t,le,Z=>n(55,A=Z)),re(t,ve,Z=>n(54,T=Z)),re(t,ne,Z=>n(56,H=Z)),re(t,be,Z=>n(46,p=Z)),re(t,oe,Z=>n(51,E=Z)),re(t,_e,Z=>n(53,w=Z)),re(t,K,Z=>n(50,y=Z)),re(t,Ce,Z=>n(52,N=Z)),re(t,Ke,Z=>n(42,m=Z)),re(t,nt,Z=>n(41,h=Z)),re(t,_t,Z=>n(49,C=Z)),re(t,he,Z=>n(48,b=Z)),re(t,pt,Z=>n(47,v=Z)),re(t,vt,Z=>n(13,S=Z)),re(t,Ue,Z=>n(39,d=Z));function it(Z){const Je=Na(Z);(Je&&Z.button===0||!Je)&&Mg.onPointerDown(Z,{handleId:l,nodeId:U,isTarget:i,connectionRadius:H,domNode:A,nodeLookup:T,connectionMode:c,lib:w,autoPanOnConnect:N,flowId:S,isValidConnection:j??E,updateConnection:Le,cancelConnection:Te,panBy:Ee,onConnect:Re=>{const $e=y?y(Re):Re;$e&&(Ie($e),C==null||C(Re))},onConnectStart:(Re,$e)=>{b==null||b(Re,{nodeId:$e.nodeId,handleId:$e.handleId,handleType:$e.handleType})},onConnectEnd:(Re,$e)=>{v==null||v(Re,$e)},getTransform:()=>[p.x,p.y,p.zoom],getFromHandle:()=>d.fromHandle})}let Ze=null,Qe;return t.$$set=Z=>{"id"in Z&&n(0,k=Z.id),"type"in Z&&n(1,P=Z.type),"position"in Z&&n(2,O=Z.position),"style"in Z&&n(3,V=Z.style),"isValidConnection"in Z&&n(33,j=Z.isValidConnection),"onconnect"in Z&&n(34,X=Z.onconnect),"ondisconnect"in Z&&n(35,ee=Z.ondisconnect),"isConnectable"in Z&&n(36,q=Z.isConnectable),"class"in Z&&n(4,te=Z.class),"$$scope"in Z&&n(44,R=Z.$$scope)},t.$$.update=()=>{var Z,Je,Re,$e,Ot,Tt,Me,lt,yt;if(t.$$.dirty[0]&2&&n(11,i=P==="target"),t.$$.dirty[1]&4128&&n(12,o=q!==void 0?q:M),t.$$.dirty[0]&1&&n(6,l=k||null),t.$$.dirty[0]&3|t.$$.dirty[1]&3096&&(X||ee)&&n(38,Qe=h.get(`${U}-${P}${k?`-${k}`:""}`)),t.$$.dirty[1]&216){if(Ze&&!B1(Qe,Ze)){const Et=Qe??new Map;Vl(Ze,Et,ee),Vl(Et,Ze,X)}n(37,Ze=Qe??new Map)}t.$$.dirty[1]&256&&n(10,s=!!d.fromHandle),t.$$.dirty[0]&66|t.$$.dirty[1]&256&&n(9,r=((Z=d.fromHandle)==null?void 0:Z.nodeId)===U&&((Je=d.fromHandle)==null?void 0:Je.type)===P&&((Re=d.fromHandle)==null?void 0:Re.id)===l),t.$$.dirty[0]&66|t.$$.dirty[1]&256&&n(5,a=(($e=d.toHandle)==null?void 0:$e.nodeId)===U&&((Ot=d.toHandle)==null?void 0:Ot.type)===P&&((Tt=d.toHandle)==null?void 0:Tt.id)===l),t.$$.dirty[0]&66|t.$$.dirty[1]&768&&n(8,u=c===Ft.Strict?((Me=d.fromHandle)==null?void 0:Me.type)!==P:U!==((lt=d.fromHandle)==null?void 0:lt.nodeId)||l!==((yt=d.fromHandle)==null?void 0:yt.id)),t.$$.dirty[0]&32|t.$$.dirty[1]&256&&n(7,f=a&&d.isValid)},[k,P,O,V,te,a,l,f,u,r,s,i,o,S,U,J,me,le,ve,ne,be,oe,_e,K,Ce,Ke,nt,_t,he,pt,vt,Ue,it,j,X,ee,q,Ze,Qe,d,c,h,m,M,R,I]}class st extends de{constructor(e){super(),fe(this,e,qg,Kg,ce,{id:0,type:1,position:2,style:3,isValidConnection:33,onconnect:34,ondisconnect:35,isConnectable:36,class:4},null,[-1,-1])}}function Zg(t){var a;let e,n,i=((a=t[0])==null?void 0:a.label)+"",o,l,s,r;return e=new st({props:{type:"target",position:t[1]??ke.Top}}),s=new st({props:{type:"source",position:t[2]??ke.Bottom}}),{c(){$(e.$$.fragment),n=L(),o=pe(i),l=L(),$(s.$$.fragment)},m(u,f){Q(e,u,f),Y(u,n,f),Y(u,o,f),Y(u,l,f),Q(s,u,f),r=!0},p(u,[f]){var h;const d={};f&2&&(d.position=u[1]??ke.Top),e.$set(d),(!r||f&1)&&i!==(i=((h=u[0])==null?void 0:h.label)+"")&&Oe(o,i);const c={};f&4&&(c.position=u[2]??ke.Bottom),s.$set(c)},i(u){r||(D(e.$$.fragment,u),D(s.$$.fragment,u),r=!0)},o(u){W(e.$$.fragment,u),W(s.$$.fragment,u),r=!1},d(u){u&&(B(n),B(o),B(l)),x(e,u),x(s,u)}}}function Gg(t,e,n){const i=["data","targetPosition","sourcePosition"];et(e,i);let{data:o={label:"Node"}}=e,{targetPosition:l=void 0}=e,{sourcePosition:s=void 0}=e;return t.$$set=r=>{e=se(se({},e),Ne(r)),n(3,et(e,i)),"data"in r&&n(0,o=r.data),"targetPosition"in r&&n(1,l=r.targetPosition),"sourcePosition"in r&&n(2,s=r.sourcePosition)},[o,l,s]}class Ba extends de{constructor(e){super(),fe(this,e,Gg,Zg,ce,{data:0,targetPosition:1,sourcePosition:2})}}function Ug(t){var s;let e=((s=t[0])==null?void 0:s.label)+"",n,i,o,l;return o=new st({props:{type:"source",position:t[1]??ke.Bottom}}),{c(){n=pe(e),i=L(),$(o.$$.fragment)},m(r,a){Y(r,n,a),Y(r,i,a),Q(o,r,a),l=!0},p(r,[a]){var f;(!l||a&1)&&e!==(e=((f=r[0])==null?void 0:f.label)+"")&&Oe(n,e);const u={};a&2&&(u.position=r[1]??ke.Bottom),o.$set(u)},i(r){l||(D(o.$$.fragment,r),l=!0)},o(r){W(o.$$.fragment,r),l=!1},d(r){r&&(B(n),B(i)),x(o,r)}}}function Jg(t,e,n){const i=["data","sourcePosition"];et(e,i);let{data:o={label:"Node"}}=e,{sourcePosition:l=void 0}=e;return t.$$set=s=>{e=se(se({},e),Ne(s)),n(2,et(e,i)),"data"in s&&n(0,o=s.data),"sourcePosition"in s&&n(1,l=s.sourcePosition)},[o,l]}class Qg extends de{constructor(e){super(),fe(this,e,Jg,Ug,ce,{data:0,sourcePosition:1})}}function xg(t){var s;let e=((s=t[0])==null?void 0:s.label)+"",n,i,o,l;return o=new st({props:{type:"target",position:t[1]??ke.Top}}),{c(){n=pe(e),i=L(),$(o.$$.fragment)},m(r,a){Y(r,n,a),Y(r,i,a),Q(o,r,a),l=!0},p(r,[a]){var f;(!l||a&1)&&e!==(e=((f=r[0])==null?void 0:f.label)+"")&&Oe(n,e);const u={};a&2&&(u.position=r[1]??ke.Top),o.$set(u)},i(r){l||(D(o.$$.fragment,r),l=!0)},o(r){W(o.$$.fragment,r),l=!1},d(r){r&&(B(n),B(i)),x(o,r)}}}function $g(t,e,n){const i=["data","targetPosition"];et(e,i);let{data:o={label:"Node"}}=e,{targetPosition:l=void 0}=e;return t.$$set=s=>{e=se(se({},e),Ne(s)),n(2,et(e,i)),"data"in s&&n(0,o=s.data),"targetPosition"in s&&n(1,l=s.targetPosition)},[o,l]}class em extends de{constructor(e){super(),fe(this,e,$g,xg,ce,{data:0,targetPosition:1})}}function tm(t,e,n){const i=[];return et(e,i),t.$$set=o=>{e=se(se({},e),Ne(o)),n(0,et(e,i))},[]}let nm=class extends de{constructor(e){super(),fe(this,e,tm,null,ce,{})}};function tr(t,e,n){if(!e)return;const i=n?e.querySelector(n):e;i&&i.appendChild(t)}function im(t,{target:e,domNode:n}){return tr(t,n,e),{async update({target:i,domNode:o}){tr(t,o,i)},destroy(){t.parentNode&&t.parentNode.removeChild(t)}}}function om(t){let e,n,i,o,l;const s=t[3].default,r=Ve(s,t,t[2],null);return{c(){e=z("div"),r&&r.c()},m(a,u){Y(a,e,u),r&&r.m(e,null),i=!0,o||(l=ct(n=im.call(null,e,{target:".svelte-flow__edgelabel-renderer",domNode:t[0]})),o=!0)},p(a,[u]){r&&r.p&&(!i||u&4)&&Xe(r,s,a,a[2],i?je(s,a[2],u,null):Be(a[2]),null),n&&tt(n.update)&&u&1&&n.update.call(null,{target:".svelte-flow__edgelabel-renderer",domNode:a[0]})},i(a){i||(D(r,a),i=!0)},o(a){W(r,a),i=!1},d(a){a&&B(e),r&&r.d(a),o=!1,l()}}}function lm(t,e,n){let i,{$$slots:o={},$$scope:l}=e;const{domNode:s}=ot();return re(t,s,r=>n(0,i=r)),t.$$set=r=>{"$$scope"in r&&n(2,l=r.$$scope)},[i,s,l,o]}class rm extends de{constructor(e){super(),fe(this,e,lm,om,ce,{})}}function Ya(){const{edgeLookup:t,selectionRect:e,selectionRectMode:n,multiselectionKeyPressed:i,addSelectedEdges:o,unselectNodesAndEdges:l,elementsSelectable:s}=ot();return r=>{const a=ie(t).get(r);if(!a){console.warn("012",Nn.error012(r));return}(a.selectable||ie(s)&&typeof a.selectable>"u")&&(e.set(null),n.set(null),a.selected?a.selected&&ie(i)&&l({nodes:[],edges:[a]}):o([r]))}}function sm(t){let e,n,i=`translate(-50%, -50%) translate(${t[1]}px,${t[2]}px)`,o,l,s;const r=t[5].default,a=Ve(r,t,t[7],null);return{c(){e=z("div"),a&&a.c(),g(e,"class","svelte-flow__edge-label"),g(e,"style",n="pointer-events: all;"+t[0]),g(e,"role","button"),g(e,"tabindex","-1"),we(e,"transform",i)},m(u,f){Y(u,e,f),a&&a.m(e,null),o=!0,l||(s=[G(e,"keyup",um),G(e,"click",t[6])],l=!0)},p(u,f){a&&a.p&&(!o||f&128)&&Xe(a,r,u,u[7],o?je(r,u[7],f,null):Be(u[7]),null),(!o||f&1&&n!==(n="pointer-events: all;"+u[0]))&&g(e,"style",n);const d=f&1;(f&7&&i!==(i=`translate(-50%, -50%) translate(${u[1]}px,${u[2]}px)`)||d)&&we(e,"transform",i)},i(u){o||(D(a,u),o=!0)},o(u){W(a,u),o=!1},d(u){u&&B(e),a&&a.d(u),l=!1,He(s)}}}function am(t){let e,n;return e=new rm({props:{$$slots:{default:[sm]},$$scope:{ctx:t}}}),{c(){$(e.$$.fragment)},m(i,o){Q(e,i,o),n=!0},p(i,[o]){const l={};o&135&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}const um=()=>{};function cm(t,e,n){let{$$slots:i={},$$scope:o}=e,{style:l=void 0}=e,{x:s=void 0}=e,{y:r=void 0}=e;const a=Ya(),u=Bn("svelteflow__edge_id"),f=()=>{u&&a(u)};return t.$$set=d=>{"style"in d&&n(0,l=d.style),"x"in d&&n(1,s=d.x),"y"in d&&n(2,r=d.y),"$$scope"in d&&n(7,o=d.$$scope)},[l,s,r,a,u,i,f,o]}class fm extends de{constructor(e){super(),fe(this,e,cm,am,ce,{style:0,x:1,y:2})}}function dm(t){let e;return{c(){e=Fe("path"),g(e,"d",t[1]),g(e,"stroke-opacity",0),g(e,"stroke-width",t[10]),g(e,"fill","none"),g(e,"class","svelte-flow__edge-interaction")},m(n,i){Y(n,e,i)},p(n,i){i&2&&g(e,"d",n[1])},d(n){n&&B(e)}}}function nr(t){let e,n;return e=new fm({props:{x:t[3],y:t[4],style:t[5],$$slots:{default:[hm]},$$scope:{ctx:t}}}),{c(){$(e.$$.fragment)},m(i,o){Q(e,i,o),n=!0},p(i,o){const l={};o&8&&(l.x=i[3]),o&16&&(l.y=i[4]),o&32&&(l.style=i[5]),o&4100&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function hm(t){let e;return{c(){e=pe(t[2])},m(n,i){Y(n,e,i)},p(n,i){i&4&&Oe(e,n[2])},d(n){n&&B(e)}}}function gm(t){let e,n,i,o,l,s,r=t[10]&&dm(t),a=t[2]&&nr(t);return{c(){e=Fe("path"),i=L(),r&&r.c(),o=L(),a&&a.c(),l=Ye(),g(e,"id",t[0]),g(e,"d",t[1]),g(e,"class",n=qe(["svelte-flow__edge-path",t[9]])),g(e,"marker-start",t[6]),g(e,"marker-end",t[7]),g(e,"fill","none"),g(e,"style",t[8])},m(u,f){Y(u,e,f),Y(u,i,f),r&&r.m(u,f),Y(u,o,f),a&&a.m(u,f),Y(u,l,f),s=!0},p(u,[f]){(!s||f&1)&&g(e,"id",u[0]),(!s||f&2)&&g(e,"d",u[1]),(!s||f&512&&n!==(n=qe(["svelte-flow__edge-path",u[9]])))&&g(e,"class",n),(!s||f&64)&&g(e,"marker-start",u[6]),(!s||f&128)&&g(e,"marker-end",u[7]),(!s||f&256)&&g(e,"style",u[8]),u[10]&&r.p(u,f),u[2]?a?(a.p(u,f),f&4&&D(a,1)):(a=nr(u),a.c(),D(a,1),a.m(l.parentNode,l)):a&&(Pe(),W(a,1,1,()=>{a=null}),Ae())},i(u){s||(D(a),s=!0)},o(u){W(a),s=!1},d(u){u&&(B(e),B(i),B(o),B(l)),r&&r.d(u),a&&a.d(u)}}}function mm(t,e,n){let{id:i=void 0}=e,{path:o}=e,{label:l=void 0}=e,{labelX:s=void 0}=e,{labelY:r=void 0}=e,{labelStyle:a=void 0}=e,{markerStart:u=void 0}=e,{markerEnd:f=void 0}=e,{style:d=void 0}=e,{interactionWidth:c=20}=e,{class:h=void 0}=e,m=c===void 0?20:c;return t.$$set=p=>{"id"in p&&n(0,i=p.id),"path"in p&&n(1,o=p.path),"label"in p&&n(2,l=p.label),"labelX"in p&&n(3,s=p.labelX),"labelY"in p&&n(4,r=p.labelY),"labelStyle"in p&&n(5,a=p.labelStyle),"markerStart"in p&&n(6,u=p.markerStart),"markerEnd"in p&&n(7,f=p.markerEnd),"style"in p&&n(8,d=p.style),"interactionWidth"in p&&n(11,c=p.interactionWidth),"class"in p&&n(9,h=p.class)},[i,o,l,s,r,a,u,f,d,h,m,c]}class xi extends de{constructor(e){super(),fe(this,e,mm,gm,ce,{id:0,path:1,label:2,labelX:3,labelY:4,labelStyle:5,markerStart:6,markerEnd:7,style:8,interactionWidth:11,class:9})}}function _m(t){let e,n;return e=new xi({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){$(e.$$.fragment)},m(i,o){Q(e,i,o),n=!0},p(i,[o]){const l={};o&256&&(l.path=i[8]),o&128&&(l.labelX=i[7]),o&64&&(l.labelY=i[6]),o&1&&(l.label=i[0]),o&2&&(l.labelStyle=i[1]),o&8&&(l.markerStart=i[3]),o&16&&(l.markerEnd=i[4]),o&32&&(l.interactionWidth=i[5]),o&4&&(l.style=i[2]),e.$set(l)},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function pm(t,e,n){let i,o,l;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];et(e,s);let{label:r=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:d=void 0}=e,{interactionWidth:c=void 0}=e,{sourceX:h}=e,{sourceY:m}=e,{sourcePosition:p}=e,{targetX:v}=e,{targetY:b}=e,{targetPosition:C}=e;return t.$$set=y=>{e=se(se({},e),Ne(y)),n(15,et(e,s)),"label"in y&&n(0,r=y.label),"labelStyle"in y&&n(1,a=y.labelStyle),"style"in y&&n(2,u=y.style),"markerStart"in y&&n(3,f=y.markerStart),"markerEnd"in y&&n(4,d=y.markerEnd),"interactionWidth"in y&&n(5,c=y.interactionWidth),"sourceX"in y&&n(9,h=y.sourceX),"sourceY"in y&&n(10,m=y.sourceY),"sourcePosition"in y&&n(11,p=y.sourcePosition),"targetX"in y&&n(12,v=y.targetX),"targetY"in y&&n(13,b=y.targetY),"targetPosition"in y&&n(14,C=y.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,l]=Ma({sourceX:h,sourceY:m,targetX:v,targetY:b,sourcePosition:p,targetPosition:C}),i,(n(7,o),n(9,h),n(10,m),n(12,v),n(13,b),n(11,p),n(14,C)),(n(6,l),n(9,h),n(10,m),n(12,v),n(13,b),n(11,p),n(14,C)))},[r,a,u,f,d,c,l,o,i,h,m,p,v,b,C]}class Fa extends de{constructor(e){super(),fe(this,e,pm,_m,ce,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function bm(t){let e,n;return e=new xi({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){$(e.$$.fragment)},m(i,o){Q(e,i,o),n=!0},p(i,[o]){const l={};o&256&&(l.path=i[8]),o&128&&(l.labelX=i[7]),o&64&&(l.labelY=i[6]),o&1&&(l.label=i[0]),o&2&&(l.labelStyle=i[1]),o&8&&(l.markerStart=i[3]),o&16&&(l.markerEnd=i[4]),o&32&&(l.interactionWidth=i[5]),o&4&&(l.style=i[2]),e.$set(l)},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function vm(t,e,n){let i,o,l;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];et(e,s);let{label:r=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:d=void 0}=e,{interactionWidth:c=void 0}=e,{sourceX:h}=e,{sourceY:m}=e,{sourcePosition:p}=e,{targetX:v}=e,{targetY:b}=e,{targetPosition:C}=e;return t.$$set=y=>{e=se(se({},e),Ne(y)),n(15,et(e,s)),"label"in y&&n(0,r=y.label),"labelStyle"in y&&n(1,a=y.labelStyle),"style"in y&&n(2,u=y.style),"markerStart"in y&&n(3,f=y.markerStart),"markerEnd"in y&&n(4,d=y.markerEnd),"interactionWidth"in y&&n(5,c=y.interactionWidth),"sourceX"in y&&n(9,h=y.sourceX),"sourceY"in y&&n(10,m=y.sourceY),"sourcePosition"in y&&n(11,p=y.sourcePosition),"targetX"in y&&n(12,v=y.targetX),"targetY"in y&&n(13,b=y.targetY),"targetPosition"in y&&n(14,C=y.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,l]=ji({sourceX:h,sourceY:m,targetX:v,targetY:b,sourcePosition:p,targetPosition:C}),i,(n(7,o),n(9,h),n(10,m),n(12,v),n(13,b),n(11,p),n(14,C)),(n(6,l),n(9,h),n(10,m),n(12,v),n(13,b),n(11,p),n(14,C)))},[r,a,u,f,d,c,l,o,i,h,m,p,v,b,C]}class ym extends de{constructor(e){super(),fe(this,e,vm,bm,ce,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function wm(t){let e,n;return e=new xi({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){$(e.$$.fragment)},m(i,o){Q(e,i,o),n=!0},p(i,[o]){const l={};o&256&&(l.path=i[8]),o&128&&(l.labelX=i[7]),o&64&&(l.labelY=i[6]),o&1&&(l.label=i[0]),o&2&&(l.labelStyle=i[1]),o&8&&(l.markerStart=i[3]),o&16&&(l.markerEnd=i[4]),o&32&&(l.interactionWidth=i[5]),o&4&&(l.style=i[2]),e.$set(l)},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function km(t,e,n){let i,o,l;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","targetX","targetY"];et(e,s);let{label:r=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:d=void 0}=e,{interactionWidth:c=void 0}=e,{sourceX:h}=e,{sourceY:m}=e,{targetX:p}=e,{targetY:v}=e;return t.$$set=b=>{e=se(se({},e),Ne(b)),n(13,et(e,s)),"label"in b&&n(0,r=b.label),"labelStyle"in b&&n(1,a=b.labelStyle),"style"in b&&n(2,u=b.style),"markerStart"in b&&n(3,f=b.markerStart),"markerEnd"in b&&n(4,d=b.markerEnd),"interactionWidth"in b&&n(5,c=b.interactionWidth),"sourceX"in b&&n(9,h=b.sourceX),"sourceY"in b&&n(10,m=b.sourceY),"targetX"in b&&n(11,p=b.targetX),"targetY"in b&&n(12,v=b.targetY)},t.$$.update=()=>{t.$$.dirty&7680&&n(8,[i,o,l]=Aa({sourceX:h,sourceY:m,targetX:p,targetY:v}),i,(n(7,o),n(9,h),n(10,m),n(11,p),n(12,v)),(n(6,l),n(9,h),n(10,m),n(11,p),n(12,v)))},[r,a,u,f,d,c,l,o,i,h,m,p,v]}class Sm extends de{constructor(e){super(),fe(this,e,km,wm,ce,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,targetX:11,targetY:12})}}function Cm(t){let e,n;return e=new xi({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){$(e.$$.fragment)},m(i,o){Q(e,i,o),n=!0},p(i,[o]){const l={};o&256&&(l.path=i[8]),o&128&&(l.labelX=i[7]),o&64&&(l.labelY=i[6]),o&1&&(l.label=i[0]),o&2&&(l.labelStyle=i[1]),o&8&&(l.markerStart=i[3]),o&16&&(l.markerEnd=i[4]),o&32&&(l.interactionWidth=i[5]),o&4&&(l.style=i[2]),e.$set(l)},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function zm(t,e,n){let i,o,l;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];et(e,s);let{label:r=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:d=void 0}=e,{interactionWidth:c=void 0}=e,{sourceX:h}=e,{sourceY:m}=e,{sourcePosition:p}=e,{targetX:v}=e,{targetY:b}=e,{targetPosition:C}=e;return t.$$set=y=>{e=se(se({},e),Ne(y)),n(15,et(e,s)),"label"in y&&n(0,r=y.label),"labelStyle"in y&&n(1,a=y.labelStyle),"style"in y&&n(2,u=y.style),"markerStart"in y&&n(3,f=y.markerStart),"markerEnd"in y&&n(4,d=y.markerEnd),"interactionWidth"in y&&n(5,c=y.interactionWidth),"sourceX"in y&&n(9,h=y.sourceX),"sourceY"in y&&n(10,m=y.sourceY),"sourcePosition"in y&&n(11,p=y.sourcePosition),"targetX"in y&&n(12,v=y.targetX),"targetY"in y&&n(13,b=y.targetY),"targetPosition"in y&&n(14,C=y.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,l]=ji({sourceX:h,sourceY:m,targetX:v,targetY:b,sourcePosition:p,targetPosition:C,borderRadius:0}),i,(n(7,o),n(9,h),n(10,m),n(12,v),n(13,b),n(11,p),n(14,C)),(n(6,l),n(9,h),n(10,m),n(12,v),n(13,b),n(11,p),n(14,C)))},[r,a,u,f,d,c,l,o,i,h,m,p,v,b,C]}class Em extends de{constructor(e){super(),fe(this,e,zm,Cm,ce,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function Nm(t,e){const n=t.set,i=e.set,o=ie(t),l=ie(e);let r=o.length===0&&l.length>0?l:o;t.set(r);const a=u=>{const f=n(u);return r=f,i(r),f};t.set=e.set=a,t.update=e.update=u=>a(u(r))}function Mm(t,e){const n=t.set,i=e.set;let o=ie(e);t.set(o);const l=s=>{n(s),i(s),o=s};t.set=e.set=l,t.update=e.update=s=>l(s(o))}const Pm=(t,e,n)=>{if(!n)return;const i=ie(t),o=e.set,l=n.set;let s=n?ie(n):{x:0,y:0,zoom:1};e.set(s),e.set=r=>(o(r),l(r),s=r,r),n.set=r=>(i==null||i.syncViewport(r),o(r),l(r),s=r,r),e.update=r=>{e.set(r(s))},n.update=r=>{n.set(r(s))}},Am=(t,e,n,i=[0,0],o=Hi,l,s,r,a,u,f,d,c)=>{const{subscribe:h,set:m,update:p}=ye([]);let v=t,b={},C=!0;const y=w=>{const T=Oa(w,e,n,{elevateNodesOnSelect:C,nodeOrigin:i,nodeExtent:o,defaults:b,checkEquality:!1});return ie(l)&&T&&ie(a)&&(Z1({nodes:e,width:ie(u),height:ie(f),panZoom:ie(a),minZoom:ie(d),maxZoom:ie(c)},ie(s)).then(H=>{var M;(M=ie(r))==null||M.resolve(H),r.set(null)}),l.set(!1),s.set(void 0)),v=w,m(v),v},E=w=>y(w(v)),S=w=>{b=w},N=w=>{C=w.elevateNodesOnSelect??C};return y(v),{subscribe:h,set:y,update:E,setDefaultOptions:S,setOptions:N}},Om=(t,e,n,i)=>{const{subscribe:o,set:l,update:s}=ye([]);let r=t,a={};const u=c=>{const h=a?c.map(m=>({...a,...m})):c;Ha(e,n,h),r=h,l(r)},f=c=>u(c(r)),d=c=>{a=c};return u(r),{subscribe:o,set:u,update:f,setDefaultOptions:d}},Ka={input:Qg,output:em,default:Ba,group:nm},qa={straight:Sm,smoothstep:ym,default:Fa,step:Em},Tm=({nodes:t=[],edges:e=[],width:n,height:i,fitView:o,nodeOrigin:l,nodeExtent:s})=>{const r=new Map,a=new Map,u=new Map,f=new Map,d=l??[0,0],c=s??Hi;Oa(t,r,a,{nodeExtent:c,nodeOrigin:d,elevateNodesOnSelect:!1,checkEquality:!1}),Ha(u,f,e);let h={x:0,y:0,zoom:1};if(o&&n&&i){const N=ti(r,{filter:w=>!!((w.width||w.initialWidth)&&(w.height||w.initialHeight))});h=Jo(N,n,i,.5,2,.1)}const m=ye(!1),p=ye(void 0),v=ye(null),b=ye(null),C=ye(500),y=ye(500),E=ye(.5),S=ye(2);return{flowId:ye(null),nodes:Am(t,r,a,d,c,m,p,v,b,C,y,E,S),nodeLookup:bt(r),parentLookup:bt(a),edgeLookup:bt(f),visibleNodes:bt([]),edges:Om(e,u,f),visibleEdges:bt([]),connectionLookup:bt(u),width:C,height:y,minZoom:E,maxZoom:S,nodeOrigin:ye(d),nodeDragThreshold:ye(1),nodeExtent:ye(c),translateExtent:ye(Hi),autoPanOnNodeDrag:ye(!0),autoPanOnConnect:ye(!0),fitViewQueued:m,fitViewOptions:p,fitViewResolver:v,panZoom:b,snapGrid:ye(null),dragging:ye(!1),selectionRect:ye(null),selectionKeyPressed:ye(!1),multiselectionKeyPressed:ye(!1),deleteKeyPressed:ye(!1),panActivationKeyPressed:ye(!1),zoomActivationKeyPressed:ye(!1),selectionRectMode:ye(null),selectionMode:ye(Di.Partial),nodeTypes:ye(Ka),edgeTypes:ye(qa),viewport:ye(h),connectionMode:ye(Ft.Strict),domNode:ye(null),connection:bt(Ho),connectionLineType:ye(yn.Bezier),connectionRadius:ye(20),isValidConnection:ye(()=>!0),nodesDraggable:ye(!0),nodesConnectable:ye(!0),elementsSelectable:ye(!0),selectNodesOnDrag:ye(!0),markers:bt([]),defaultMarkerColor:ye("#b1b1b7"),lib:bt("svelte"),onlyRenderVisibleElements:ye(!1),onerror:ye(U1),ondelete:ye(void 0),onedgecreate:ye(void 0),onconnect:ye(void 0),onconnectstart:ye(void 0),onconnectend:ye(void 0),onbeforedelete:ye(void 0),nodesInitialized:ye(!1),edgesInitialized:ye(!1),viewportInitialized:ye(!1),initialized:bt(!1)}};function Hm(t){const e=Jt([t.edges,t.nodes,t.nodeLookup,t.onlyRenderVisibleElements,t.viewport,t.width,t.height],([n,,i,o,l,s,r])=>o&&s&&r?n.filter(u=>{const f=i.get(u.source),d=i.get(u.target);return f&&d&&lg({sourceNode:f,targetNode:d,width:s,height:r,transform:[l.x,l.y,l.zoom]})}):n);return Jt([e,t.nodes,t.nodeLookup,t.connectionMode,t.onerror],([n,,i,o,l])=>n.reduce((r,a)=>{const u=i.get(a.source),f=i.get(a.target);if(!u||!f)return r;const d=dg({id:a.id,sourceNode:u,targetNode:f,sourceHandle:a.sourceHandle||null,targetHandle:a.targetHandle||null,connectionMode:o,onError:l});return d&&r.push({...a,zIndex:og({selected:a.selected,zIndex:a.zIndex,sourceNode:u,targetNode:f,elevateOnSelect:!1}),...d}),r},[]))}function Dm(t){return Jt([t.nodeLookup,t.onlyRenderVisibleElements,t.width,t.height,t.viewport,t.nodes],([e,n,i,o,l])=>{const s=[l.x,l.y,l.zoom];return n?wa(e,{x:0,y:0,width:i,height:o},s,!0):Array.from(e.values())})}const el=Symbol();function Im({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:l,nodeExtent:s}){const r=Tm({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:l,nodeExtent:s});function a(P){r.nodeTypes.set({...Ka,...P})}function u(P){r.edgeTypes.set({...qa,...P})}function f(P){const O=ie(r.edges);r.edges.set(ag(P,O))}const d=(P,O=!1)=>{var j;const V=ie(r.nodeLookup);for(const[X,ee]of P){const q=(j=V.get(X))==null?void 0:j.internals.userNode;q&&(q.position=ee.position,q.dragging=O)}r.nodes.update(X=>X)};function c(P){var ee,q,te;const O=ie(r.nodeLookup),V=ie(r.parentLookup),{changes:j,updatedInternals:X}=vg(P,O,ie(r.parentLookup),ie(r.domNode),ie(r.nodeOrigin));if(X){mg(O,V,{nodeOrigin:l,nodeExtent:s});for(const U of j){const J=(ee=O.get(U.id))==null?void 0:ee.internals.userNode;if(J)switch(U.type){case"dimensions":{const ue={...J.measured,...U.dimensions};U.setAttributes&&(J.width=((q=U.dimensions)==null?void 0:q.width)??J.width,J.height=((te=U.dimensions)==null?void 0:te.height)??J.height),J.measured=ue;break}case"position":J.position=U.position??J.position;break}}r.nodes.update(U=>U),ie(r.nodesInitialized)||r.nodesInitialized.set(!0)}}function h(P){const O=ie(r.fitViewResolver)??$1();return r.fitViewQueued.set(!0),r.fitViewOptions.set(P),r.fitViewResolver.set(O),r.nodes.set(ie(r.nodes)),O.promise}function m(P,O){const V=ie(r.panZoom);return V?V.scaleBy(P,O):Promise.resolve(!1)}function p(P){return m(1.2,P)}function v(P){return m(1/1.2,P)}function b(P){const O=ie(r.panZoom);O&&(O.setScaleExtent([P,ie(r.maxZoom)]),r.minZoom.set(P))}function C(P){const O=ie(r.panZoom);O&&(O.setScaleExtent([ie(r.minZoom),P]),r.maxZoom.set(P))}function y(P){const O=ie(r.panZoom);O&&(O.setTranslateExtent(P),r.translateExtent.set(P))}function E(P){let O=!1;return P.forEach(V=>{V.selected&&(V.selected=!1,O=!0)}),O}function S(P){var O;(O=ie(r.panZoom))==null||O.setClickDistance(P)}function N(P){E((P==null?void 0:P.nodes)||ie(r.nodes))&&r.nodes.set(ie(r.nodes)),E((P==null?void 0:P.edges)||ie(r.edges))&&r.edges.set(ie(r.edges))}r.deleteKeyPressed.subscribe(async P=>{var O;if(P){const V=ie(r.nodes),j=ie(r.edges),X=V.filter(U=>U.selected),ee=j.filter(U=>U.selected),{nodes:q,edges:te}=await ka({nodesToRemove:X,edgesToRemove:ee,nodes:V,edges:j,onBeforeDelete:ie(r.onbeforedelete)});(q.length||te.length)&&(r.nodes.update(U=>U.filter(J=>!q.some(ue=>ue.id===J.id))),r.edges.update(U=>U.filter(J=>!te.some(ue=>ue.id===J.id))),(O=ie(r.ondelete))==null||O({nodes:q,edges:te}))}});function w(P){const O=ie(r.multiselectionKeyPressed);r.nodes.update(V=>V.map(j=>{const X=P.includes(j.id),ee=O&&j.selected||X;return j.selected=ee,j})),O||r.edges.update(V=>V.map(j=>(j.selected=!1,j)))}function T(P){const O=ie(r.multiselectionKeyPressed);r.edges.update(V=>V.map(j=>{const X=P.includes(j.id),ee=O&&j.selected||X;return j.selected=ee,j})),O||r.nodes.update(V=>V.map(j=>(j.selected=!1,j)))}function A(P){var V;const O=(V=ie(r.nodes))==null?void 0:V.find(j=>j.id===P);if(!O){console.warn("012",Nn.error012(P));return}r.selectionRect.set(null),r.selectionRectMode.set(null),O.selected?O.selected&&ie(r.multiselectionKeyPressed)&&N({nodes:[O],edges:[]}):w([P])}function H(P){const O=ie(r.viewport);return yg({delta:P,panZoom:ie(r.panZoom),transform:[O.x,O.y,O.zoom],translateExtent:ie(r.translateExtent),width:ie(r.width),height:ie(r.height)})}const M=ye(Ho),I=P=>{M.set({...P})};function R(){M.set(Ho)}function k(){r.selectionRect.set(null),r.selectionRectMode.set(null),r.snapGrid.set(null),r.isValidConnection.set(()=>!0),N(),R()}return{...r,visibleEdges:Hm(r),visibleNodes:Dm(r),connection:Jt([M,r.viewport],([P,O])=>P.inProgress?{...P,to:ni(P.to,[O.x,O.y,O.zoom])}:{...P}),markers:Jt([r.edges,r.defaultMarkerColor,r.flowId],([P,O,V])=>hg(P,{defaultColor:O,id:V})),initialized:(()=>{let P=!1;const O=ie(r.nodes).length,V=ie(r.edges).length;return Jt([r.nodesInitialized,r.edgesInitialized,r.viewportInitialized],([j,X,ee])=>P||(O===0?P=ee:V===0?P=ee&&j:P=ee&&j&&X,P))})(),syncNodeStores:P=>Nm(r.nodes,P),syncEdgeStores:P=>Mm(r.edges,P),syncViewport:P=>Pm(r.panZoom,r.viewport,P),setNodeTypes:a,setEdgeTypes:u,addEdge:f,updateNodePositions:d,updateNodeInternals:c,zoomIn:p,zoomOut:v,fitView:P=>h(P),setMinZoom:b,setMaxZoom:C,setTranslateExtent:y,setPaneClickDistance:S,unselectNodesAndEdges:N,addSelectedNodes:w,addSelectedEdges:T,handleNodeSelection:A,panBy:H,updateConnection:I,cancelConnection:R,reset:k}}function ot(){const t=Bn(el);if(!t)throw new Error("In order to use useStore you need to wrap your component in a <SvelteFlowProvider />");return t.getStore()}function Wm({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:l,nodeExtent:s}){const r=Im({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:l,nodeExtent:s});return zi(el,{getStore:()=>r}),r}function Lm(t,e){const{panZoom:n,minZoom:i,maxZoom:o,initialViewport:l,viewport:s,dragging:r,translateExtent:a,paneClickDistance:u}=e,f=Lg({domNode:t,minZoom:i,maxZoom:o,translateExtent:a,viewport:l,paneClickDistance:u,onDraggingChange:r.set}),d=f.getViewport();return s.set(d),n.set(f),f.update(e),{update(c){f.update(c)}}}function Rm(t){let e,n,i,o,l;const s=t[35].default,r=Ve(s,t,t[34],null);return{c(){e=z("div"),r&&r.c(),g(e,"class","svelte-flow__zoom svelte-4xkw84")},m(a,u){Y(a,e,u),r&&r.m(e,null),i=!0,o||(l=ct(n=Lm.call(null,e,{viewport:t[18],minZoom:t[12],maxZoom:t[13],initialViewport:t[11],dragging:t[23],panZoom:t[19],onPanZoomStart:t[0],onPanZoom:t[1],onPanZoomEnd:t[2],zoomOnScroll:t[5],zoomOnDoubleClick:t[6],zoomOnPinch:t[7],panOnScroll:t[9],panOnDrag:t[10],panOnScrollSpeed:.5,panOnScrollMode:t[3]||Pt.Free,zoomActivationKeyPressed:t[14],preventScrolling:typeof t[4]=="boolean"?t[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!t[15],translateExtent:t[16],lib:t[17],paneClickDistance:t[8],onTransformChange:t[29]})),o=!0)},p(a,u){r&&r.p&&(!i||u[1]&8)&&Xe(r,s,a,a[34],i?je(s,a[34],u,null):Be(a[34]),null),n&&tt(n.update)&&u[0]&262143&&n.update.call(null,{viewport:a[18],minZoom:a[12],maxZoom:a[13],initialViewport:a[11],dragging:a[23],panZoom:a[19],onPanZoomStart:a[0],onPanZoom:a[1],onPanZoomEnd:a[2],zoomOnScroll:a[5],zoomOnDoubleClick:a[6],zoomOnPinch:a[7],panOnScroll:a[9],panOnDrag:a[10],panOnScrollSpeed:.5,panOnScrollMode:a[3]||Pt.Free,zoomActivationKeyPressed:a[14],preventScrolling:typeof a[4]=="boolean"?a[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!a[15],translateExtent:a[16],lib:a[17],paneClickDistance:a[8],onTransformChange:a[29]})},i(a){i||(D(r,a),i=!0)},o(a){W(r,a),i=!1},d(a){a&&B(e),r&&r.d(a),o=!1,l()}}}function Vm(t,e,n){let i,o,l,s,r,a,u,f,d,c,h,{$$slots:m={},$$scope:p}=e,{initialViewport:v=void 0}=e,{onMoveStart:b=void 0}=e,{onMove:C=void 0}=e,{onMoveEnd:y=void 0}=e,{panOnScrollMode:E}=e,{preventScrolling:S}=e,{zoomOnScroll:N}=e,{zoomOnDoubleClick:w}=e,{zoomOnPinch:T}=e,{panOnDrag:A}=e,{panOnScroll:H}=e,{paneClickDistance:M}=e;const{viewport:I,panZoom:R,selectionRect:k,minZoom:P,maxZoom:O,dragging:V,translateExtent:j,lib:X,panActivationKeyPressed:ee,zoomActivationKeyPressed:q,viewportInitialized:te}=ot();re(t,k,J=>n(15,d=J)),re(t,P,J=>n(12,a=J)),re(t,O,J=>n(13,u=J)),re(t,j,J=>n(16,c=J)),re(t,X,J=>n(17,h=J)),re(t,ee,J=>n(33,r=J)),re(t,q,J=>n(14,f=J)),re(t,te,J=>n(36,s=J));const U=J=>I.set({x:J[0],y:J[1],zoom:J[2]});return Ct(()=>{ki(te,s=!0,s)}),t.$$set=J=>{"initialViewport"in J&&n(30,v=J.initialViewport),"onMoveStart"in J&&n(0,b=J.onMoveStart),"onMove"in J&&n(1,C=J.onMove),"onMoveEnd"in J&&n(2,y=J.onMoveEnd),"panOnScrollMode"in J&&n(3,E=J.panOnScrollMode),"preventScrolling"in J&&n(4,S=J.preventScrolling),"zoomOnScroll"in J&&n(5,N=J.zoomOnScroll),"zoomOnDoubleClick"in J&&n(6,w=J.zoomOnDoubleClick),"zoomOnPinch"in J&&n(7,T=J.zoomOnPinch),"panOnDrag"in J&&n(31,A=J.panOnDrag),"panOnScroll"in J&&n(32,H=J.panOnScroll),"paneClickDistance"in J&&n(8,M=J.paneClickDistance),"$$scope"in J&&n(34,p=J.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&1073741824&&n(11,i=v||{x:0,y:0,zoom:1}),t.$$.dirty[1]&5&&n(10,o=r||A),t.$$.dirty[1]&6&&n(9,l=r||H)},[b,C,y,E,S,N,w,T,M,l,o,i,a,u,f,d,c,h,I,R,k,P,O,V,j,X,ee,q,te,U,v,A,H,r,p,m]}class jm extends de{constructor(e){super(),fe(this,e,Vm,Rm,ce,{initialViewport:30,onMoveStart:0,onMove:1,onMoveEnd:2,panOnScrollMode:3,preventScrolling:4,zoomOnScroll:5,zoomOnDoubleClick:6,zoomOnPinch:7,panOnDrag:31,panOnScroll:32,paneClickDistance:8},null,[-1,-1])}}function Xm(t){let e,n,i,o;const l=t[29].default,s=Ve(l,t,t[28],null);return{c(){e=z("div"),s&&s.c(),g(e,"class","svelte-flow__pane svelte-1esy7hx"),ae(e,"draggable",t[0]===!0||Array.isArray(t[0])&&t[0].includes(0)),ae(e,"dragging",t[4]),ae(e,"selection",t[1])},m(r,a){Y(r,e,a),s&&s.m(e,null),t[30](e),n=!0,i||(o=[G(e,"click",function(){tt(t[3]?void 0:mi(t[16],t[2]))&&(t[3]?void 0:mi(t[16],t[2])).apply(this,arguments)}),G(e,"pointerdown",function(){tt(t[3]?t[17]:void 0)&&(t[3]?t[17]:void 0).apply(this,arguments)}),G(e,"pointermove",function(){tt(t[3]?t[18]:void 0)&&(t[3]?t[18]:void 0).apply(this,arguments)}),G(e,"pointerup",function(){tt(t[3]?t[19]:void 0)&&(t[3]?t[19]:void 0).apply(this,arguments)}),G(e,"contextmenu",function(){tt(mi(t[20],t[2]))&&mi(t[20],t[2]).apply(this,arguments)})],i=!0)},p(r,a){t=r,s&&s.p&&(!n||a[0]&268435456)&&Xe(s,l,t,t[28],n?je(l,t[28],a,null):Be(t[28]),null),(!n||a[0]&1)&&ae(e,"draggable",t[0]===!0||Array.isArray(t[0])&&t[0].includes(0)),(!n||a[0]&16)&&ae(e,"dragging",t[4]),(!n||a[0]&2)&&ae(e,"selection",t[1])},i(r){n||(D(s,r),n=!0)},o(r){W(s,r),n=!1},d(r){r&&B(e),s&&s.d(r),t[30](null),i=!1,He(o)}}}function mi(t,e){return n=>{n.target===e&&(t==null||t(n))}}function ir(t){return e=>{const n=t.includes(e.id);return e.selected!==n&&(e.selected=n),e}}function Bm(t,e,n){let i,o,l,s,r,a,u,f,d,c,h,m,p,v,{$$slots:b={},$$scope:C}=e,{panOnDrag:y=void 0}=e,{selectionOnDrag:E=void 0}=e;const S=Qn(),{nodes:N,nodeLookup:w,edges:T,viewport:A,dragging:H,elementsSelectable:M,selectionRect:I,selectionRectMode:R,selectionKeyPressed:k,selectionMode:P,panActivationKeyPressed:O,unselectNodesAndEdges:V,connection:j}=ot();re(t,w,ne=>n(37,d=ne)),re(t,T,ne=>n(34,a=ne)),re(t,A,ne=>n(36,f=ne)),re(t,H,ne=>n(4,v=ne)),re(t,M,ne=>n(26,m=ne)),re(t,I,ne=>n(25,c=ne)),re(t,R,ne=>n(24,r=ne)),re(t,k,ne=>n(23,s=ne)),re(t,P,ne=>n(35,u=ne)),re(t,O,ne=>n(27,p=ne)),re(t,j,ne=>n(38,h=ne));let X,ee=null,q=[],te=!1;function U(ne){if(te||h.inProgress){te=!1;return}S("paneclick",{event:ne}),V(),R.set(null)}function J(ne){var _e,Ie;if(ee=X.getBoundingClientRect(),!M||!o||ne.button!==0||ne.target!==X||!ee)return;(Ie=(_e=ne.target)==null?void 0:_e.setPointerCapture)==null||Ie.call(_e,ne.pointerId);const{x:be,y:oe}=Wt(ne,ee);V(),I.set({width:0,height:0,startX:be,startY:oe,x:be,y:oe})}function ue(ne){if(!o||!ee||!c)return;te=!0;const be=Wt(ne,ee),oe=c.startX??0,_e=c.startY??0,Ie={...c,x:be.x<oe?be.x:oe,y:be.y<_e?be.y:_e,width:Math.abs(be.x-oe),height:Math.abs(be.y-_e)},K=q.map(Ce=>Ce.id),Ee=Do(q,a).map(Ce=>Ce.id);q=wa(d,Ie,[f.x,f.y,f.zoom],u===Di.Partial,!0);const Te=Do(q,a).map(Ce=>Ce.id),Le=q.map(Ce=>Ce.id);(K.length!==Le.length||Le.some(Ce=>!K.includes(Ce)))&&N.update(Ce=>Ce.map(ir(Le))),(Ee.length!==Te.length||Te.some(Ce=>!Ee.includes(Ce)))&&T.update(Ce=>Ce.map(ir(Te))),R.set("user"),I.set(Ie)}function me(ne){var be,oe;ne.button===0&&((oe=(be=ne.target)==null?void 0:be.releasePointerCapture)==null||oe.call(be,ne.pointerId),!o&&r==="user"&&ne.target===X&&(U==null||U(ne)),I.set(null),q.length>0&&ki(R,r="nodes",r),s&&(te=!1))}const le=ne=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){ne.preventDefault();return}S("panecontextmenu",{event:ne})};function ve(ne){Cn[ne?"unshift":"push"](()=>{X=ne,n(2,X)})}return t.$$set=ne=>{"panOnDrag"in ne&&n(0,y=ne.panOnDrag),"selectionOnDrag"in ne&&n(21,E=ne.selectionOnDrag),"$$scope"in ne&&n(28,C=ne.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&134217729&&n(22,i=p||y),t.$$.dirty[0]&48234496&&n(1,o=s||c||E&&i!==!0),t.$$.dirty[0]&83886082&&n(3,l=m&&(o||r==="user"))},[y,o,X,l,v,w,T,A,H,M,I,R,k,P,O,j,U,J,ue,me,le,E,i,s,r,c,m,p,C,b,ve]}class Ym extends de{constructor(e){super(),fe(this,e,Bm,Xm,ce,{panOnDrag:0,selectionOnDrag:21},null,[-1,-1])}}function Fm(t){let e,n;const i=t[3].default,o=Ve(i,t,t[2],null);return{c(){e=z("div"),o&&o.c(),g(e,"class","svelte-flow__viewport xyflow__viewport svelte-1floaup"),we(e,"transform","translate("+t[0].x+"px, "+t[0].y+"px) scale("+t[0].zoom+")")},m(l,s){Y(l,e,s),o&&o.m(e,null),n=!0},p(l,[s]){o&&o.p&&(!n||s&4)&&Xe(o,i,l,l[2],n?je(i,l[2],s,null):Be(l[2]),null),(!n||s&1)&&we(e,"transform","translate("+l[0].x+"px, "+l[0].y+"px) scale("+l[0].zoom+")")},i(l){n||(D(o,l),n=!0)},o(l){W(o,l),n=!1},d(l){l&&B(e),o&&o.d(l)}}}function Km(t,e,n){let i,{$$slots:o={},$$scope:l}=e;const{viewport:s}=ot();return re(t,s,r=>n(0,i=r)),t.$$set=r=>{"$$scope"in r&&n(2,l=r.$$scope)},[i,s,l,o]}class qm extends de{constructor(e){super(),fe(this,e,Km,Fm,ce,{})}}function Za(t,e){const{store:n,onDrag:i,onDragStart:o,onDragStop:l,onNodeMouseDown:s}=e,r=kg({onDrag:i,onDragStart:o,onDragStop:l,onNodeMouseDown:s,getStoreItems:()=>{const u=ie(n.snapGrid),f=ie(n.viewport);return{nodes:ie(n.nodes),nodeLookup:ie(n.nodeLookup),edges:ie(n.edges),nodeExtent:ie(n.nodeExtent),snapGrid:u||[0,0],snapToGrid:!!u,nodeOrigin:ie(n.nodeOrigin),multiSelectionActive:ie(n.multiselectionKeyPressed),domNode:ie(n.domNode),transform:[f.x,f.y,f.zoom],autoPanOnNodeDrag:ie(n.autoPanOnNodeDrag),nodesDraggable:ie(n.nodesDraggable),selectNodesOnDrag:ie(n.selectNodesOnDrag),nodeDragThreshold:ie(n.nodeDragThreshold),unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,panBy:n.panBy}}});function a(u,f){if(f.disabled){r.destroy();return}r.update({domNode:u,noDragClassName:f.noDragClass,handleSelector:f.handleSelector,nodeId:f.nodeId,isSelectable:f.isSelectable,nodeClickDistance:f.nodeClickDistance})}return a(t,e),{update(u){a(t,u)},destroy(){r.destroy()}}}function Zm({width:t,height:e,initialWidth:n,initialHeight:i,measuredWidth:o,measuredHeight:l}){if(o===void 0&&l===void 0){const s=t??n,r=e??i;return{width:s?`width:${s}px;`:"",height:r?`height:${r}px;`:""}}return{width:t?`width:${t}px;`:"",height:e?`height:${e}px;`:""}}function or(t){let e,n,i,o,l,s=`translate(${t[12]}px, ${t[13]}px)`,r,a,u;var f=t[27];function d(c,h){return{props:{data:c[2],id:c[1],selected:c[3]??!1,selectable:c[5]??c[28]??!0,deletable:c[7]??!0,sourcePosition:c[14],targetPosition:c[15],zIndex:c[16],dragging:c[9],draggable:c[4]??c[29]??!0,dragHandle:c[19],parentId:c[21],type:c[25],isConnectable:c[30],positionAbsoluteX:c[12],positionAbsoluteY:c[13],width:c[17],height:c[18]}}}return f&&(n=Ci(f,d(t))),{c(){e=z("div"),n&&$(n.$$.fragment),g(e,"data-id",t[1]),g(e,"class",i=qe(["svelte-flow__node",`svelte-flow__node-${t[25]}`,t[23]])),g(e,"style",o=(t[10]??"")+";"+t[26].width+t[26].height),ae(e,"dragging",t[9]),ae(e,"selected",t[3]),ae(e,"draggable",t[4]),ae(e,"connectable",t[6]),ae(e,"selectable",t[5]),ae(e,"nopan",t[4]),ae(e,"parent",t[11]),we(e,"z-index",t[16]),we(e,"transform",s),we(e,"visibility",t[20]?"visible":"hidden")},m(c,h){Y(c,e,h),n&&Q(n,e,null),t[54](e),r=!0,a||(u=[ct(l=Za.call(null,e,{nodeId:t[1],isSelectable:t[5],disabled:!1,handleSelector:t[19],noDragClass:"nodrag",nodeClickDistance:t[22],onNodeMouseDown:t[33],onDrag:t[51],onDragStart:t[52],onDragStop:t[53],store:t[31]})),G(e,"click",t[38]),G(e,"mouseenter",t[55]),G(e,"mouseleave",t[56]),G(e,"mousemove",t[57]),G(e,"contextmenu",t[58])],a=!0)},p(c,h){if(h[0]&134217728&&f!==(f=c[27])){if(n){Pe();const p=n;W(p.$$.fragment,1,0,()=>{x(p,1)}),Ae()}f?(n=Ci(f,d(c)),$(n.$$.fragment),D(n.$$.fragment,1),Q(n,e,null)):n=null}else if(f){const p={};h[0]&4&&(p.data=c[2]),h[0]&2&&(p.id=c[1]),h[0]&8&&(p.selected=c[3]??!1),h[0]&268435488&&(p.selectable=c[5]??c[28]??!0),h[0]&128&&(p.deletable=c[7]??!0),h[0]&16384&&(p.sourcePosition=c[14]),h[0]&32768&&(p.targetPosition=c[15]),h[0]&65536&&(p.zIndex=c[16]),h[0]&512&&(p.dragging=c[9]),h[0]&536870928&&(p.draggable=c[4]??c[29]??!0),h[0]&524288&&(p.dragHandle=c[19]),h[0]&2097152&&(p.parentId=c[21]),h[0]&33554432&&(p.type=c[25]),h[0]&1073741824&&(p.isConnectable=c[30]),h[0]&4096&&(p.positionAbsoluteX=c[12]),h[0]&8192&&(p.positionAbsoluteY=c[13]),h[0]&131072&&(p.width=c[17]),h[0]&262144&&(p.height=c[18]),n.$set(p)}(!r||h[0]&2)&&g(e,"data-id",c[1]),(!r||h[0]&41943040&&i!==(i=qe(["svelte-flow__node",`svelte-flow__node-${c[25]}`,c[23]])))&&g(e,"class",i),(!r||h[0]&67109888&&o!==(o=(c[10]??"")+";"+c[26].width+c[26].height))&&g(e,"style",o),l&&tt(l.update)&&h[0]&4718626&&l.update.call(null,{nodeId:c[1],isSelectable:c[5],disabled:!1,handleSelector:c[19],noDragClass:"nodrag",nodeClickDistance:c[22],onNodeMouseDown:c[33],onDrag:c[51],onDragStart:c[52],onDragStop:c[53],store:c[31]}),(!r||h[0]&41943552)&&ae(e,"dragging",c[9]),(!r||h[0]&41943048)&&ae(e,"selected",c[3]),(!r||h[0]&41943056)&&ae(e,"draggable",c[4]),(!r||h[0]&41943104)&&ae(e,"connectable",c[6]),(!r||h[0]&41943072)&&ae(e,"selectable",c[5]),(!r||h[0]&41943056)&&ae(e,"nopan",c[4]),(!r||h[0]&41945088)&&ae(e,"parent",c[11]);const m=h[0]&67109888;(h[0]&67175424||m)&&we(e,"z-index",c[16]),(h[0]&67122176&&s!==(s=`translate(${c[12]}px, ${c[13]}px)`)||m)&&we(e,"transform",s),(h[0]&68158464||m)&&we(e,"visibility",c[20]?"visible":"hidden")},i(c){r||(n&&D(n.$$.fragment,c),r=!0)},o(c){n&&W(n.$$.fragment,c),r=!1},d(c){c&&B(e),n&&x(n),t[54](null),a=!1,He(u)}}}function Gm(t){let e,n,i=!t[8]&&or(t);return{c(){i&&i.c(),e=Ye()},m(o,l){i&&i.m(o,l),Y(o,e,l),n=!0},p(o,l){o[8]?i&&(Pe(),W(i,1,1,()=>{i=null}),Ae()):i?(i.p(o,l),l[0]&256&&D(i,1)):(i=or(o),i.c(),D(i,1),i.m(e.parentNode,e))},i(o){n||(D(i),n=!0)},o(o){W(i),n=!1},d(o){o&&B(e),i&&i.d(o)}}}function Um(t,e,n){let i,o,l,s,r,a,u,f,{node:d}=e,{id:c}=e,{data:h={}}=e,{selected:m=!1}=e,{draggable:p=void 0}=e,{selectable:v=void 0}=e,{connectable:b=!0}=e,{deletable:C=!0}=e,{hidden:y=!1}=e,{dragging:E=!1}=e,{resizeObserver:S=null}=e,{style:N=void 0}=e,{type:w="default"}=e,{isParent:T=!1}=e,{positionX:A}=e,{positionY:H}=e,{sourcePosition:M=void 0}=e,{targetPosition:I=void 0}=e,{zIndex:R}=e,{measuredWidth:k=void 0}=e,{measuredHeight:P=void 0}=e,{initialWidth:O=void 0}=e,{initialHeight:V=void 0}=e,{width:j=void 0}=e,{height:X=void 0}=e,{dragHandle:ee=void 0}=e,{initialized:q=!1}=e,{parentId:te=void 0}=e,{nodeClickDistance:U=void 0}=e,{class:J=""}=e;const ue=ot(),{nodeTypes:me,nodeDragThreshold:le,selectNodesOnDrag:ve,handleNodeSelection:ne,updateNodeInternals:be,elementsSelectable:oe,nodesDraggable:_e}=ue;re(t,me,Z=>n(50,r=Z)),re(t,oe,Z=>n(28,a=Z)),re(t,_e,Z=>n(29,u=Z));let Ie,K=null;const Ee=Qn(),Te=ye(b);re(t,Te,Z=>n(30,f=Z));let Le,Ce,Ke;zi("svelteflow__node_id",c),zi("svelteflow__node_connectable",Te),Bi(()=>{K&&(S==null||S.unobserve(K))});function nt(Z){v&&(!ie(ve)||!p||ie(le)>0)&&ne(c),Ee("nodeclick",{node:d.internals.userNode,event:Z})}const _t=(Z,Je,Re,$e)=>{Ee("nodedrag",{event:Z,targetNode:Re,nodes:$e})},he=(Z,Je,Re,$e)=>{Ee("nodedragstart",{event:Z,targetNode:Re,nodes:$e})},pt=(Z,Je,Re,$e)=>{Ee("nodedragstop",{event:Z,targetNode:Re,nodes:$e})};function vt(Z){Cn[Z?"unshift":"push"](()=>{Ie=Z,n(24,Ie)})}const Ue=Z=>Ee("nodemouseenter",{node:d,event:Z}),it=Z=>Ee("nodemouseleave",{node:d,event:Z}),Ze=Z=>Ee("nodemousemove",{node:d,event:Z}),Qe=Z=>Ee("nodecontextmenu",{node:d,event:Z});return t.$$set=Z=>{"node"in Z&&n(0,d=Z.node),"id"in Z&&n(1,c=Z.id),"data"in Z&&n(2,h=Z.data),"selected"in Z&&n(3,m=Z.selected),"draggable"in Z&&n(4,p=Z.draggable),"selectable"in Z&&n(5,v=Z.selectable),"connectable"in Z&&n(6,b=Z.connectable),"deletable"in Z&&n(7,C=Z.deletable),"hidden"in Z&&n(8,y=Z.hidden),"dragging"in Z&&n(9,E=Z.dragging),"resizeObserver"in Z&&n(39,S=Z.resizeObserver),"style"in Z&&n(10,N=Z.style),"type"in Z&&n(40,w=Z.type),"isParent"in Z&&n(11,T=Z.isParent),"positionX"in Z&&n(12,A=Z.positionX),"positionY"in Z&&n(13,H=Z.positionY),"sourcePosition"in Z&&n(14,M=Z.sourcePosition),"targetPosition"in Z&&n(15,I=Z.targetPosition),"zIndex"in Z&&n(16,R=Z.zIndex),"measuredWidth"in Z&&n(41,k=Z.measuredWidth),"measuredHeight"in Z&&n(42,P=Z.measuredHeight),"initialWidth"in Z&&n(43,O=Z.initialWidth),"initialHeight"in Z&&n(44,V=Z.initialHeight),"width"in Z&&n(17,j=Z.width),"height"in Z&&n(18,X=Z.height),"dragHandle"in Z&&n(19,ee=Z.dragHandle),"initialized"in Z&&n(20,q=Z.initialized),"parentId"in Z&&n(21,te=Z.parentId),"nodeClickDistance"in Z&&n(22,U=Z.nodeClickDistance),"class"in Z&&n(23,J=Z.class)},t.$$.update=()=>{t.$$.dirty[1]&512&&n(25,i=w||"default"),t.$$.dirty[0]&33554432|t.$$.dirty[1]&524288&&n(49,o=!!r[i]),t.$$.dirty[0]&33554432|t.$$.dirty[1]&524288&&n(27,l=r[i]||Ba),t.$$.dirty[1]&262656&&(o||console.warn("003",Nn.error003(w))),t.$$.dirty[0]&393216|t.$$.dirty[1]&15360&&n(26,s=Zm({width:j,height:X,initialWidth:O,initialHeight:V,measuredWidth:k,measuredHeight:P})),t.$$.dirty[0]&64&&Te.set(!!b),t.$$.dirty[0]&50380802|t.$$.dirty[1]&229376&&((Le&&i!==Le||Ce&&M!==Ce||Ke&&I!==Ke)&&requestAnimationFrame(()=>be(new Map([[c,{id:c,nodeElement:Ie,force:!0}]]))),n(46,Le=i),n(47,Ce=M),n(48,Ke=I)),t.$$.dirty[0]&17825792|t.$$.dirty[1]&16640&&S&&(Ie!==K||!q)&&(K&&S.unobserve(K),Ie&&S.observe(Ie),n(45,K=Ie))},[d,c,h,m,p,v,b,C,y,E,N,T,A,H,M,I,R,j,X,ee,q,te,U,J,Ie,i,s,l,a,u,f,ue,me,ne,oe,_e,Ee,Te,nt,S,w,k,P,O,V,K,Le,Ce,Ke,o,r,_t,he,pt,vt,Ue,it,Ze,Qe]}class Jm extends de{constructor(e){super(),fe(this,e,Um,Gm,Rs,{node:0,id:1,data:2,selected:3,draggable:4,selectable:5,connectable:6,deletable:7,hidden:8,dragging:9,resizeObserver:39,style:10,type:40,isParent:11,positionX:12,positionY:13,sourcePosition:14,targetPosition:15,zIndex:16,measuredWidth:41,measuredHeight:42,initialWidth:43,initialHeight:44,width:17,height:18,dragHandle:19,initialized:20,parentId:21,nodeClickDistance:22,class:23},null,[-1,-1])}}const{Map:Qm}=Eu;function lr(t,e,n){const i=t.slice();return i[21]=e[n],i}function rr(t,e){let n,i,o;return i=new Jm({props:{node:e[21],id:e[21].id,data:e[21].data,selected:!!e[21].selected,hidden:!!e[21].hidden,draggable:!!(e[21].draggable||e[2]&&typeof e[21].draggable>"u"),selectable:!!(e[21].selectable||e[3]&&typeof e[21].selectable>"u"),connectable:!!(e[21].connectable||e[4]&&typeof e[21].connectable>"u"),deletable:e[21].deletable??!0,positionX:e[21].internals.positionAbsolute.x,positionY:e[21].internals.positionAbsolute.y,isParent:e[5].has(e[21].id),style:e[21].style,class:e[21].class,type:e[21].type??"default",sourcePosition:e[21].sourcePosition,targetPosition:e[21].targetPosition,dragging:e[21].dragging,zIndex:e[21].internals.z??0,dragHandle:e[21].dragHandle,initialized:Vi(e[21]),width:e[21].width,height:e[21].height,initialWidth:e[21].initialWidth,initialHeight:e[21].initialHeight,measuredWidth:e[21].measured.width,measuredHeight:e[21].measured.height,parentId:e[21].parentId,resizeObserver:e[11],nodeClickDistance:e[0]}}),i.$on("nodeclick",e[12]),i.$on("nodemouseenter",e[13]),i.$on("nodemousemove",e[14]),i.$on("nodemouseleave",e[15]),i.$on("nodedrag",e[16]),i.$on("nodedragstart",e[17]),i.$on("nodedragstop",e[18]),i.$on("nodecontextmenu",e[19]),{key:t,first:null,c(){n=Ye(),$(i.$$.fragment),this.first=n},m(l,s){Y(l,n,s),Q(i,l,s),o=!0},p(l,s){e=l;const r={};s&2&&(r.node=e[21]),s&2&&(r.id=e[21].id),s&2&&(r.data=e[21].data),s&2&&(r.selected=!!e[21].selected),s&2&&(r.hidden=!!e[21].hidden),s&6&&(r.draggable=!!(e[21].draggable||e[2]&&typeof e[21].draggable>"u")),s&10&&(r.selectable=!!(e[21].selectable||e[3]&&typeof e[21].selectable>"u")),s&18&&(r.connectable=!!(e[21].connectable||e[4]&&typeof e[21].connectable>"u")),s&2&&(r.deletable=e[21].deletable??!0),s&2&&(r.positionX=e[21].internals.positionAbsolute.x),s&2&&(r.positionY=e[21].internals.positionAbsolute.y),s&34&&(r.isParent=e[5].has(e[21].id)),s&2&&(r.style=e[21].style),s&2&&(r.class=e[21].class),s&2&&(r.type=e[21].type??"default"),s&2&&(r.sourcePosition=e[21].sourcePosition),s&2&&(r.targetPosition=e[21].targetPosition),s&2&&(r.dragging=e[21].dragging),s&2&&(r.zIndex=e[21].internals.z??0),s&2&&(r.dragHandle=e[21].dragHandle),s&2&&(r.initialized=Vi(e[21])),s&2&&(r.width=e[21].width),s&2&&(r.height=e[21].height),s&2&&(r.initialWidth=e[21].initialWidth),s&2&&(r.initialHeight=e[21].initialHeight),s&2&&(r.measuredWidth=e[21].measured.width),s&2&&(r.measuredHeight=e[21].measured.height),s&2&&(r.parentId=e[21].parentId),s&1&&(r.nodeClickDistance=e[0]),i.$set(r)},i(l){o||(D(i.$$.fragment,l),o=!0)},o(l){W(i.$$.fragment,l),o=!1},d(l){l&&B(n),x(i,l)}}}function xm(t){let e,n=[],i=new Qm,o,l=We(t[1]);const s=r=>r[21].id;for(let r=0;r<l.length;r+=1){let a=lr(t,l,r),u=s(a);i.set(u,n[r]=rr(u,a))}return{c(){e=z("div");for(let r=0;r<n.length;r+=1)n[r].c();g(e,"class","svelte-flow__nodes svelte-tf4uy4")},m(r,a){Y(r,e,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);o=!0},p(r,[a]){a&2111&&(l=We(r[1]),Pe(),n=ht(n,a,s,1,r,l,i,e,dt,rr,null,lr),Ae())},i(r){if(!o){for(let a=0;a<l.length;a+=1)D(n[a]);o=!0}},o(r){for(let a=0;a<n.length;a+=1)W(n[a]);o=!1},d(r){r&&B(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function $m(t,e,n){let i,o,l,s,r,{nodeClickDistance:a=0}=e;const{visibleNodes:u,nodesDraggable:f,nodesConnectable:d,elementsSelectable:c,updateNodeInternals:h,parentLookup:m}=ot();re(t,u,T=>n(1,i=T)),re(t,f,T=>n(2,o=T)),re(t,d,T=>n(4,s=T)),re(t,c,T=>n(3,l=T)),re(t,m,T=>n(5,r=T));const p=typeof ResizeObserver>"u"?null:new ResizeObserver(T=>{const A=new Map;T.forEach(H=>{const M=H.target.getAttribute("data-id");A.set(M,{id:M,nodeElement:H.target,force:!0})}),h(A)});Bi(()=>{p==null||p.disconnect()});function v(T){De.call(this,t,T)}function b(T){De.call(this,t,T)}function C(T){De.call(this,t,T)}function y(T){De.call(this,t,T)}function E(T){De.call(this,t,T)}function S(T){De.call(this,t,T)}function N(T){De.call(this,t,T)}function w(T){De.call(this,t,T)}return t.$$set=T=>{"nodeClickDistance"in T&&n(0,a=T.nodeClickDistance)},[a,i,o,l,s,r,u,f,d,c,m,p,v,b,C,y,E,S,N,w]}class e0 extends de{constructor(e){super(),fe(this,e,$m,xm,ce,{nodeClickDistance:0})}}function sr(t){let e,n,i,o,l,s,r,a;var u=t[27];function f(d,c){return{props:{id:d[0],source:d[1],target:d[2],sourceX:d[14],sourceY:d[15],targetX:d[16],targetY:d[17],sourcePosition:d[18],targetPosition:d[19],animated:d[6],selected:d[7],label:d[10],labelStyle:d[11],data:d[3],style:d[4],interactionWidth:d[21],selectable:d[24],deletable:d[8]??!0,type:d[23],sourceHandleId:d[12],targetHandleId:d[13],markerStart:d[26],markerEnd:d[25]}}}return u&&(i=Ci(u,f(t))),{c(){e=Fe("svg"),n=Fe("g"),i&&$(i.$$.fragment),g(n,"class",o=qe(["svelte-flow__edge",t[22]])),g(n,"data-id",t[0]),g(n,"aria-label",l=t[20]===null?void 0:t[20]?t[20]:`Edge from ${t[1]} to ${t[2]}`),g(n,"role","img"),ae(n,"animated",t[6]),ae(n,"selected",t[7]),ae(n,"selectable",t[24]),we(e,"z-index",t[5])},m(d,c){Y(d,e,c),_(e,n),i&&Q(i,n,null),s=!0,r||(a=[G(n,"click",t[32]),G(n,"contextmenu",t[41]),G(n,"mouseenter",t[42]),G(n,"mouseleave",t[43])],r=!0)},p(d,c){if(c[0]&134217728&&u!==(u=d[27])){if(i){Pe();const h=i;W(h.$$.fragment,1,0,()=>{x(h,1)}),Ae()}u?(i=Ci(u,f(d)),$(i.$$.fragment),D(i.$$.fragment,1),Q(i,n,null)):i=null}else if(u){const h={};c[0]&1&&(h.id=d[0]),c[0]&2&&(h.source=d[1]),c[0]&4&&(h.target=d[2]),c[0]&16384&&(h.sourceX=d[14]),c[0]&32768&&(h.sourceY=d[15]),c[0]&65536&&(h.targetX=d[16]),c[0]&131072&&(h.targetY=d[17]),c[0]&262144&&(h.sourcePosition=d[18]),c[0]&524288&&(h.targetPosition=d[19]),c[0]&64&&(h.animated=d[6]),c[0]&128&&(h.selected=d[7]),c[0]&1024&&(h.label=d[10]),c[0]&2048&&(h.labelStyle=d[11]),c[0]&8&&(h.data=d[3]),c[0]&16&&(h.style=d[4]),c[0]&2097152&&(h.interactionWidth=d[21]),c[0]&16777216&&(h.selectable=d[24]),c[0]&256&&(h.deletable=d[8]??!0),c[0]&8388608&&(h.type=d[23]),c[0]&4096&&(h.sourceHandleId=d[12]),c[0]&8192&&(h.targetHandleId=d[13]),c[0]&67108864&&(h.markerStart=d[26]),c[0]&33554432&&(h.markerEnd=d[25]),i.$set(h)}(!s||c[0]&4194304&&o!==(o=qe(["svelte-flow__edge",d[22]])))&&g(n,"class",o),(!s||c[0]&1)&&g(n,"data-id",d[0]),(!s||c[0]&1048582&&l!==(l=d[20]===null?void 0:d[20]?d[20]:`Edge from ${d[1]} to ${d[2]}`))&&g(n,"aria-label",l),(!s||c[0]&4194368)&&ae(n,"animated",d[6]),(!s||c[0]&4194432)&&ae(n,"selected",d[7]),(!s||c[0]&20971520)&&ae(n,"selectable",d[24]),c[0]&32&&we(e,"z-index",d[5])},i(d){s||(i&&D(i.$$.fragment,d),s=!0)},o(d){i&&W(i.$$.fragment,d),s=!1},d(d){d&&B(e),i&&x(i),r=!1,He(a)}}}function t0(t){let e,n,i=!t[9]&&sr(t);return{c(){i&&i.c(),e=Ye()},m(o,l){i&&i.m(o,l),Y(o,e,l),n=!0},p(o,l){o[9]?i&&(Pe(),W(i,1,1,()=>{i=null}),Ae()):i?(i.p(o,l),l[0]&512&&D(i,1)):(i=sr(o),i.c(),D(i,1),i.m(e.parentNode,e))},i(o){n||(D(i),n=!0)},o(o){W(i),n=!1},d(o){o&&B(e),i&&i.d(o)}}}function n0(t,e,n){let i,o,l,s,r,a,u,f,d,{id:c}=e,{type:h="default"}=e,{source:m=""}=e,{target:p=""}=e,{data:v={}}=e,{style:b=void 0}=e,{zIndex:C=void 0}=e,{animated:y=!1}=e,{selected:E=!1}=e,{selectable:S=void 0}=e,{deletable:N=void 0}=e,{hidden:w=!1}=e,{label:T=void 0}=e,{labelStyle:A=void 0}=e,{markerStart:H=void 0}=e,{markerEnd:M=void 0}=e,{sourceHandle:I=void 0}=e,{targetHandle:R=void 0}=e,{sourceX:k}=e,{sourceY:P}=e,{targetX:O}=e,{targetY:V}=e,{sourcePosition:j}=e,{targetPosition:X}=e,{ariaLabel:ee=void 0}=e,{interactionWidth:q=void 0}=e,{class:te=""}=e;zi("svelteflow__edge_id",c);const{edgeLookup:U,edgeTypes:J,flowId:ue,elementsSelectable:me}=ot();re(t,U,K=>n(44,a=K)),re(t,J,K=>n(40,d=K)),re(t,ue,K=>n(39,f=K)),re(t,me,K=>n(38,u=K));const le=Qn(),ve=Ya();function ne(K){const Ee=a.get(c);Ee&&(ve(c),le("edgeclick",{event:K,edge:Ee}))}function be(K,Ee){const Te=a.get(c);Te&&le(Ee,{event:K,edge:Te})}const oe=K=>{be(K,"edgecontextmenu")},_e=K=>{be(K,"edgemouseenter")},Ie=K=>{be(K,"edgemouseleave")};return t.$$set=K=>{"id"in K&&n(0,c=K.id),"type"in K&&n(34,h=K.type),"source"in K&&n(1,m=K.source),"target"in K&&n(2,p=K.target),"data"in K&&n(3,v=K.data),"style"in K&&n(4,b=K.style),"zIndex"in K&&n(5,C=K.zIndex),"animated"in K&&n(6,y=K.animated),"selected"in K&&n(7,E=K.selected),"selectable"in K&&n(35,S=K.selectable),"deletable"in K&&n(8,N=K.deletable),"hidden"in K&&n(9,w=K.hidden),"label"in K&&n(10,T=K.label),"labelStyle"in K&&n(11,A=K.labelStyle),"markerStart"in K&&n(36,H=K.markerStart),"markerEnd"in K&&n(37,M=K.markerEnd),"sourceHandle"in K&&n(12,I=K.sourceHandle),"targetHandle"in K&&n(13,R=K.targetHandle),"sourceX"in K&&n(14,k=K.sourceX),"sourceY"in K&&n(15,P=K.sourceY),"targetX"in K&&n(16,O=K.targetX),"targetY"in K&&n(17,V=K.targetY),"sourcePosition"in K&&n(18,j=K.sourcePosition),"targetPosition"in K&&n(19,X=K.targetPosition),"ariaLabel"in K&&n(20,ee=K.ariaLabel),"interactionWidth"in K&&n(21,q=K.interactionWidth),"class"in K&&n(22,te=K.class)},t.$$.update=()=>{t.$$.dirty[1]&8&&n(23,i=h||"default"),t.$$.dirty[0]&8388608|t.$$.dirty[1]&512&&n(27,o=d[i]||Fa),t.$$.dirty[1]&288&&n(26,l=H?`url('#${Wo(H,f)}')`:void 0),t.$$.dirty[1]&320&&n(25,s=M?`url('#${Wo(M,f)}')`:void 0),t.$$.dirty[1]&144&&n(24,r=S??u)},[c,m,p,v,b,C,y,E,N,w,T,A,I,R,k,P,O,V,j,X,ee,q,te,i,r,s,l,o,U,J,ue,me,ne,be,h,S,H,M,u,f,d,oe,_e,Ie]}class i0 extends de{constructor(e){super(),fe(this,e,n0,t0,Rs,{id:0,type:34,source:1,target:2,data:3,style:4,zIndex:5,animated:6,selected:7,selectable:35,deletable:8,hidden:9,label:10,labelStyle:11,markerStart:36,markerEnd:37,sourceHandle:12,targetHandle:13,sourceX:14,sourceY:15,targetX:16,targetY:17,sourcePosition:18,targetPosition:19,ariaLabel:20,interactionWidth:21,class:22},null,[-1,-1])}}function o0(t,e,n){let{onMount:i=void 0}=e,{onDestroy:o=void 0}=e;return Ct(()=>(i==null||i(),o)),t.$$set=l=>{"onMount"in l&&n(0,i=l.onMount),"onDestroy"in l&&n(1,o=l.onDestroy)},[i,o]}class l0 extends de{constructor(e){super(),fe(this,e,o0,null,ce,{onMount:0,onDestroy:1})}}function ar(t,e,n){const i=t.slice();return i[2]=e[n],i}function ur(t,e){let n,i,o;const l=[e[2]];let s={};for(let r=0;r<l.length;r+=1)s=se(s,l[r]);return i=new h0({props:s}),{key:t,first:null,c(){n=Ye(),$(i.$$.fragment),this.first=n},m(r,a){Y(r,n,a),Q(i,r,a),o=!0},p(r,a){e=r;const u=a&1?Ge(l,[xe(e[2])]):{};i.$set(u)},i(r){o||(D(i.$$.fragment,r),o=!0)},o(r){W(i.$$.fragment,r),o=!1},d(r){r&&B(n),x(i,r)}}}function r0(t){let e,n=[],i=new Map,o,l=We(t[0]);const s=r=>r[2].id;for(let r=0;r<l.length;r+=1){let a=ar(t,l,r),u=s(a);i.set(u,n[r]=ur(u,a))}return{c(){e=Fe("defs");for(let r=0;r<n.length;r+=1)n[r].c()},m(r,a){Y(r,e,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);o=!0},p(r,[a]){a&1&&(l=We(r[0]),Pe(),n=ht(n,a,s,1,r,l,i,e,dt,ur,null,ar),Ae())},i(r){if(!o){for(let a=0;a<l.length;a+=1)D(n[a]);o=!0}},o(r){for(let a=0;a<n.length;a+=1)W(n[a]);o=!1},d(r){r&&B(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function s0(t,e,n){let i;const{markers:o}=ot();return re(t,o,l=>n(0,i=l)),[i,o]}class a0 extends de{constructor(e){super(),fe(this,e,s0,r0,ce,{})}}function u0(t){let e;return{c(){e=Fe("polyline"),g(e,"stroke",t[6]),g(e,"stroke-linecap","round"),g(e,"stroke-linejoin","round"),g(e,"stroke-width",t[7]),g(e,"fill",t[6]),g(e,"points","-5,-4 0,0 -5,4 -5,-4")},m(n,i){Y(n,e,i)},p(n,i){i&64&&g(e,"stroke",n[6]),i&128&&g(e,"stroke-width",n[7]),i&64&&g(e,"fill",n[6])},d(n){n&&B(e)}}}function c0(t){let e;return{c(){e=Fe("polyline"),g(e,"stroke",t[6]),g(e,"stroke-linecap","round"),g(e,"stroke-linejoin","round"),g(e,"stroke-width",t[7]),g(e,"fill","none"),g(e,"points","-5,-4 0,0 -5,4")},m(n,i){Y(n,e,i)},p(n,i){i&64&&g(e,"stroke",n[6]),i&128&&g(e,"stroke-width",n[7])},d(n){n&&B(e)}}}function f0(t){let e,n,i;function o(r,a){if(r[1]===Ii.Arrow)return c0;if(r[1]===Ii.ArrowClosed)return u0}let l=o(t),s=l&&l(t);return{c(){e=Fe("marker"),s&&s.c(),g(e,"class","svelte-flow__arrowhead"),g(e,"id",t[0]),g(e,"markerWidth",n=`${t[2]}`),g(e,"markerHeight",i=`${t[3]}`),g(e,"viewBox","-10 -10 20 20"),g(e,"markerUnits",t[4]),g(e,"orient",t[5]),g(e,"refX","0"),g(e,"refY","0")},m(r,a){Y(r,e,a),s&&s.m(e,null)},p(r,[a]){l===(l=o(r))&&s?s.p(r,a):(s&&s.d(1),s=l&&l(r),s&&(s.c(),s.m(e,null))),a&1&&g(e,"id",r[0]),a&4&&n!==(n=`${r[2]}`)&&g(e,"markerWidth",n),a&8&&i!==(i=`${r[3]}`)&&g(e,"markerHeight",i),a&16&&g(e,"markerUnits",r[4]),a&32&&g(e,"orient",r[5])},i:Se,o:Se,d(r){r&&B(e),s&&s.d()}}}function d0(t,e,n){let{id:i}=e,{type:o}=e,{width:l=12.5}=e,{height:s=12.5}=e,{markerUnits:r="strokeWidth"}=e,{orient:a="auto-start-reverse"}=e,{color:u=void 0}=e,{strokeWidth:f=void 0}=e;return t.$$set=d=>{"id"in d&&n(0,i=d.id),"type"in d&&n(1,o=d.type),"width"in d&&n(2,l=d.width),"height"in d&&n(3,s=d.height),"markerUnits"in d&&n(4,r=d.markerUnits),"orient"in d&&n(5,a=d.orient),"color"in d&&n(6,u=d.color),"strokeWidth"in d&&n(7,f=d.strokeWidth)},[i,o,l,s,r,a,u,f]}class h0 extends de{constructor(e){super(),fe(this,e,d0,f0,ce,{id:0,type:1,width:2,height:3,markerUnits:4,orient:5,color:6,strokeWidth:7})}}function cr(t,e,n){const i=t.slice();return i[14]=e[n],i}function fr(t,e){let n,i,o;return i=new i0({props:{id:e[14].id,source:e[14].source,target:e[14].target,data:e[14].data,style:e[14].style,animated:e[14].animated,selected:e[14].selected,selectable:e[14].selectable??e[1],deletable:e[14].deletable,hidden:e[14].hidden,label:e[14].label,labelStyle:e[14].labelStyle,markerStart:e[14].markerStart,markerEnd:e[14].markerEnd,sourceHandle:e[14].sourceHandle,targetHandle:e[14].targetHandle,sourceX:e[14].sourceX,sourceY:e[14].sourceY,targetX:e[14].targetX,targetY:e[14].targetY,sourcePosition:e[14].sourcePosition,targetPosition:e[14].targetPosition,ariaLabel:e[14].ariaLabel,interactionWidth:e[14].interactionWidth,class:e[14].class,type:e[14].type||"default",zIndex:e[14].zIndex}}),i.$on("edgeclick",e[7]),i.$on("edgecontextmenu",e[8]),i.$on("edgemouseenter",e[9]),i.$on("edgemouseleave",e[10]),{key:t,first:null,c(){n=Ye(),$(i.$$.fragment),this.first=n},m(l,s){Y(l,n,s),Q(i,l,s),o=!0},p(l,s){e=l;const r={};s&1&&(r.id=e[14].id),s&1&&(r.source=e[14].source),s&1&&(r.target=e[14].target),s&1&&(r.data=e[14].data),s&1&&(r.style=e[14].style),s&1&&(r.animated=e[14].animated),s&1&&(r.selected=e[14].selected),s&3&&(r.selectable=e[14].selectable??e[1]),s&1&&(r.deletable=e[14].deletable),s&1&&(r.hidden=e[14].hidden),s&1&&(r.label=e[14].label),s&1&&(r.labelStyle=e[14].labelStyle),s&1&&(r.markerStart=e[14].markerStart),s&1&&(r.markerEnd=e[14].markerEnd),s&1&&(r.sourceHandle=e[14].sourceHandle),s&1&&(r.targetHandle=e[14].targetHandle),s&1&&(r.sourceX=e[14].sourceX),s&1&&(r.sourceY=e[14].sourceY),s&1&&(r.targetX=e[14].targetX),s&1&&(r.targetY=e[14].targetY),s&1&&(r.sourcePosition=e[14].sourcePosition),s&1&&(r.targetPosition=e[14].targetPosition),s&1&&(r.ariaLabel=e[14].ariaLabel),s&1&&(r.interactionWidth=e[14].interactionWidth),s&1&&(r.class=e[14].class),s&1&&(r.type=e[14].type||"default"),s&1&&(r.zIndex=e[14].zIndex),i.$set(r)},i(l){o||(D(i.$$.fragment,l),o=!0)},o(l){W(i.$$.fragment,l),o=!1},d(l){l&&B(n),x(i,l)}}}function dr(t){let e,n;return e=new l0({props:{onMount:t[11],onDestroy:t[12]}}),{c(){$(e.$$.fragment)},m(i,o){Q(e,i,o),n=!0},p(i,o){const l={};o&4&&(l.onMount=i[11]),o&4&&(l.onDestroy=i[12]),e.$set(l)},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function g0(t){let e,n,i,o,l=[],s=new Map,r,a;i=new a0({});let u=We(t[0]);const f=c=>c[14].id;for(let c=0;c<u.length;c+=1){let h=cr(t,u,c),m=f(h);s.set(m,l[c]=fr(m,h))}let d=t[0].length>0&&dr(t);return{c(){e=z("div"),n=Fe("svg"),$(i.$$.fragment),o=L();for(let c=0;c<l.length;c+=1)l[c].c();r=L(),d&&d.c(),g(n,"class","svelte-flow__marker"),g(e,"class","svelte-flow__edges")},m(c,h){Y(c,e,h),_(e,n),Q(i,n,null),_(e,o);for(let m=0;m<l.length;m+=1)l[m]&&l[m].m(e,null);_(e,r),d&&d.m(e,null),a=!0},p(c,[h]){h&3&&(u=We(c[0]),Pe(),l=ht(l,h,f,1,c,u,s,e,dt,fr,r,cr),Ae()),c[0].length>0?d?(d.p(c,h),h&1&&D(d,1)):(d=dr(c),d.c(),D(d,1),d.m(e,null)):d&&(Pe(),W(d,1,1,()=>{d=null}),Ae())},i(c){if(!a){D(i.$$.fragment,c);for(let h=0;h<u.length;h+=1)D(l[h]);D(d),a=!0}},o(c){W(i.$$.fragment,c);for(let h=0;h<l.length;h+=1)W(l[h]);W(d),a=!1},d(c){c&&B(e),x(i);for(let h=0;h<l.length;h+=1)l[h].d();d&&d.d()}}}function m0(t,e,n){let i,o,l,{defaultEdgeOptions:s}=e;const{visibleEdges:r,edgesInitialized:a,edges:{setDefaultOptions:u},elementsSelectable:f}=ot();re(t,r,b=>n(0,i=b)),re(t,a,b=>n(2,l=b)),re(t,f,b=>n(1,o=b)),Ct(()=>{s&&u(s)});function d(b){De.call(this,t,b)}function c(b){De.call(this,t,b)}function h(b){De.call(this,t,b)}function m(b){De.call(this,t,b)}const p=()=>{ki(a,l=!0,l)},v=()=>{ki(a,l=!1,l)};return t.$$set=b=>{"defaultEdgeOptions"in b&&n(6,s=b.defaultEdgeOptions)},[i,o,l,r,a,f,s,d,c,h,m,p,v]}class _0 extends de{constructor(e){super(),fe(this,e,m0,g0,ce,{defaultEdgeOptions:6})}}function hr(t){let e;return{c(){e=z("div"),g(e,"class","svelte-flow__selection svelte-1iugwpu"),we(e,"width",typeof t[2]=="string"?t[2]:`${t[2]}px`),we(e,"height",typeof t[3]=="string"?t[3]:`${t[3]}px`),we(e,"transform",`translate(${t[0]}px, ${t[1]}px)`)},m(n,i){Y(n,e,i)},p(n,i){i&4&&we(e,"width",typeof n[2]=="string"?n[2]:`${n[2]}px`),i&8&&we(e,"height",typeof n[3]=="string"?n[3]:`${n[3]}px`),i&3&&we(e,"transform",`translate(${n[0]}px, ${n[1]}px)`)},d(n){n&&B(e)}}}function p0(t){let e,n=t[4]&&hr(t);return{c(){n&&n.c(),e=Ye()},m(i,o){n&&n.m(i,o),Y(i,e,o)},p(i,[o]){i[4]?n?n.p(i,o):(n=hr(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Se,o:Se,d(i){i&&B(e),n&&n.d(i)}}}function b0(t,e,n){let{x:i=0}=e,{y:o=0}=e,{width:l=0}=e,{height:s=0}=e,{isVisible:r=!0}=e;return t.$$set=a=>{"x"in a&&n(0,i=a.x),"y"in a&&n(1,o=a.y),"width"in a&&n(2,l=a.width),"height"in a&&n(3,s=a.height),"isVisible"in a&&n(4,r=a.isVisible)},[i,o,l,s,r]}class Ga extends de{constructor(e){super(),fe(this,e,b0,p0,ce,{x:0,y:1,width:2,height:3,isVisible:4})}}function v0(t){var i,o,l,s;let e,n;return e=new Ga({props:{isVisible:!!(t[0]&&t[1]==="user"),width:(i=t[0])==null?void 0:i.width,height:(o=t[0])==null?void 0:o.height,x:(l=t[0])==null?void 0:l.x,y:(s=t[0])==null?void 0:s.y}}),{c(){$(e.$$.fragment)},m(r,a){Q(e,r,a),n=!0},p(r,[a]){var f,d,c,h;const u={};a&3&&(u.isVisible=!!(r[0]&&r[1]==="user")),a&1&&(u.width=(f=r[0])==null?void 0:f.width),a&1&&(u.height=(d=r[0])==null?void 0:d.height),a&1&&(u.x=(c=r[0])==null?void 0:c.x),a&1&&(u.y=(h=r[0])==null?void 0:h.y),e.$set(u)},i(r){n||(D(e.$$.fragment,r),n=!0)},o(r){W(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function y0(t,e,n){let i,o;const{selectionRect:l,selectionRectMode:s}=ot();return re(t,l,r=>n(0,i=r)),re(t,s,r=>n(1,o=r)),[i,o,l,s]}class w0 extends de{constructor(e){super(),fe(this,e,y0,v0,ce,{})}}function gr(t){let e,n,i,o,l;return n=new Ga({props:{width:"100%",height:"100%",x:0,y:0}}),{c(){e=z("div"),$(n.$$.fragment),g(e,"class","selection-wrapper nopan svelte-5pxri"),we(e,"width",t[1].width+"px"),we(e,"height",t[1].height+"px"),we(e,"transform","translate("+t[1].x+"px, "+t[1].y+"px)"),g(e,"role","button"),g(e,"tabindex","-1")},m(s,r){Y(s,e,r),Q(n,e,null),i=!0,o||(l=[ct(Za.call(null,e,{disabled:!1,store:t[2],onDrag:t[11],onDragStart:t[12],onDragStop:t[13]})),G(e,"contextmenu",t[7]),G(e,"click",t[8]),G(e,"keyup",S0)],o=!0)},p(s,r){(!i||r&2)&&we(e,"width",s[1].width+"px"),(!i||r&2)&&we(e,"height",s[1].height+"px"),(!i||r&2)&&we(e,"transform","translate("+s[1].x+"px, "+s[1].y+"px)")},i(s){i||(D(n.$$.fragment,s),i=!0)},o(s){W(n.$$.fragment,s),i=!1},d(s){s&&B(e),x(n),o=!1,He(l)}}}function k0(t){let e=t[0]==="nodes"&&t[1]&&St(t[1].x)&&St(t[1].y),n,i,o=e&&gr(t);return{c(){o&&o.c(),n=Ye()},m(l,s){o&&o.m(l,s),Y(l,n,s),i=!0},p(l,[s]){s&3&&(e=l[0]==="nodes"&&l[1]&&St(l[1].x)&&St(l[1].y)),e?o?(o.p(l,s),s&3&&D(o,1)):(o=gr(l),o.c(),D(o,1),o.m(n.parentNode,n)):o&&(Pe(),W(o,1,1,()=>{o=null}),Ae())},i(l){i||(D(o),i=!0)},o(l){W(o),i=!1},d(l){l&&B(n),o&&o.d(l)}}}const S0=()=>{};function C0(t,e,n){let i,o,l;const s=ot(),{selectionRectMode:r,nodes:a,nodeLookup:u}=s;re(t,r,b=>n(0,l=b)),re(t,a,b=>n(9,i=b)),re(t,u,b=>n(10,o=b));const f=Qn();let d=null;function c(b){const C=i.filter(y=>y.selected);f("selectioncontextmenu",{nodes:C,event:b})}function h(b){const C=i.filter(y=>y.selected);f("selectionclick",{nodes:C,event:b})}const m=(b,C,y,E)=>{f("nodedrag",{event:b,targetNode:null,nodes:E})},p=(b,C,y,E)=>{f("nodedragstart",{event:b,targetNode:null,nodes:E})},v=(b,C,y,E)=>{f("nodedragstop",{event:b,targetNode:null,nodes:E})};return t.$$.update=()=>{t.$$.dirty&1537&&l==="nodes"&&n(1,d=ti(o,{filter:b=>!!b.selected}))},[l,d,s,r,a,u,f,c,h,i,o,m,p,v]}class z0 extends de{constructor(e){super(),fe(this,e,C0,k0,ce,{})}}function Nt(t,e){let{enabled:n=!0,trigger:i,type:o="keydown"}=e;function l(s){const r=Array.isArray(i)?i:[i],a={alt:s.altKey,ctrl:s.ctrlKey,shift:s.shiftKey,meta:s.metaKey};for(const u of r){const f={modifier:[],preventDefault:!1,enabled:!0,...u},{modifier:d,key:c,callback:h,preventDefault:m,enabled:p}=f;if(p){if(d.length&&!(Array.isArray(d)?d:[d]).map(C=>typeof C=="string"?[C]:C).some(C=>C.every(y=>a[y])))continue;if(s.key===c){m&&s.preventDefault();const v={node:t,trigger:f,originalEvent:s};t.dispatchEvent(new CustomEvent("shortcut",{detail:v})),h==null||h(v)}}}}return n&&t.addEventListener(o,l),{update:s=>{const{enabled:r=!0,type:a="keydown"}=s;n&&(!r||o!==a)?t.removeEventListener(o,l):!n&&r&&t.addEventListener(a,l),n=r,o=a,i=s.trigger},destroy:()=>{t.removeEventListener(o,l)}}}function E0(t){let e,n,i,o,l,s,r,a,u,f,d,c;return{c:Se,m(h,m){d||(c=[ct(e=Nt.call(null,window,{trigger:rt(t[0],t[11]),type:"keydown"})),ct(n=Nt.call(null,window,{trigger:rt(t[0],t[12]),type:"keyup"})),ct(i=Nt.call(null,window,{trigger:rt(t[1],t[13]),type:"keydown"})),ct(o=Nt.call(null,window,{trigger:rt(t[1],t[14]),type:"keyup"})),ct(l=Nt.call(null,window,{trigger:rt(t[2],t[15]),type:"keydown"})),ct(s=Nt.call(null,window,{trigger:rt(t[2],t[16]),type:"keyup"})),ct(r=Nt.call(null,window,{trigger:rt(t[3],t[17]),type:"keydown"})),ct(a=Nt.call(null,window,{trigger:rt(t[3],t[18]),type:"keyup"})),ct(u=Nt.call(null,window,{trigger:rt(t[4],t[19]),type:"keydown"})),ct(f=Nt.call(null,window,{trigger:rt(t[4],t[20]),type:"keyup"})),G(window,"blur",t[10]),G(window,"contextmenu",t[10])],d=!0)},p(h,[m]){e&&tt(e.update)&&m&1&&e.update.call(null,{trigger:rt(h[0],h[11]),type:"keydown"}),n&&tt(n.update)&&m&1&&n.update.call(null,{trigger:rt(h[0],h[12]),type:"keyup"}),i&&tt(i.update)&&m&2&&i.update.call(null,{trigger:rt(h[1],h[13]),type:"keydown"}),o&&tt(o.update)&&m&2&&o.update.call(null,{trigger:rt(h[1],h[14]),type:"keyup"}),l&&tt(l.update)&&m&4&&l.update.call(null,{trigger:rt(h[2],h[15]),type:"keydown"}),s&&tt(s.update)&&m&4&&s.update.call(null,{trigger:rt(h[2],h[16]),type:"keyup"}),r&&tt(r.update)&&m&8&&r.update.call(null,{trigger:rt(h[3],h[17]),type:"keydown"}),a&&tt(a.update)&&m&8&&a.update.call(null,{trigger:rt(h[3],h[18]),type:"keyup"}),u&&tt(u.update)&&m&16&&u.update.call(null,{trigger:rt(h[4],h[19]),type:"keydown"}),f&&tt(f.update)&&m&16&&f.update.call(null,{trigger:rt(h[4],h[20]),type:"keyup"})},i:Se,o:Se,d(h){d=!1,He(c)}}}function Ua(t){return t!==null&&typeof t=="object"}function N0(t){return Ua(t)?t.modifier||[]:[]}function M0(t){return t==null?"":Ua(t)?t.key:t}function rt(t,e){return(Array.isArray(t)?t:[t]).map(i=>{const o=M0(i);return{key:o,modifier:N0(i),enabled:o!==null,callback:e}})}function P0(t,e,n){let{selectionKey:i="Shift"}=e,{multiSelectionKey:o=Ri()?"Meta":"Control"}=e,{deleteKey:l="Backspace"}=e,{panActivationKey:s=" "}=e,{zoomActivationKey:r=Ri()?"Meta":"Control"}=e;const{selectionKeyPressed:a,multiselectionKeyPressed:u,deleteKeyPressed:f,panActivationKeyPressed:d,zoomActivationKeyPressed:c,selectionRect:h}=ot();function m(){h.set(null),a.set(!1),u.set(!1),f.set(!1),d.set(!1),c.set(!1)}const p=()=>a.set(!0),v=()=>a.set(!1),b=()=>u.set(!0),C=()=>u.set(!1),y=A=>{!(A.originalEvent.ctrlKey||A.originalEvent.metaKey||A.originalEvent.shiftKey)&&!ng(A.originalEvent)&&f.set(!0)},E=()=>f.set(!1),S=()=>d.set(!0),N=()=>d.set(!1),w=()=>c.set(!0),T=()=>c.set(!1);return t.$$set=A=>{"selectionKey"in A&&n(0,i=A.selectionKey),"multiSelectionKey"in A&&n(1,o=A.multiSelectionKey),"deleteKey"in A&&n(2,l=A.deleteKey),"panActivationKey"in A&&n(3,s=A.panActivationKey),"zoomActivationKey"in A&&n(4,r=A.zoomActivationKey)},[i,o,l,s,r,a,u,f,d,c,m,p,v,b,C,y,E,S,N,w,T]}class A0 extends de{constructor(e){super(),fe(this,e,P0,E0,ce,{selectionKey:0,multiSelectionKey:1,deleteKey:2,panActivationKey:3,zoomActivationKey:4})}}const O0=t=>({}),mr=t=>({});function _r(t){let e,n,i,o;const l=t[13].connectionLine,s=Ve(l,t,t[12],mr);let r=!t[2]&&pr(t);return{c(){e=Fe("svg"),n=Fe("g"),s&&s.c(),r&&r.c(),g(n,"class",i=qe(["svelte-flow__connection",jl(t[3].isValid)])),g(e,"width",t[5]),g(e,"height",t[6]),g(e,"class","svelte-flow__connectionline"),g(e,"style",t[0])},m(a,u){Y(a,e,u),_(e,n),s&&s.m(n,null),r&&r.m(n,null),o=!0},p(a,u){s&&s.p&&(!o||u&4096)&&Xe(s,l,a,a[12],o?je(l,a[12],u,O0):Be(a[12]),mr),a[2]?r&&(r.d(1),r=null):r?r.p(a,u):(r=pr(a),r.c(),r.m(n,null)),(!o||u&8&&i!==(i=qe(["svelte-flow__connection",jl(a[3].isValid)])))&&g(n,"class",i),(!o||u&32)&&g(e,"width",a[5]),(!o||u&64)&&g(e,"height",a[6]),(!o||u&1)&&g(e,"style",a[0])},i(a){o||(D(s,a),o=!0)},o(a){W(s,a),o=!1},d(a){a&&B(e),s&&s.d(a),r&&r.d()}}}function pr(t){let e;return{c(){e=Fe("path"),g(e,"d",t[4]),g(e,"style",t[1]),g(e,"fill","none"),g(e,"class","svelte-flow__connection-path")},m(n,i){Y(n,e,i)},p(n,i){i&16&&g(e,"d",n[4]),i&2&&g(e,"style",n[1])},d(n){n&&B(e)}}}function T0(t){let e,n,i=t[3].inProgress&&_r(t);return{c(){i&&i.c(),e=Ye()},m(o,l){i&&i.m(o,l),Y(o,e,l),n=!0},p(o,[l]){o[3].inProgress?i?(i.p(o,l),l&8&&D(i,1)):(i=_r(o),i.c(),D(i,1),i.m(e.parentNode,e)):i&&(Pe(),W(i,1,1,()=>{i=null}),Ae())},i(o){n||(D(i),n=!0)},o(o){W(i),n=!1},d(o){o&&B(e),i&&i.d(o)}}}function H0(t,e,n){let i,o,l,s,{$$slots:r={},$$scope:a}=e,{containerStyle:u=""}=e,{style:f=""}=e,{isCustomComponent:d=!1}=e;const{width:c,height:h,connection:m,connectionLineType:p}=ot();re(t,c,b=>n(5,l=b)),re(t,h,b=>n(6,s=b)),re(t,m,b=>n(3,o=b)),re(t,p,b=>n(11,i=b));let v=null;return t.$$set=b=>{"containerStyle"in b&&n(0,u=b.containerStyle),"style"in b&&n(1,f=b.style),"isCustomComponent"in b&&n(2,d=b.isCustomComponent),"$$scope"in b&&n(12,a=b.$$scope)},t.$$.update=()=>{if(t.$$.dirty&2060&&o.inProgress&&!d){const{from:b,to:C,fromPosition:y,toPosition:E}=o,S={sourceX:b.x,sourceY:b.y,sourcePosition:y,targetX:C.x,targetY:C.y,targetPosition:E};switch(i){case yn.Bezier:n(4,[v]=Ma(S),v);break;case yn.Step:n(4,[v]=ji({...S,borderRadius:0}),v);break;case yn.SmoothStep:n(4,[v]=ji(S),v);break;default:n(4,[v]=Aa(S),v)}}},[u,f,d,o,v,l,s,c,h,m,p,i,a,r]}class D0 extends de{constructor(e){super(),fe(this,e,H0,T0,ce,{containerStyle:0,style:1,isCustomComponent:2})}}function I0(t){let e,n,i;const o=t[8].default,l=Ve(o,t,t[7],null);let s=[{class:n=qe(["svelte-flow__panel",t[1],...t[2]])},{style:t[0]},t[5]],r={};for(let a=0;a<s.length;a+=1)r=se(r,s[a]);return{c(){e=z("div"),l&&l.c(),Sn(e,r),we(e,"pointer-events",t[3]?"none":"")},m(a,u){Y(a,e,u),l&&l.m(e,null),i=!0},p(a,[u]){l&&l.p&&(!i||u&128)&&Xe(l,o,a,a[7],i?je(o,a[7],u,null):Be(a[7]),null),Sn(e,r=Ge(s,[(!i||u&6&&n!==(n=qe(["svelte-flow__panel",a[1],...a[2]])))&&{class:n},(!i||u&1)&&{style:a[0]},u&32&&a[5]])),we(e,"pointer-events",a[3]?"none":"")},i(a){i||(D(l,a),i=!0)},o(a){W(l,a),i=!1},d(a){a&&B(e),l&&l.d(a)}}}function W0(t,e,n){let i;const o=["position","style","class"];let l=et(e,o),s,{$$slots:r={},$$scope:a}=e,{position:u="top-right"}=e,{style:f=void 0}=e,{class:d=void 0}=e;const{selectionRectMode:c}=ot();return re(t,c,h=>n(3,s=h)),t.$$set=h=>{e=se(se({},e),Ne(h)),n(5,l=et(e,o)),"position"in h&&n(6,u=h.position),"style"in h&&n(0,f=h.style),"class"in h&&n(1,d=h.class),"$$scope"in h&&n(7,a=h.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=`${u}`.split("-"))},[f,d,i,s,c,l,u,a,r]}class $i extends de{constructor(e){super(),fe(this,e,W0,I0,ce,{position:6,style:0,class:1})}}function br(t){let e,n;return e=new $i({props:{position:t[1],class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",$$slots:{default:[L0]},$$scope:{ctx:t}}}),{c(){$(e.$$.fragment)},m(i,o){Q(e,i,o),n=!0},p(i,o){const l={};o&2&&(l.position=i[1]),o&4&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function L0(t){let e;return{c(){e=z("a"),e.textContent="Svelte Flow",g(e,"href","https://svelteflow.dev"),g(e,"target","_blank"),g(e,"rel","noopener noreferrer"),g(e,"aria-label","Svelte Flow attribution")},m(n,i){Y(n,e,i)},p:Se,d(n){n&&B(e)}}}function R0(t){var o;let e,n,i=!((o=t[0])!=null&&o.hideAttribution)&&br(t);return{c(){i&&i.c(),e=Ye()},m(l,s){i&&i.m(l,s),Y(l,e,s),n=!0},p(l,[s]){var r;(r=l[0])!=null&&r.hideAttribution?i&&(Pe(),W(i,1,1,()=>{i=null}),Ae()):i?(i.p(l,s),s&1&&D(i,1)):(i=br(l),i.c(),D(i,1),i.m(e.parentNode,e))},i(l){n||(D(i),n=!0)},o(l){W(i),n=!1},d(l){l&&B(e),i&&i.d(l)}}}function V0(t,e,n){let{proOptions:i=void 0}=e,{position:o="bottom-right"}=e;return t.$$set=l=>{"proOptions"in l&&n(0,i=l.proOptions),"position"in l&&n(1,o=l.position)},[i,o]}class j0 extends de{constructor(e){super(),fe(this,e,V0,R0,ce,{proOptions:0,position:1})}}function vr(t,{nodeTypes:e,edgeTypes:n,minZoom:i,maxZoom:o,translateExtent:l,paneClickDistance:s}){e!==void 0&&t.setNodeTypes(e),n!==void 0&&t.setEdgeTypes(n),i!==void 0&&t.setMinZoom(i),o!==void 0&&t.setMaxZoom(o),l!==void 0&&t.setTranslateExtent(l),s!==void 0&&t.setPaneClickDistance(s)}const X0=t=>Object.keys(t);function B0(t,e){X0(e).forEach(n=>{const i=e[n];i!==void 0&&t[n].set(i)})}function Y0(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function F0(t="light"){return bt("light",n=>{if(t!=="system"){n(t);return}const i=Y0(),o=()=>n(i!=null&&i.matches?"dark":"light");return n(i!=null&&i.matches?"dark":"light"),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}})}const K0=t=>({}),yr=t=>({slot:"connectionLine"});function q0(t){let e;const n=t[75].connectionLine,i=Ve(n,t,t[99],yr);return{c(){i&&i.c()},m(o,l){i&&i.m(o,l),e=!0},p(o,l){i&&i.p&&(!e||l[3]&64)&&Xe(i,n,o,o[99],e?je(n,o[99],l,K0):Be(o[99]),yr)},i(o){e||(D(i,o),e=!0)},o(o){W(i,o),e=!1},d(o){i&&i.d(o)}}}function Z0(t){let e,n,i,o,l,s,r,a,u,f,d,c;return e=new _0({props:{defaultEdgeOptions:t[21]}}),e.$on("edgeclick",t[78]),e.$on("edgecontextmenu",t[79]),e.$on("edgemouseenter",t[80]),e.$on("edgemouseleave",t[81]),i=new D0({props:{containerStyle:t[7],style:t[6],isCustomComponent:t[34].connectionLine,$$slots:{connectionLine:[q0]},$$scope:{ctx:t}}}),u=new e0({props:{nodeClickDistance:t[23]}}),u.$on("nodeclick",t[82]),u.$on("nodemouseenter",t[83]),u.$on("nodemousemove",t[84]),u.$on("nodemouseleave",t[85]),u.$on("nodedragstart",t[86]),u.$on("nodedrag",t[87]),u.$on("nodedragstop",t[88]),u.$on("nodecontextmenu",t[89]),d=new z0({}),d.$on("selectionclick",t[90]),d.$on("selectioncontextmenu",t[91]),d.$on("nodedragstart",t[92]),d.$on("nodedrag",t[93]),d.$on("nodedragstop",t[94]),{c(){$(e.$$.fragment),n=L(),$(i.$$.fragment),o=L(),l=z("div"),s=L(),r=z("div"),a=L(),$(u.$$.fragment),f=L(),$(d.$$.fragment),g(l,"class","svelte-flow__edgelabel-renderer"),g(r,"class","svelte-flow__viewport-portal")},m(h,m){Q(e,h,m),Y(h,n,m),Q(i,h,m),Y(h,o,m),Y(h,l,m),Y(h,s,m),Y(h,r,m),Y(h,a,m),Q(u,h,m),Y(h,f,m),Q(d,h,m),c=!0},p(h,m){const p={};m[0]&2097152&&(p.defaultEdgeOptions=h[21]),e.$set(p);const v={};m[0]&128&&(v.containerStyle=h[7]),m[0]&64&&(v.style=h[6]),m[1]&8&&(v.isCustomComponent=h[34].connectionLine),m[3]&64&&(v.$$scope={dirty:m,ctx:h}),i.$set(v);const b={};m[0]&8388608&&(b.nodeClickDistance=h[23]),u.$set(b)},i(h){c||(D(e.$$.fragment,h),D(i.$$.fragment,h),D(u.$$.fragment,h),D(d.$$.fragment,h),c=!0)},o(h){W(e.$$.fragment,h),W(i.$$.fragment,h),W(u.$$.fragment,h),W(d.$$.fragment,h),c=!1},d(h){h&&(B(n),B(o),B(l),B(s),B(r),B(a),B(f)),x(e,h),x(i,h),x(u,h),x(d,h)}}}function G0(t){let e,n,i,o;return e=new qm({props:{$$slots:{default:[Z0]},$$scope:{ctx:t}}}),i=new w0({}),{c(){$(e.$$.fragment),n=L(),$(i.$$.fragment)},m(l,s){Q(e,l,s),Y(l,n,s),Q(i,l,s),o=!0},p(l,s){const r={};s[0]&10485952|s[1]&8|s[3]&64&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){o||(D(e.$$.fragment,l),D(i.$$.fragment,l),o=!0)},o(l){W(e.$$.fragment,l),W(i.$$.fragment,l),o=!1},d(l){l&&B(n),x(e,l),x(i,l)}}}function U0(t){let e,n;return e=new Ym({props:{panOnDrag:t[17]===void 0?!0:t[17],selectionOnDrag:t[18],$$slots:{default:[G0]},$$scope:{ctx:t}}}),e.$on("paneclick",t[95]),e.$on("panecontextmenu",t[96]),{c(){$(e.$$.fragment)},m(i,o){Q(e,i,o),n=!0},p(i,o){const l={};o[0]&131072&&(l.panOnDrag=i[17]===void 0?!0:i[17]),o[0]&262144&&(l.selectionOnDrag=i[18]),o[0]&10485952|o[1]&8|o[3]&64&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function J0(t){let e,n,i,o,l,s,r,a,u,f,d,c;n=new A0({props:{selectionKey:t[1],deleteKey:t[5],panActivationKey:t[2],multiSelectionKey:t[3],zoomActivationKey:t[4]}}),o=new jm({props:{initialViewport:t[31],onMoveStart:t[8],onMove:t[9],onMoveEnd:t[10],panOnScrollMode:t[11]===void 0?Pt.Free:t[11],preventScrolling:t[12]===void 0?!0:t[12],zoomOnScroll:t[13]===void 0?!0:t[13],zoomOnDoubleClick:t[14]===void 0?!0:t[14],zoomOnPinch:t[15]===void 0?!0:t[15],panOnScroll:t[16]===void 0?!1:t[16],panOnDrag:t[17]===void 0?!0:t[17],paneClickDistance:t[22]===void 0?0:t[22],$$slots:{default:[U0]},$$scope:{ctx:t}}}),s=new j0({props:{proOptions:t[20],position:t[19]}});const h=t[75].default,m=Ve(h,t,t[99],null);let p=[{style:t[24]},{class:a=qe(["svelte-flow",t[25],t[30]])},{"data-testid":"svelte-flow__wrapper"},t[33],{role:"application"}],v={};for(let b=0;b<p.length;b+=1)v=se(v,p[b]);return{c(){e=z("div"),$(n.$$.fragment),i=L(),$(o.$$.fragment),l=L(),$(s.$$.fragment),r=L(),m&&m.c(),Sn(e,v),Ei(()=>t[98].call(e)),ae(e,"svelte-18e9ir1",!0)},m(b,C){Y(b,e,C),Q(n,e,null),_(e,i),Q(o,e,null),_(e,l),Q(s,e,null),_(e,r),m&&m.m(e,null),t[97](e),u=Ou(e,t[98].bind(e)),f=!0,d||(c=[G(e,"dragover",t[76]),G(e,"drop",t[77])],d=!0)},p(b,C){const y={};C[0]&2&&(y.selectionKey=b[1]),C[0]&32&&(y.deleteKey=b[5]),C[0]&4&&(y.panActivationKey=b[2]),C[0]&8&&(y.multiSelectionKey=b[3]),C[0]&16&&(y.zoomActivationKey=b[4]),n.$set(y);const E={};C[0]&256&&(E.onMoveStart=b[8]),C[0]&512&&(E.onMove=b[9]),C[0]&1024&&(E.onMoveEnd=b[10]),C[0]&2048&&(E.panOnScrollMode=b[11]===void 0?Pt.Free:b[11]),C[0]&4096&&(E.preventScrolling=b[12]===void 0?!0:b[12]),C[0]&8192&&(E.zoomOnScroll=b[13]===void 0?!0:b[13]),C[0]&16384&&(E.zoomOnDoubleClick=b[14]===void 0?!0:b[14]),C[0]&32768&&(E.zoomOnPinch=b[15]===void 0?!0:b[15]),C[0]&65536&&(E.panOnScroll=b[16]===void 0?!1:b[16]),C[0]&131072&&(E.panOnDrag=b[17]===void 0?!0:b[17]),C[0]&4194304&&(E.paneClickDistance=b[22]===void 0?0:b[22]),C[0]&10879168|C[1]&8|C[3]&64&&(E.$$scope={dirty:C,ctx:b}),o.$set(E);const S={};C[0]&1048576&&(S.proOptions=b[20]),C[0]&524288&&(S.position=b[19]),s.$set(S),m&&m.p&&(!f||C[3]&64)&&Xe(m,h,b,b[99],f?je(h,b[99],C,null):Be(b[99]),null),Sn(e,v=Ge(p,[(!f||C[0]&16777216)&&{style:b[24]},(!f||C[0]&1107296256&&a!==(a=qe(["svelte-flow",b[25],b[30]])))&&{class:a},{"data-testid":"svelte-flow__wrapper"},C[1]&4&&b[33],{role:"application"}])),ae(e,"svelte-18e9ir1",!0)},i(b){f||(D(n.$$.fragment,b),D(o.$$.fragment,b),D(s.$$.fragment,b),D(m,b),f=!0)},o(b){W(n.$$.fragment,b),W(o.$$.fragment,b),W(s.$$.fragment,b),W(m,b),f=!1},d(b){b&&B(e),x(n),x(o),x(s),m&&m.d(b),t[97](null),u(),d=!1,He(c)}}}function Q0(t,e,n){let i;const o=["id","nodes","edges","fitView","fitViewOptions","minZoom","maxZoom","initialViewport","viewport","nodeTypes","edgeTypes","selectionKey","selectionMode","panActivationKey","multiSelectionKey","zoomActivationKey","nodesDraggable","nodesConnectable","nodeDragThreshold","elementsSelectable","snapGrid","deleteKey","connectionRadius","connectionLineType","connectionMode","connectionLineStyle","connectionLineContainerStyle","onMoveStart","onMove","onMoveEnd","isValidConnection","translateExtent","nodeExtent","onlyRenderVisibleElements","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnDrag","selectionOnDrag","autoPanOnConnect","autoPanOnNodeDrag","onerror","ondelete","onedgecreate","attributionPosition","proOptions","defaultEdgeOptions","width","height","colorMode","onconnect","onconnectstart","onconnectend","onbeforedelete","oninit","nodeOrigin","paneClickDistance","nodeClickDistance","defaultMarkerColor","style","class"];let l=et(e,o),s,r,a=Se,u=()=>(a(),a=jn(T,F=>n(100,r=F)),T),f,d=Se,c=()=>(d(),d=jn(i,F=>n(30,f=F)),i);t.$$.on_destroy.push(()=>a()),t.$$.on_destroy.push(()=>d());let{$$slots:h={},$$scope:m}=e;const p=zu(h);let{id:v="1"}=e,{nodes:b}=e,{edges:C}=e,{fitView:y=void 0}=e,{fitViewOptions:E=void 0}=e,{minZoom:S=void 0}=e,{maxZoom:N=void 0}=e,{initialViewport:w=void 0}=e,{viewport:T=void 0}=e;u();let{nodeTypes:A=void 0}=e,{edgeTypes:H=void 0}=e,{selectionKey:M=void 0}=e,{selectionMode:I=void 0}=e,{panActivationKey:R=void 0}=e,{multiSelectionKey:k=void 0}=e,{zoomActivationKey:P=void 0}=e,{nodesDraggable:O=void 0}=e,{nodesConnectable:V=void 0}=e,{nodeDragThreshold:j=void 0}=e,{elementsSelectable:X=void 0}=e,{snapGrid:ee=void 0}=e,{deleteKey:q=void 0}=e,{connectionRadius:te=void 0}=e,{connectionLineType:U=void 0}=e,{connectionMode:J=Ft.Strict}=e,{connectionLineStyle:ue=""}=e,{connectionLineContainerStyle:me=""}=e,{onMoveStart:le=void 0}=e,{onMove:ve=void 0}=e,{onMoveEnd:ne=void 0}=e,{isValidConnection:be=void 0}=e,{translateExtent:oe=void 0}=e,{nodeExtent:_e=void 0}=e,{onlyRenderVisibleElements:Ie=void 0}=e,{panOnScrollMode:K=Pt.Free}=e,{preventScrolling:Ee=!0}=e,{zoomOnScroll:Te=!0}=e,{zoomOnDoubleClick:Le=!0}=e,{zoomOnPinch:Ce=!0}=e,{panOnScroll:Ke=!1}=e,{panOnDrag:nt=!0}=e,{selectionOnDrag:_t=void 0}=e,{autoPanOnConnect:he=!0}=e,{autoPanOnNodeDrag:pt=!0}=e,{onerror:vt=void 0}=e,{ondelete:Ue=void 0}=e,{onedgecreate:it=void 0}=e,{attributionPosition:Ze=void 0}=e,{proOptions:Qe=void 0}=e,{defaultEdgeOptions:Z=void 0}=e,{width:Je=void 0}=e,{height:Re=void 0}=e,{colorMode:$e="light"}=e,{onconnect:Ot=void 0}=e,{onconnectstart:Tt=void 0}=e,{onconnectend:Me=void 0}=e,{onbeforedelete:lt=void 0}=e,{oninit:yt=void 0}=e,{nodeOrigin:Et=void 0}=e,{paneClickDistance:Zt=0}=e,{nodeClickDistance:tl=0}=e,{defaultMarkerColor:ao="#b1b1b7"}=e,{style:nl=void 0}=e,{class:il=void 0}=e,li,un,cn;const xa=r||w,ut=Hu(el)?ot():Wm({nodes:ie(b),edges:ie(C),width:Je,height:Re,fitView:y,nodeOrigin:Et,nodeExtent:_e});Ct(()=>(ut.width.set(un),ut.height.set(cn),ut.domNode.set(li),ut.syncNodeStores(b),ut.syncEdgeStores(C),ut.syncViewport(T),y!==void 0&&ut.fitViewQueued.set(y),E&&ut.fitViewOptions.set(E),vr(ut,{nodeTypes:A,edgeTypes:H,minZoom:S,maxZoom:N,translateExtent:oe,paneClickDistance:Zt}),()=>{ut.reset()}));const{initialized:ol}=ut;re(t,ol,F=>n(74,s=F));let uo=!1;function $a(F){De.call(this,t,F)}function eu(F){De.call(this,t,F)}function tu(F){De.call(this,t,F)}function nu(F){De.call(this,t,F)}function iu(F){De.call(this,t,F)}function ou(F){De.call(this,t,F)}function lu(F){De.call(this,t,F)}function ru(F){De.call(this,t,F)}function su(F){De.call(this,t,F)}function au(F){De.call(this,t,F)}function uu(F){De.call(this,t,F)}function cu(F){De.call(this,t,F)}function fu(F){De.call(this,t,F)}function du(F){De.call(this,t,F)}function hu(F){De.call(this,t,F)}function gu(F){De.call(this,t,F)}function mu(F){De.call(this,t,F)}function _u(F){De.call(this,t,F)}function pu(F){De.call(this,t,F)}function bu(F){De.call(this,t,F)}function vu(F){De.call(this,t,F)}function yu(F){Cn[F?"unshift":"push"](()=>{li=F,n(28,li)})}function wu(){un=this.clientWidth,cn=this.clientHeight,n(26,un),n(27,cn)}return t.$$set=F=>{e=se(se({},e),Ne(F)),n(33,l=et(e,o)),"id"in F&&n(35,v=F.id),"nodes"in F&&n(36,b=F.nodes),"edges"in F&&n(37,C=F.edges),"fitView"in F&&n(38,y=F.fitView),"fitViewOptions"in F&&n(39,E=F.fitViewOptions),"minZoom"in F&&n(40,S=F.minZoom),"maxZoom"in F&&n(41,N=F.maxZoom),"initialViewport"in F&&n(42,w=F.initialViewport),"viewport"in F&&u(n(0,T=F.viewport)),"nodeTypes"in F&&n(43,A=F.nodeTypes),"edgeTypes"in F&&n(44,H=F.edgeTypes),"selectionKey"in F&&n(1,M=F.selectionKey),"selectionMode"in F&&n(45,I=F.selectionMode),"panActivationKey"in F&&n(2,R=F.panActivationKey),"multiSelectionKey"in F&&n(3,k=F.multiSelectionKey),"zoomActivationKey"in F&&n(4,P=F.zoomActivationKey),"nodesDraggable"in F&&n(46,O=F.nodesDraggable),"nodesConnectable"in F&&n(47,V=F.nodesConnectable),"nodeDragThreshold"in F&&n(48,j=F.nodeDragThreshold),"elementsSelectable"in F&&n(49,X=F.elementsSelectable),"snapGrid"in F&&n(50,ee=F.snapGrid),"deleteKey"in F&&n(5,q=F.deleteKey),"connectionRadius"in F&&n(51,te=F.connectionRadius),"connectionLineType"in F&&n(52,U=F.connectionLineType),"connectionMode"in F&&n(53,J=F.connectionMode),"connectionLineStyle"in F&&n(6,ue=F.connectionLineStyle),"connectionLineContainerStyle"in F&&n(7,me=F.connectionLineContainerStyle),"onMoveStart"in F&&n(8,le=F.onMoveStart),"onMove"in F&&n(9,ve=F.onMove),"onMoveEnd"in F&&n(10,ne=F.onMoveEnd),"isValidConnection"in F&&n(54,be=F.isValidConnection),"translateExtent"in F&&n(55,oe=F.translateExtent),"nodeExtent"in F&&n(56,_e=F.nodeExtent),"onlyRenderVisibleElements"in F&&n(57,Ie=F.onlyRenderVisibleElements),"panOnScrollMode"in F&&n(11,K=F.panOnScrollMode),"preventScrolling"in F&&n(12,Ee=F.preventScrolling),"zoomOnScroll"in F&&n(13,Te=F.zoomOnScroll),"zoomOnDoubleClick"in F&&n(14,Le=F.zoomOnDoubleClick),"zoomOnPinch"in F&&n(15,Ce=F.zoomOnPinch),"panOnScroll"in F&&n(16,Ke=F.panOnScroll),"panOnDrag"in F&&n(17,nt=F.panOnDrag),"selectionOnDrag"in F&&n(18,_t=F.selectionOnDrag),"autoPanOnConnect"in F&&n(58,he=F.autoPanOnConnect),"autoPanOnNodeDrag"in F&&n(59,pt=F.autoPanOnNodeDrag),"onerror"in F&&n(60,vt=F.onerror),"ondelete"in F&&n(61,Ue=F.ondelete),"onedgecreate"in F&&n(62,it=F.onedgecreate),"attributionPosition"in F&&n(19,Ze=F.attributionPosition),"proOptions"in F&&n(20,Qe=F.proOptions),"defaultEdgeOptions"in F&&n(21,Z=F.defaultEdgeOptions),"width"in F&&n(63,Je=F.width),"height"in F&&n(64,Re=F.height),"colorMode"in F&&n(65,$e=F.colorMode),"onconnect"in F&&n(66,Ot=F.onconnect),"onconnectstart"in F&&n(67,Tt=F.onconnectstart),"onconnectend"in F&&n(68,Me=F.onconnectend),"onbeforedelete"in F&&n(69,lt=F.onbeforedelete),"oninit"in F&&n(70,yt=F.oninit),"nodeOrigin"in F&&n(71,Et=F.nodeOrigin),"paneClickDistance"in F&&n(22,Zt=F.paneClickDistance),"nodeClickDistance"in F&&n(23,tl=F.nodeClickDistance),"defaultMarkerColor"in F&&n(72,ao=F.defaultMarkerColor),"style"in F&&n(24,nl=F.style),"class"in F&&n(25,il=F.class),"$$scope"in F&&n(99,m=F.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&201326592&&un!==void 0&&cn!==void 0&&(ut.width.set(un),ut.height.set(cn)),t.$$.dirty[2]&6400&&!uo&&s&&(yt==null||yt(),n(73,uo=!0)),t.$$.dirty[1]&2097135632|t.$$.dirty[2]&1777&&B0(ut,{flowId:v,connectionLineType:U,connectionRadius:te,selectionMode:I,snapGrid:ee,defaultMarkerColor:ao,nodesDraggable:O,nodesConnectable:V,elementsSelectable:X,onlyRenderVisibleElements:Ie,isValidConnection:be,autoPanOnConnect:he,autoPanOnNodeDrag:pt,onerror:vt,ondelete:Ue,onedgecreate:it,connectionMode:J,nodeDragThreshold:j,onconnect:Ot,onconnectstart:Tt,onconnectend:Me,onbeforedelete:lt,nodeOrigin:Et}),t.$$.dirty[0]&4194304|t.$$.dirty[1]&16791040&&vr(ut,{nodeTypes:A,edgeTypes:H,minZoom:S,maxZoom:N,translateExtent:oe,paneClickDistance:Zt}),t.$$.dirty[2]&8&&c(n(29,i=F0($e)))},[T,M,R,k,P,q,ue,me,le,ve,ne,K,Ee,Te,Le,Ce,Ke,nt,_t,Ze,Qe,Z,Zt,tl,nl,il,un,cn,li,i,f,xa,ol,l,p,v,b,C,y,E,S,N,w,A,H,I,O,V,j,X,ee,te,U,J,be,oe,_e,Ie,he,pt,vt,Ue,it,Je,Re,$e,Ot,Tt,Me,lt,yt,Et,ao,uo,s,h,$a,eu,tu,nu,iu,ou,lu,ru,su,au,uu,cu,fu,du,hu,gu,mu,_u,pu,bu,vu,yu,wu,m]}class x0 extends de{constructor(e){super(),fe(this,e,Q0,J0,ce,{id:35,nodes:36,edges:37,fitView:38,fitViewOptions:39,minZoom:40,maxZoom:41,initialViewport:42,viewport:0,nodeTypes:43,edgeTypes:44,selectionKey:1,selectionMode:45,panActivationKey:2,multiSelectionKey:3,zoomActivationKey:4,nodesDraggable:46,nodesConnectable:47,nodeDragThreshold:48,elementsSelectable:49,snapGrid:50,deleteKey:5,connectionRadius:51,connectionLineType:52,connectionMode:53,connectionLineStyle:6,connectionLineContainerStyle:7,onMoveStart:8,onMove:9,onMoveEnd:10,isValidConnection:54,translateExtent:55,nodeExtent:56,onlyRenderVisibleElements:57,panOnScrollMode:11,preventScrolling:12,zoomOnScroll:13,zoomOnDoubleClick:14,zoomOnPinch:15,panOnScroll:16,panOnDrag:17,selectionOnDrag:18,autoPanOnConnect:58,autoPanOnNodeDrag:59,onerror:60,ondelete:61,onedgecreate:62,attributionPosition:19,proOptions:20,defaultEdgeOptions:21,width:63,height:64,colorMode:65,onconnect:66,onconnectstart:67,onconnectend:68,onbeforedelete:69,oninit:70,nodeOrigin:71,paneClickDistance:22,nodeClickDistance:23,defaultMarkerColor:72,style:24,class:25},null,[-1,-1,-1,-1])}}const $0=t=>({}),wr=t=>({class:"button-svg"});function e_(t){let e,n,i,o,l;const s=t[8].default,r=Ve(s,t,t[7],wr);let a=[{type:"button"},{class:n=qe(["svelte-flow__controls-button",t[0]])},t[6]],u={};for(let f=0;f<a.length;f+=1)u=se(u,a[f]);return{c(){e=z("button"),r&&r.c(),Sn(e,u),we(e,"--xy-controls-button-background-color-props",t[1]),we(e,"--xy-controls-button-background-color-hover-props",t[2]),we(e,"--xy-controls-button-color-props",t[3]),we(e,"--xy-controls-button-color-hover-props",t[4]),we(e,"--xy-controls-button-border-color-props",t[5])},m(f,d){Y(f,e,d),r&&r.m(e,null),e.autofocus&&e.focus(),i=!0,o||(l=G(e,"click",t[9]),o=!0)},p(f,[d]){r&&r.p&&(!i||d&128)&&Xe(r,s,f,f[7],i?je(s,f[7],d,$0):Be(f[7]),wr),Sn(e,u=Ge(a,[{type:"button"},(!i||d&1&&n!==(n=qe(["svelte-flow__controls-button",f[0]])))&&{class:n},d&64&&f[6]])),we(e,"--xy-controls-button-background-color-props",f[1]),we(e,"--xy-controls-button-background-color-hover-props",f[2]),we(e,"--xy-controls-button-color-props",f[3]),we(e,"--xy-controls-button-color-hover-props",f[4]),we(e,"--xy-controls-button-border-color-props",f[5])},i(f){i||(D(r,f),i=!0)},o(f){W(r,f),i=!1},d(f){f&&B(e),r&&r.d(f),o=!1,l()}}}function t_(t,e,n){const i=["class","bgColor","bgColorHover","color","colorHover","borderColor"];let o=et(e,i),{$$slots:l={},$$scope:s}=e,{class:r=void 0}=e,{bgColor:a=void 0}=e,{bgColorHover:u=void 0}=e,{color:f=void 0}=e,{colorHover:d=void 0}=e,{borderColor:c=void 0}=e;function h(m){De.call(this,t,m)}return t.$$set=m=>{e=se(se({},e),Ne(m)),n(6,o=et(e,i)),"class"in m&&n(0,r=m.class),"bgColor"in m&&n(1,a=m.bgColor),"bgColorHover"in m&&n(2,u=m.bgColorHover),"color"in m&&n(3,f=m.color),"colorHover"in m&&n(4,d=m.colorHover),"borderColor"in m&&n(5,c=m.borderColor),"$$scope"in m&&n(7,s=m.$$scope)},[r,a,u,f,d,c,o,s,l,h]}class Xi extends de{constructor(e){super(),fe(this,e,t_,e_,ce,{class:0,bgColor:1,bgColorHover:2,color:3,colorHover:4,borderColor:5})}}function n_(t){let e,n;return{c(){e=Fe("svg"),n=Fe("path"),g(n,"d","M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"viewBox","0 0 32 32")},m(i,o){Y(i,e,o),_(e,n)},p:Se,i:Se,o:Se,d(i){i&&B(e)}}}class i_ extends de{constructor(e){super(),fe(this,e,null,n_,ce,{})}}function o_(t){let e,n;return{c(){e=Fe("svg"),n=Fe("path"),g(n,"d","M0 0h32v4.2H0z"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"viewBox","0 0 32 5")},m(i,o){Y(i,e,o),_(e,n)},p:Se,i:Se,o:Se,d(i){i&&B(e)}}}class l_ extends de{constructor(e){super(),fe(this,e,null,o_,ce,{})}}function r_(t){let e,n;return{c(){e=Fe("svg"),n=Fe("path"),g(n,"d","M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"viewBox","0 0 32 30")},m(i,o){Y(i,e,o),_(e,n)},p:Se,i:Se,o:Se,d(i){i&&B(e)}}}class s_ extends de{constructor(e){super(),fe(this,e,null,r_,ce,{})}}function a_(t){let e,n;return{c(){e=Fe("svg"),n=Fe("path"),g(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"viewBox","0 0 25 32")},m(i,o){Y(i,e,o),_(e,n)},p:Se,i:Se,o:Se,d(i){i&&B(e)}}}class u_ extends de{constructor(e){super(),fe(this,e,null,a_,ce,{})}}function c_(t){let e,n;return{c(){e=Fe("svg"),n=Fe("path"),g(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"viewBox","0 0 25 32")},m(i,o){Y(i,e,o),_(e,n)},p:Se,i:Se,o:Se,d(i){i&&B(e)}}}class f_ extends de{constructor(e){super(),fe(this,e,null,c_,ce,{})}}const d_=t=>({}),kr=t=>({}),h_=t=>({}),Sr=t=>({});function Cr(t){let e,n,i,o;const l=[{class:"svelte-flow__controls-zoomin"},{title:"zoom in"},{"aria-label":"zoom in"},{disabled:t[9]},t[17]];let s={$$slots:{default:[g_]},$$scope:{ctx:t}};for(let u=0;u<l.length;u+=1)s=se(s,l[u]);e=new Xi({props:s}),e.$on("click",t[18]);const r=[{class:"svelte-flow__controls-zoomout"},{title:"zoom out"},{"aria-label":"zoom out"},{disabled:t[10]},t[17]];let a={$$slots:{default:[m_]},$$scope:{ctx:t}};for(let u=0;u<r.length;u+=1)a=se(a,r[u]);return i=new Xi({props:a}),i.$on("click",t[19]),{c(){$(e.$$.fragment),n=L(),$(i.$$.fragment)},m(u,f){Q(e,u,f),Y(u,n,f),Q(i,u,f),o=!0},p(u,f){const d=f[0]&131584?Ge(l,[l[0],l[1],l[2],f[0]&512&&{disabled:u[9]},f[0]&131072&&xe(u[17])]):{};f[1]&32&&(d.$$scope={dirty:f,ctx:u}),e.$set(d);const c=f[0]&132096?Ge(r,[r[0],r[1],r[2],f[0]&1024&&{disabled:u[10]},f[0]&131072&&xe(u[17])]):{};f[1]&32&&(c.$$scope={dirty:f,ctx:u}),i.$set(c)},i(u){o||(D(e.$$.fragment,u),D(i.$$.fragment,u),o=!0)},o(u){W(e.$$.fragment,u),W(i.$$.fragment,u),o=!1},d(u){u&&B(n),x(e,u),x(i,u)}}}function g_(t){let e,n;return e=new i_({}),{c(){$(e.$$.fragment)},m(i,o){Q(e,i,o),n=!0},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function m_(t){let e,n;return e=new l_({}),{c(){$(e.$$.fragment)},m(i,o){Q(e,i,o),n=!0},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function zr(t){let e,n;const i=[{class:"svelte-flow__controls-fitview"},{title:"fit view"},{"aria-label":"fit view"},t[17]];let o={$$slots:{default:[__]},$$scope:{ctx:t}};for(let l=0;l<i.length;l+=1)o=se(o,i[l]);return e=new Xi({props:o}),e.$on("click",t[20]),{c(){$(e.$$.fragment)},m(l,s){Q(e,l,s),n=!0},p(l,s){const r=s[0]&131072?Ge(i,[i[0],i[1],i[2],xe(l[17])]):{};s[1]&32&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){n||(D(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){x(e,l)}}}function __(t){let e,n;return e=new s_({}),{c(){$(e.$$.fragment)},m(i,o){Q(e,i,o),n=!0},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function Er(t){let e,n;const i=[{class:"svelte-flow__controls-interactive"},{title:"toggle interactivity"},{"aria-label":"toggle interactivity"},t[17]];let o={$$slots:{default:[v_]},$$scope:{ctx:t}};for(let l=0;l<i.length;l+=1)o=se(o,i[l]);return e=new Xi({props:o}),e.$on("click",t[21]),{c(){$(e.$$.fragment)},m(l,s){Q(e,l,s),n=!0},p(l,s){const r=s[0]&131072?Ge(i,[i[0],i[1],i[2],xe(l[17])]):{};s[0]&256|s[1]&32&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){n||(D(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){x(e,l)}}}function p_(t){let e,n;return e=new u_({}),{c(){$(e.$$.fragment)},m(i,o){Q(e,i,o),n=!0},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function b_(t){let e,n;return e=new f_({}),{c(){$(e.$$.fragment)},m(i,o){Q(e,i,o),n=!0},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function v_(t){let e,n,i,o;const l=[b_,p_],s=[];function r(a,u){return a[8]?0:1}return e=r(t),n=s[e]=l[e](t),{c(){n.c(),i=Ye()},m(a,u){s[e].m(a,u),Y(a,i,u),o=!0},p(a,u){let f=e;e=r(a),e!==f&&(Pe(),W(s[f],1,1,()=>{s[f]=null}),Ae(),n=s[e],n||(n=s[e]=l[e](a),n.c()),D(n,1),n.m(i.parentNode,i))},i(a){o||(D(n),o=!0)},o(a){W(n),o=!1},d(a){a&&B(i),s[e].d(a)}}}function y_(t){let e,n,i,o,l,s;const r=t[35].before,a=Ve(r,t,t[36],Sr);let u=t[1]&&Cr(t),f=t[2]&&zr(t),d=t[3]&&Er(t);const c=t[35].default,h=Ve(c,t,t[36],null),m=t[35].after,p=Ve(m,t,t[36],kr);return{c(){a&&a.c(),e=L(),u&&u.c(),n=L(),f&&f.c(),i=L(),d&&d.c(),o=L(),h&&h.c(),l=L(),p&&p.c()},m(v,b){a&&a.m(v,b),Y(v,e,b),u&&u.m(v,b),Y(v,n,b),f&&f.m(v,b),Y(v,i,b),d&&d.m(v,b),Y(v,o,b),h&&h.m(v,b),Y(v,l,b),p&&p.m(v,b),s=!0},p(v,b){a&&a.p&&(!s||b[1]&32)&&Xe(a,r,v,v[36],s?je(r,v[36],b,h_):Be(v[36]),Sr),v[1]?u?(u.p(v,b),b[0]&2&&D(u,1)):(u=Cr(v),u.c(),D(u,1),u.m(n.parentNode,n)):u&&(Pe(),W(u,1,1,()=>{u=null}),Ae()),v[2]?f?(f.p(v,b),b[0]&4&&D(f,1)):(f=zr(v),f.c(),D(f,1),f.m(i.parentNode,i)):f&&(Pe(),W(f,1,1,()=>{f=null}),Ae()),v[3]?d?(d.p(v,b),b[0]&8&&D(d,1)):(d=Er(v),d.c(),D(d,1),d.m(o.parentNode,o)):d&&(Pe(),W(d,1,1,()=>{d=null}),Ae()),h&&h.p&&(!s||b[1]&32)&&Xe(h,c,v,v[36],s?je(c,v[36],b,null):Be(v[36]),null),p&&p.p&&(!s||b[1]&32)&&Xe(p,m,v,v[36],s?je(m,v[36],b,d_):Be(v[36]),kr)},i(v){s||(D(a,v),D(u),D(f),D(d),D(h,v),D(p,v),s=!0)},o(v){W(a,v),W(u),W(f),W(d),W(h,v),W(p,v),s=!1},d(v){v&&(B(e),B(n),B(i),B(o),B(l)),a&&a.d(v),u&&u.d(v),f&&f.d(v),d&&d.d(v),h&&h.d(v),p&&p.d(v)}}}function w_(t){let e,n;return e=new $i({props:{class:qe(["svelte-flow__controls",t[7],t[6]]),position:t[0],"data-testid":"svelte-flow__controls","aria-label":t[4]??"Svelte Flow controls",style:t[5],$$slots:{default:[y_]},$$scope:{ctx:t}}}),{c(){$(e.$$.fragment)},m(i,o){Q(e,i,o),n=!0},p(i,o){const l={};o[0]&192&&(l.class=qe(["svelte-flow__controls",i[7],i[6]])),o[0]&1&&(l.position=i[0]),o[0]&16&&(l["aria-label"]=i[4]??"Svelte Flow controls"),o[0]&32&&(l.style=i[5]),o[0]&1806|o[1]&32&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function k_(t,e,n){let i,o,l,s,r,a,u,f,d,c,{$$slots:h={},$$scope:m}=e,{position:p="bottom-left"}=e,{showZoom:v=!0}=e,{showFitView:b=!0}=e,{showLock:C=!0}=e,{buttonBgColor:y=void 0}=e,{buttonBgColorHover:E=void 0}=e,{buttonColor:S=void 0}=e,{buttonColorHover:N=void 0}=e,{buttonBorderColor:w=void 0}=e,{ariaLabel:T=void 0}=e,{style:A=void 0}=e,{orientation:H="vertical"}=e,{fitViewOptions:M=void 0}=e,{class:I=""}=e;const{zoomIn:R,zoomOut:k,fitView:P,viewport:O,minZoom:V,maxZoom:j,nodesDraggable:X,nodesConnectable:ee,elementsSelectable:q}=ot();re(t,O,le=>n(30,a=le)),re(t,V,le=>n(31,u=le)),re(t,j,le=>n(29,r=le)),re(t,X,le=>n(34,c=le)),re(t,ee,le=>n(33,d=le)),re(t,q,le=>n(32,f=le));const te={bgColor:y,bgColorHover:E,color:S,colorHover:N,borderColor:w},U=()=>{R()},J=()=>{k()},ue=()=>{P(M)},me=()=>{n(8,i=!i),X.set(i),ee.set(i),q.set(i)};return t.$$set=le=>{"position"in le&&n(0,p=le.position),"showZoom"in le&&n(1,v=le.showZoom),"showFitView"in le&&n(2,b=le.showFitView),"showLock"in le&&n(3,C=le.showLock),"buttonBgColor"in le&&n(22,y=le.buttonBgColor),"buttonBgColorHover"in le&&n(23,E=le.buttonBgColorHover),"buttonColor"in le&&n(24,S=le.buttonColor),"buttonColorHover"in le&&n(25,N=le.buttonColorHover),"buttonBorderColor"in le&&n(26,w=le.buttonBorderColor),"ariaLabel"in le&&n(4,T=le.ariaLabel),"style"in le&&n(5,A=le.style),"orientation"in le&&n(27,H=le.orientation),"fitViewOptions"in le&&n(28,M=le.fitViewOptions),"class"in le&&n(6,I=le.class),"$$scope"in le&&n(36,m=le.$$scope)},t.$$.update=()=>{t.$$.dirty[1]&14&&n(8,i=c||d||f),t.$$.dirty[0]&1073741824|t.$$.dirty[1]&1&&n(10,o=a.zoom<=u),t.$$.dirty[0]&1610612736&&n(9,l=a.zoom>=r),t.$$.dirty[0]&134217728&&n(7,s=H==="horizontal"?"horizontal":"vertical")},[p,v,b,C,T,A,I,s,i,l,o,O,V,j,X,ee,q,te,U,J,ue,me,y,E,S,N,w,H,M,r,a,u,f,d,c,h,m]}class S_ extends de{constructor(e){super(),fe(this,e,k_,w_,ce,{position:0,showZoom:1,showFitView:2,showLock:3,buttonBgColor:22,buttonBgColorHover:23,buttonColor:24,buttonColorHover:25,buttonBorderColor:26,ariaLabel:4,style:5,orientation:27,fitViewOptions:28,class:6},null,[-1,-1])}}var Lt;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Lt||(Lt={}));function C_(t){let e,n;return{c(){e=Fe("circle"),g(e,"cx",t[0]),g(e,"cy",t[0]),g(e,"r",t[0]),g(e,"class",n=qe(["svelte-flow__background-pattern","dots",t[1]]))},m(i,o){Y(i,e,o)},p(i,[o]){o&1&&g(e,"cx",i[0]),o&1&&g(e,"cy",i[0]),o&1&&g(e,"r",i[0]),o&2&&n!==(n=qe(["svelte-flow__background-pattern","dots",i[1]]))&&g(e,"class",n)},i:Se,o:Se,d(i){i&&B(e)}}}function z_(t,e,n){let{radius:i=5}=e,{class:o=""}=e;return t.$$set=l=>{"radius"in l&&n(0,i=l.radius),"class"in l&&n(1,o=l.class)},[i,o]}class E_ extends de{constructor(e){super(),fe(this,e,z_,C_,ce,{radius:0,class:1})}}function N_(t){let e,n,i;return{c(){e=Fe("path"),g(e,"stroke-width",t[0]),g(e,"d",n=`M${t[1][0]/2} 0 V${t[1][1]} M0 ${t[1][1]/2} H${t[1][0]}`),g(e,"class",i=qe(["svelte-flow__background-pattern",t[2],t[3]]))},m(o,l){Y(o,e,l)},p(o,[l]){l&1&&g(e,"stroke-width",o[0]),l&2&&n!==(n=`M${o[1][0]/2} 0 V${o[1][1]} M0 ${o[1][1]/2} H${o[1][0]}`)&&g(e,"d",n),l&12&&i!==(i=qe(["svelte-flow__background-pattern",o[2],o[3]]))&&g(e,"class",i)},i:Se,o:Se,d(o){o&&B(e)}}}function M_(t,e,n){let{lineWidth:i=1}=e,{dimensions:o}=e,{variant:l=void 0}=e,{class:s=""}=e;return t.$$set=r=>{"lineWidth"in r&&n(0,i=r.lineWidth),"dimensions"in r&&n(1,o=r.dimensions),"variant"in r&&n(2,l=r.variant),"class"in r&&n(3,s=r.class)},[i,o,l,s]}class P_ extends de{constructor(e){super(),fe(this,e,M_,N_,ce,{lineWidth:0,dimensions:1,variant:2,class:3})}}function A_(t){let e,n;return e=new P_({props:{dimensions:t[6],variant:t[0],lineWidth:t[1],class:t[4]}}),{c(){$(e.$$.fragment)},m(i,o){Q(e,i,o),n=!0},p(i,o){const l={};o&64&&(l.dimensions=i[6]),o&1&&(l.variant=i[0]),o&2&&(l.lineWidth=i[1]),o&16&&(l.class=i[4]),e.$set(l)},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function O_(t){let e,n;return e=new E_({props:{radius:t[7]/2,class:t[4]}}),{c(){$(e.$$.fragment)},m(i,o){Q(e,i,o),n=!0},p(i,o){const l={};o&128&&(l.radius=i[7]/2),o&16&&(l.class=i[4]),e.$set(l)},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function T_(t){let e,n,i,o,l,s,r,a,u,f,d,c,h;const m=[O_,A_],p=[];function v(b,C){return b[14]?0:1}return i=v(t),o=p[i]=m[i](t),{c(){e=Fe("svg"),n=Fe("pattern"),o.c(),f=Fe("rect"),g(n,"id",t[11]),g(n,"x",l=t[9].x%t[8][0]),g(n,"y",s=t[9].y%t[8][1]),g(n,"width",r=t[8][0]),g(n,"height",a=t[8][1]),g(n,"patternUnits","userSpaceOnUse"),g(n,"patternTransform",u=`translate(-${t[10][0]},-${t[10][1]})`),g(f,"x","0"),g(f,"y","0"),g(f,"width","100%"),g(f,"height","100%"),g(f,"fill",d=`url(#${t[11]})`),g(e,"class",c=rl(qe(["svelte-flow__background",t[5]]))+" svelte-1r7pe8d"),g(e,"data-testid","svelte-flow__background"),we(e,"--xy-background-color-props",t[2]),we(e,"--xy-background-pattern-color-props",t[3])},m(b,C){Y(b,e,C),_(e,n),p[i].m(n,null),_(e,f),h=!0},p(b,[C]){o.p(b,C),(!h||C&2048)&&g(n,"id",b[11]),(!h||C&768&&l!==(l=b[9].x%b[8][0]))&&g(n,"x",l),(!h||C&768&&s!==(s=b[9].y%b[8][1]))&&g(n,"y",s),(!h||C&256&&r!==(r=b[8][0]))&&g(n,"width",r),(!h||C&256&&a!==(a=b[8][1]))&&g(n,"height",a),(!h||C&1024&&u!==(u=`translate(-${b[10][0]},-${b[10][1]})`))&&g(n,"patternTransform",u),(!h||C&2048&&d!==(d=`url(#${b[11]})`))&&g(f,"fill",d),(!h||C&32&&c!==(c=rl(qe(["svelte-flow__background",b[5]]))+" svelte-1r7pe8d"))&&g(e,"class",c),C&4&&we(e,"--xy-background-color-props",b[2]),C&8&&we(e,"--xy-background-pattern-color-props",b[3])},i(b){h||(D(o),h=!0)},o(b){W(o),h=!1},d(b){b&&B(e),p[i].d()}}}const H_={[Lt.Dots]:1,[Lt.Lines]:1,[Lt.Cross]:6};function D_(t,e,n){let i,o,l,s,r,a,u,{id:f=void 0}=e,{variant:d=Lt.Dots}=e,{gap:c=20}=e,{size:h=1}=e,{lineWidth:m=1}=e,{bgColor:p=void 0}=e,{patternColor:v=void 0}=e,{patternClass:b=void 0}=e,{class:C=""}=e;const{viewport:y,flowId:E}=ot();re(t,y,A=>n(9,a=A)),re(t,E,A=>n(18,u=A));const S=h||H_[d],N=d===Lt.Dots,w=d===Lt.Cross,T=Array.isArray(c)?c:[c,c];return t.$$set=A=>{"id"in A&&n(15,f=A.id),"variant"in A&&n(0,d=A.variant),"gap"in A&&n(16,c=A.gap),"size"in A&&n(17,h=A.size),"lineWidth"in A&&n(1,m=A.lineWidth),"bgColor"in A&&n(2,p=A.bgColor),"patternColor"in A&&n(3,v=A.patternColor),"patternClass"in A&&n(4,b=A.patternClass),"class"in A&&n(5,C=A.class)},t.$$.update=()=>{t.$$.dirty&294912&&n(11,i=`background-pattern-${u}-${f||""}`),t.$$.dirty&512&&n(8,o=[T[0]*a.zoom||1,T[1]*a.zoom||1]),t.$$.dirty&512&&n(7,l=S*a.zoom),t.$$.dirty&384&&n(6,s=w?[l,l]:o),t.$$.dirty&192&&n(10,r=N?[l/2,l/2]:[s[0]/2,s[1]/2])},[d,m,p,v,b,C,s,l,o,a,r,i,y,E,N,f,c,h,u]}class I_ extends de{constructor(e){super(),fe(this,e,D_,T_,ce,{id:15,variant:0,gap:16,size:17,lineWidth:1,bgColor:2,patternColor:3,patternClass:4,class:5})}}function W_(t){let e,n,i;return{c(){e=Fe("rect"),g(e,"class",n=qe(["svelte-flow__minimap-node",t[10]])),g(e,"x",t[0]),g(e,"y",t[1]),g(e,"rx",t[4]),g(e,"ry",t[4]),g(e,"width",t[2]),g(e,"height",t[3]),g(e,"style",i=`${t[5]?`fill: ${t[5]};`:""}${t[7]?`stroke: ${t[7]};`:""}${t[8]?`stroke-width: ${t[8]};`:""}`),g(e,"shape-rendering",t[6]),ae(e,"selected",t[9])},m(o,l){Y(o,e,l)},p(o,[l]){l&1024&&n!==(n=qe(["svelte-flow__minimap-node",o[10]]))&&g(e,"class",n),l&1&&g(e,"x",o[0]),l&2&&g(e,"y",o[1]),l&16&&g(e,"rx",o[4]),l&16&&g(e,"ry",o[4]),l&4&&g(e,"width",o[2]),l&8&&g(e,"height",o[3]),l&416&&i!==(i=`${o[5]?`fill: ${o[5]};`:""}${o[7]?`stroke: ${o[7]};`:""}${o[8]?`stroke-width: ${o[8]};`:""}`)&&g(e,"style",i),l&64&&g(e,"shape-rendering",o[6]),l&1536&&ae(e,"selected",o[9])},i:Se,o:Se,d(o){o&&B(e)}}}function L_(t,e,n){let{x:i}=e,{y:o}=e,{width:l=0}=e,{height:s=0}=e,{borderRadius:r=5}=e,{color:a=void 0}=e,{shapeRendering:u}=e,{strokeColor:f=void 0}=e,{strokeWidth:d=2}=e,{selected:c=!1}=e,{class:h=""}=e;return t.$$set=m=>{"x"in m&&n(0,i=m.x),"y"in m&&n(1,o=m.y),"width"in m&&n(2,l=m.width),"height"in m&&n(3,s=m.height),"borderRadius"in m&&n(4,r=m.borderRadius),"color"in m&&n(5,a=m.color),"shapeRendering"in m&&n(6,u=m.shapeRendering),"strokeColor"in m&&n(7,f=m.strokeColor),"strokeWidth"in m&&n(8,d=m.strokeWidth),"selected"in m&&n(9,c=m.selected),"class"in m&&n(10,h=m.class)},[i,o,l,s,r,a,u,f,d,c,h]}class R_ extends de{constructor(e){super(),fe(this,e,L_,W_,ce,{x:0,y:1,width:2,height:3,borderRadius:4,color:5,shapeRendering:6,strokeColor:7,strokeWidth:8,selected:9,class:10})}}function V_(t,e){const n=Pg({domNode:t,panZoom:e.panZoom,getTransform:()=>{const o=ie(e.viewport);return[o.x,o.y,o.zoom]},getViewScale:e.getViewScale});function i(o){n.update({translateExtent:o.translateExtent,width:o.width,height:o.height,inversePan:o.inversePan,zoomStep:o.zoomStep,pannable:o.pannable,zoomable:o.zoomable})}return{update:i,destroy(){n.destroy()}}}function Nr(t,e,n){const i=t.slice();i[55]=e[n];const o=i[20].get(i[55].id);return i[56]=o,i}function yo(t){const e=t.slice(),n=qt(e[56]);return e[59]=n,e}function Mr(t){let e,n,i=[],o=new Map,l,s,r,a,u,f,d,c=t[1]&&Pr(t),h=We(t[19]);const m=p=>p[55].id;for(let p=0;p<h.length;p+=1){let v=Nr(t,h,p),b=m(v);o.set(b,i[p]=Or(b,v))}return{c(){e=Fe("svg"),c&&c.c(),n=Ye();for(let p=0;p<i.length;p+=1)i[p].c();l=Fe("path"),g(l,"class","svelte-flow__minimap-mask"),g(l,"d",s="M"+(t[26]-t[15])+","+(t[25]-t[15])+"h"+(t[24]+t[15]*2)+"v"+(t[23]+t[15]*2)+"h"+(-t[24]-t[15]*2)+`z
      M`+t[18].x+","+t[18].y+"h"+t[18].width+"v"+t[18].height+"h"+-t[18].width+"z"),g(l,"fill-rule","evenodd"),g(l,"pointer-events","none"),g(e,"width",t[17]),g(e,"height",t[16]),g(e,"viewBox",r=t[26]+" "+t[25]+" "+t[24]+" "+t[23]),g(e,"class","svelte-flow__minimap-svg"),g(e,"role","img"),g(e,"aria-labelledby",t[41]),we(e,"--xy-minimap-mask-background-color-props",t[5]),we(e,"--xy-minimap-mask-stroke-color-props",t[6]),we(e,"--xy-minimap-mask-stroke-width-props",t[7]?t[7]*t[14]:void 0)},m(p,v){Y(p,e,v),c&&c.m(e,null),_(e,n);for(let b=0;b<i.length;b+=1)i[b]&&i[b].m(e,null);_(e,l),u=!0,f||(d=ct(a=V_.call(null,e,{panZoom:t[27],viewport:t[31],getViewScale:t[42],translateExtent:t[28],width:t[22],height:t[21],inversePan:t[10],zoomStep:t[11],pannable:t[8],zoomable:t[9]})),f=!0)},p(p,v){p[1]?c?c.p(p,v):(c=Pr(p),c.c(),c.m(e,n)):c&&(c.d(1),c=null),v[0]&1572876|v[1]&960&&(h=We(p[19]),Pe(),i=ht(i,v,m,1,p,h,o,e,dt,Or,l,Nr),Ae()),(!u||v[0]&126124032&&s!==(s="M"+(p[26]-p[15])+","+(p[25]-p[15])+"h"+(p[24]+p[15]*2)+"v"+(p[23]+p[15]*2)+"h"+(-p[24]-p[15]*2)+`z
      M`+p[18].x+","+p[18].y+"h"+p[18].width+"v"+p[18].height+"h"+-p[18].width+"z"))&&g(l,"d",s),(!u||v[0]&131072)&&g(e,"width",p[17]),(!u||v[0]&65536)&&g(e,"height",p[16]),(!u||v[0]&125829120&&r!==(r=p[26]+" "+p[25]+" "+p[24]+" "+p[23]))&&g(e,"viewBox",r),a&&tt(a.update)&&v[0]&408948480&&a.update.call(null,{panZoom:p[27],viewport:p[31],getViewScale:p[42],translateExtent:p[28],width:p[22],height:p[21],inversePan:p[10],zoomStep:p[11],pannable:p[8],zoomable:p[9]}),v[0]&32&&we(e,"--xy-minimap-mask-background-color-props",p[5]),v[0]&64&&we(e,"--xy-minimap-mask-stroke-color-props",p[6]),v[0]&16512&&we(e,"--xy-minimap-mask-stroke-width-props",p[7]?p[7]*p[14]:void 0)},i(p){if(!u){for(let v=0;v<h.length;v+=1)D(i[v]);u=!0}},o(p){for(let v=0;v<i.length;v+=1)W(i[v]);u=!1},d(p){p&&B(e),c&&c.d();for(let v=0;v<i.length;v+=1)i[v].d();f=!1,d()}}}function Pr(t){let e,n;return{c(){e=Fe("title"),n=pe(t[1]),g(e,"id",t[41])},m(i,o){Y(i,e,o),_(e,n)},p(i,o){o[0]&2&&Oe(n,i[1])},d(i){i&&B(e)}}}function Ar(t){var l;let e,n;const i=[{x:t[56].internals.positionAbsolute.x},{y:t[56].internals.positionAbsolute.y},t[59],{selected:t[56].selected},{color:(l=t[37])==null?void 0:l.call(t,t[56])},{borderRadius:t[2]},{strokeColor:t[38](t[56])},{strokeWidth:t[3]},{shapeRendering:t[40]},{class:t[39](t[56])}];let o={};for(let s=0;s<i.length;s+=1)o=se(o,i[s]);return e=new R_({props:o}),{c(){$(e.$$.fragment)},m(s,r){Q(e,s,r),n=!0},p(s,r){var u;const a=r[0]&1572876|r[1]&960?Ge(i,[r[0]&1572864&&{x:s[56].internals.positionAbsolute.x},r[0]&1572864&&{y:s[56].internals.positionAbsolute.y},r[0]&1572864&&xe(s[59]),r[0]&1572864&&{selected:s[56].selected},r[0]&1572864|r[1]&64&&{color:(u=s[37])==null?void 0:u.call(s,s[56])},r[0]&4&&{borderRadius:s[2]},r[0]&1572864|r[1]&128&&{strokeColor:s[38](s[56])},r[0]&8&&{strokeWidth:s[3]},r[1]&512&&{shapeRendering:s[40]},r[0]&1572864|r[1]&256&&{class:s[39](s[56])}]):{};e.$set(a)},i(s){n||(D(e.$$.fragment,s),n=!0)},o(s){W(e.$$.fragment,s),n=!1},d(s){x(e,s)}}}function Or(t,e){let n,i=e[56]&&Vi(e[56]),o,l,s=i&&Ar(yo(e));return{key:t,first:null,c(){n=Ye(),s&&s.c(),o=Ye(),this.first=n},m(r,a){Y(r,n,a),s&&s.m(r,a),Y(r,o,a),l=!0},p(r,a){e=r,a[0]&1572864&&(i=e[56]&&Vi(e[56])),i?s?(s.p(yo(e),a),a[0]&1572864&&D(s,1)):(s=Ar(yo(e)),s.c(),D(s,1),s.m(o.parentNode,o)):s&&(Pe(),W(s,1,1,()=>{s=null}),Ae())},i(r){l||(D(s),l=!0)},o(r){W(s),l=!1},d(r){r&&(B(n),B(o)),s&&s.d(r)}}}function j_(t){let e,n,i=t[27]&&Mr(t);return{c(){i&&i.c(),e=Ye()},m(o,l){i&&i.m(o,l),Y(o,e,l),n=!0},p(o,l){o[27]?i?(i.p(o,l),l[0]&134217728&&D(i,1)):(i=Mr(o),i.c(),D(i,1),i.m(e.parentNode,e)):i&&(Pe(),W(i,1,1,()=>{i=null}),Ae())},i(o){n||(D(i),n=!0)},o(o){W(i),n=!1},d(o){o&&B(e),i&&i.d(o)}}}function X_(t){let e,n;return e=new $i({props:{position:t[0],style:t[12]+(t[4]?`;--xy-minimap-background-color-props:${t[4]}`:""),class:qe(["svelte-flow__minimap",t[13]]),"data-testid":"svelte-flow__minimap",$$slots:{default:[j_]},$$scope:{ctx:t}}}),{c(){$(e.$$.fragment)},m(i,o){Q(e,i,o),n=!0},p(i,o){const l={};o[0]&1&&(l.position=i[0]),o[0]&4112&&(l.style=i[12]+(i[4]?`;--xy-minimap-background-color-props:${i[4]}`:"")),o[0]&8192&&(l.class=qe(["svelte-flow__minimap",i[13]])),o[0]&536858606|o[1]&536870912&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}const wo=t=>t instanceof Function?t:()=>t,B_=200,Y_=150;function F_(t,e,n){let i,o,l,s,r,a,u,f,d,c,h,m,p,v,b,C,y,E,S,N,w,{position:T="bottom-right"}=e,{ariaLabel:A="Mini map"}=e,{nodeStrokeColor:H="transparent"}=e,{nodeColor:M=void 0}=e,{nodeClass:I=""}=e,{nodeBorderRadius:R=5}=e,{nodeStrokeWidth:k=2}=e,{bgColor:P=void 0}=e,{maskColor:O=void 0}=e,{maskStrokeColor:V=void 0}=e,{maskStrokeWidth:j=void 0}=e,{width:X=void 0}=e,{height:ee=void 0}=e,{pannable:q=!0}=e,{zoomable:te=!0}=e,{inversePan:U=void 0}=e,{zoomStep:J=void 0}=e,{style:ue=""}=e,{class:me=""}=e;const{nodes:le,nodeLookup:ve,viewport:ne,width:be,height:oe,flowId:_e,panZoom:Ie,translateExtent:K}=ot();re(t,le,he=>n(19,v=he)),re(t,ve,he=>n(20,b=he)),re(t,ne,he=>n(53,C=he)),re(t,be,he=>n(22,E=he)),re(t,oe,he=>n(21,y=he)),re(t,_e,he=>n(54,S=he)),re(t,Ie,he=>n(27,N=he)),re(t,K,he=>n(28,w=he));const Ee=M===void 0?void 0:wo(M),Te=wo(H),Le=wo(I),Ce=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",Ke=`svelte-flow__minimap-desc-${S}`;let nt=i;const _t=()=>a;return t.$$set=he=>{"position"in he&&n(0,T=he.position),"ariaLabel"in he&&n(1,A=he.ariaLabel),"nodeStrokeColor"in he&&n(43,H=he.nodeStrokeColor),"nodeColor"in he&&n(44,M=he.nodeColor),"nodeClass"in he&&n(45,I=he.nodeClass),"nodeBorderRadius"in he&&n(2,R=he.nodeBorderRadius),"nodeStrokeWidth"in he&&n(3,k=he.nodeStrokeWidth),"bgColor"in he&&n(4,P=he.bgColor),"maskColor"in he&&n(5,O=he.maskColor),"maskStrokeColor"in he&&n(6,V=he.maskStrokeColor),"maskStrokeWidth"in he&&n(7,j=he.maskStrokeWidth),"width"in he&&n(46,X=he.width),"height"in he&&n(47,ee=he.height),"pannable"in he&&n(8,q=he.pannable),"zoomable"in he&&n(9,te=he.zoomable),"inversePan"in he&&n(10,U=he.inversePan),"zoomStep"in he&&n(11,J=he.zoomStep),"style"in he&&n(12,ue=he.style),"class"in he&&n(13,me=he.class)},t.$$.update=()=>{t.$$.dirty[0]&6291456|t.$$.dirty[1]&4194304&&n(18,i={x:-C.x/C.zoom,y:-C.y/C.zoom,width:E/C.zoom,height:y/C.zoom}),t.$$.dirty[0]&1835008&&n(48,nt=b.size>0?za(ti(b,{filter:he=>!he.hidden}),i):i),t.$$.dirty[1]&32768&&n(17,o=X??B_),t.$$.dirty[1]&65536&&n(16,l=ee??Y_),t.$$.dirty[0]&131072|t.$$.dirty[1]&131072&&n(52,s=nt.width/o),t.$$.dirty[0]&65536|t.$$.dirty[1]&131072&&n(51,r=nt.height/l),t.$$.dirty[1]&3145728&&n(14,a=Math.max(s,r)),t.$$.dirty[0]&147456&&n(50,u=a*o),t.$$.dirty[0]&81920&&n(49,f=a*l),t.$$.dirty[0]&16384&&n(15,d=5*a),t.$$.dirty[0]&32768|t.$$.dirty[1]&655360&&n(26,c=nt.x-(u-nt.width)/2-d),t.$$.dirty[0]&32768|t.$$.dirty[1]&393216&&n(25,h=nt.y-(f-nt.height)/2-d),t.$$.dirty[0]&32768|t.$$.dirty[1]&524288&&n(24,m=u+d*2),t.$$.dirty[0]&32768|t.$$.dirty[1]&262144&&n(23,p=f+d*2)},[T,A,R,k,P,O,V,j,q,te,U,J,ue,me,a,d,l,o,i,v,b,y,E,p,m,h,c,N,w,le,ve,ne,be,oe,_e,Ie,K,Ee,Te,Le,Ce,Ke,_t,H,M,I,X,ee,nt,f,u,r,s,C]}class K_ extends de{constructor(e){super(),fe(this,e,F_,X_,ce,{position:0,ariaLabel:1,nodeStrokeColor:43,nodeColor:44,nodeClass:45,nodeBorderRadius:2,nodeStrokeWidth:3,bgColor:4,maskColor:5,maskStrokeColor:6,maskStrokeWidth:7,width:46,height:47,pannable:8,zoomable:9,inversePan:10,zoomStep:11,style:12,class:13},null,[-1,-1])}}const Tr=t=>F1(t);function eo(){const{zoomIn:t,zoomOut:e,fitView:n,onbeforedelete:i,snapGrid:o,viewport:l,width:s,height:r,minZoom:a,maxZoom:u,panZoom:f,nodes:d,edges:c,domNode:h,nodeLookup:m,nodeOrigin:p,edgeLookup:v,connectionLookup:b}=ot(),C=S=>{var H,M;const N=ie(m),w=Tr(S)?S:N.get(S.id),T=w.parentId?x1(w.position,w.measured,w.parentId,N,ie(p)):w.position,A={...w,position:T,width:((H=w.measured)==null?void 0:H.width)??w.width,height:((M=w.measured)==null?void 0:M.height)??w.height};return Pn(A)},y=(S,N,w={replace:!1})=>{var H;const T=(H=ie(m).get(S))==null?void 0:H.internals.userNode;if(!T)return;const A=typeof N=="function"?N(T):N;w.replace?d.update(M=>M.map(I=>I.id===S?Tr(A)?A:{...I,...A}:I)):(Object.assign(T,A),d.update(M=>M))},E=S=>ie(m).get(S);return{zoomIn:t,zoomOut:e,getInternalNode:E,getNode:S=>{var N;return(N=E(S))==null?void 0:N.internals.userNode},getNodes:S=>S===void 0?ie(d):Hr(ie(m),S),getEdge:S=>ie(v).get(S),getEdges:S=>S===void 0?ie(c):Hr(ie(v),S),setZoom:(S,N)=>{const w=ie(f);return w?w.scaleTo(S,{duration:N==null?void 0:N.duration}):Promise.resolve(!1)},getZoom:()=>ie(l).zoom,setViewport:async(S,N)=>{const w=ie(l),T=ie(f);return T?(await T.setViewport({x:S.x??w.x,y:S.y??w.y,zoom:S.zoom??w.zoom},{duration:N==null?void 0:N.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>ie(l),setCenter:async(S,N,w)=>{const T=typeof(w==null?void 0:w.zoom)<"u"?w.zoom:ie(u),A=ie(f);return A?(await A.setViewport({x:ie(s)/2-S*T,y:ie(r)/2-N*T,zoom:T},{duration:w==null?void 0:w.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitView:n,fitBounds:async(S,N)=>{const w=ie(f);if(!w)return Promise.resolve(!1);const T=Jo(S,ie(s),ie(r),ie(a),ie(u),(N==null?void 0:N.padding)??.1);return await w.setViewport(T,{duration:N==null?void 0:N.duration}),Promise.resolve(!0)},getIntersectingNodes:(S,N=!0,w)=>{const T=Bl(S),A=T?S:C(S);return A?(w||ie(d)).filter(H=>{const M=ie(m).get(H.id);if(!M||!T&&H.id===S.id)return!1;const I=Pn(M),R=Gn(I,A);return N&&R>0||R>=A.width*A.height}):[]},isNodeIntersecting:(S,N,w=!0)=>{const A=Bl(S)?S:C(S);if(!A)return!1;const H=Gn(A,N);return w&&H>0||H>=A.width*A.height},deleteElements:async({nodes:S=[],edges:N=[]})=>{const{nodes:w,edges:T}=await ka({nodesToRemove:S,edgesToRemove:N,nodes:ie(d),edges:ie(c),onBeforeDelete:ie(i)});return w&&d.update(A=>A.filter(H=>!w.some(({id:M})=>M===H.id))),T&&c.update(A=>A.filter(H=>!T.some(({id:M})=>M===H.id))),{deletedNodes:w,deletedEdges:T}},screenToFlowPosition:(S,N={snapToGrid:!0})=>{const w=ie(h);if(!w)return S;const T=N.snapToGrid?ie(o):!1,{x:A,y:H,zoom:M}=ie(l),{x:I,y:R}=w.getBoundingClientRect(),k={x:S.x-I,y:S.y-R};return ni(k,[A,H,M],T!==null,T||[1,1])},flowToScreenPosition:S=>{const N=ie(h);if(!N)return S;const{x:w,y:T,zoom:A}=ie(l),{x:H,y:M}=N.getBoundingClientRect(),I=Li(S,[w,T,A]);return{x:I.x+H,y:I.y+M}},toObject:()=>({nodes:ie(d).map(S=>({...S,position:{...S.position},data:{...S.data}})),edges:ie(c).map(S=>({...S})),viewport:{...ie(l)}}),updateNode:y,updateNodeData:(S,N,w)=>{var H;const T=(H=ie(m).get(S))==null?void 0:H.internals.userNode;if(!T)return;const A=typeof N=="function"?N(T):N;T.data=w!=null&&w.replace?A:{...T.data,...A},d.update(M=>M)},getNodesBounds:S=>{const N=ie(m),w=ie(p);return K1(S,{nodeLookup:N,nodeOrigin:w})},getHandleConnections:({type:S,id:N,nodeId:w})=>{var T;return Array.from(((T=ie(b).get(`${w}-${S}-${N??null}`))==null?void 0:T.values())??[])},viewport:l}}function Hr(t,e){var i;const n=[];for(const o of e){const l=t.get(o);if(l){const s="internals"in l?(i=l.internals)==null?void 0:i.userNode:l;n.push(s)}}return n}function q_(t){let e,n,i;const o=t[34].default,l=Ve(o,t,t[33],null);return{c(){e=z("div"),l&&l.c(),g(e,"class",n=qe(["svelte-flow__resize-control","nodrag",...t[4],t[0],t[1]])),g(e,"style",t[3])},m(s,r){Y(s,e,r),l&&l.m(e,null),t[35](e),i=!0},p(s,r){l&&l.p&&(!i||r[1]&4)&&Xe(l,o,s,s[33],i?je(o,s[33],r,null):Be(s[33]),null),(!i||r[0]&19&&n!==(n=qe(["svelte-flow__resize-control","nodrag",...s[4],s[0],s[1]])))&&g(e,"class",n),(!i||r[0]&8)&&g(e,"style",s[3])},i(s){i||(D(l,s),i=!0)},o(s){W(l,s),i=!1},d(s){s&&B(e),l&&l.d(s),t[35](null)}}}function Z_(t,e,n){let i,o,l,s,r,a,u,f,d,c,h,m,p,v,b,C,y,{$$slots:E={},$$scope:S}=e,{nodeId:N=void 0}=e,{position:w=void 0}=e,{variant:T=wn.Handle}=e,{color:A=void 0}=e,{minWidth:H=10}=e,{minHeight:M=10}=e,{maxWidth:I=Number.MAX_VALUE}=e,{maxHeight:R=Number.MAX_VALUE}=e,{keepAspectRatio:k=!1}=e,{shouldResize:P=void 0}=e,{onResizeStart:O=void 0}=e,{onResize:V=void 0}=e,{onResizeEnd:j=void 0}=e,{style:X=""}=e,{class:ee=""}=e;const{nodeLookup:q,snapGrid:te,viewport:U,nodes:J,nodeOrigin:ue,domNode:me}=ot();re(t,q,oe=>n(38,p=oe)),re(t,te,oe=>n(41,C=oe)),re(t,U,oe=>n(42,y=oe)),re(t,J,oe=>n(37,m=oe)),re(t,ue,oe=>n(40,b=oe)),re(t,me,oe=>n(39,v=oe));const le=Bn("svelteflow__node_id");let ve,ne=null;Ct(()=>(ve&&n(24,ne=Fg({domNode:ve,nodeId:r,getStoreItems:()=>({nodeLookup:p,transform:[y.x,y.y,y.zoom],snapGrid:C??void 0,snapToGrid:!!C,nodeOrigin:b,paneDomNode:v}),onChange:(oe,_e)=>{var K,Ee;const Ie=(K=p.get(r))==null?void 0:K.internals.userNode;if(Ie){oe.x!==void 0&&oe.y!==void 0&&(Ie.position={x:oe.x,y:oe.y}),oe.width!==void 0&&oe.height!==void 0&&(Ie.width=oe.width,Ie.height=oe.height);for(const Te of _e){const Le=(Ee=p.get(Te.id))==null?void 0:Ee.internals.userNode;Le&&(Le.position=Te.position)}J.set(m)}}})),()=>{ne==null||ne.destroy()}));function be(oe){Cn[oe?"unshift":"push"](()=>{ve=oe,n(2,ve)})}return t.$$set=oe=>{"nodeId"in oe&&n(11,N=oe.nodeId),"position"in oe&&n(12,w=oe.position),"variant"in oe&&n(0,T=oe.variant),"color"in oe&&n(13,A=oe.color),"minWidth"in oe&&n(14,H=oe.minWidth),"minHeight"in oe&&n(15,M=oe.minHeight),"maxWidth"in oe&&n(16,I=oe.maxWidth),"maxHeight"in oe&&n(17,R=oe.maxHeight),"keepAspectRatio"in oe&&n(18,k=oe.keepAspectRatio),"shouldResize"in oe&&n(19,P=oe.shouldResize),"onResizeStart"in oe&&n(20,O=oe.onResizeStart),"onResize"in oe&&n(21,V=oe.onResize),"onResizeEnd"in oe&&n(22,j=oe.onResizeEnd),"style"in oe&&n(23,X=oe.style),"class"in oe&&n(1,ee=oe.class),"$$scope"in oe&&n(33,S=oe.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&16384&&n(28,i=H??10),t.$$.dirty[0]&32768&&n(27,o=M??10),t.$$.dirty[0]&65536&&n(26,l=I??Number.MAX_VALUE),t.$$.dirty[0]&131072&&n(25,s=R??Number.MAX_VALUE),t.$$.dirty[0]&2048&&(r=typeof N=="string"?N:le),t.$$.dirty[0]&1&&n(32,a=T===wn.Line?"right":"bottom-right"),t.$$.dirty[0]&4096|t.$$.dirty[1]&2&&n(29,u=w??a),t.$$.dirty[0]&536870912&&n(4,f=u.split("-")),t.$$.dirty[0]&1&&n(31,d=T===wn.Line?"border-color":"background-color"),t.$$.dirty[0]&8388608&&n(30,c=X??""),t.$$.dirty[0]&1073750016|t.$$.dirty[1]&1&&n(3,h=A?`${c} ${d}: ${A};`:c),t.$$.dirty[0]&1065091072&&(ne==null||ne.update({controlPosition:u,boundaries:{minWidth:i,minHeight:o,maxWidth:l,maxHeight:s},keepAspectRatio:!!k,onResizeStart:O,onResize:V,onResizeEnd:j,shouldResize:P}))},[T,ee,ve,h,f,q,te,U,J,ue,me,N,w,A,H,M,I,R,k,P,O,V,j,X,ne,s,l,o,i,u,c,d,a,S,E,be]}class Ja extends de{constructor(e){super(),fe(this,e,Z_,q_,ce,{nodeId:11,position:12,variant:0,color:13,minWidth:14,minHeight:15,maxWidth:16,maxHeight:17,keepAspectRatio:18,shouldResize:19,onResizeStart:20,onResize:21,onResizeEnd:22,style:23,class:1},null,[-1,-1])}}function Dr(t,e,n){const i=t.slice();return i[20]=e[n],i}function Ir(t,e,n){const i=t.slice();return i[20]=e[n],i}function Wr(t){let e=[],n=new Map,i,o=[],l=new Map,s,r,a=We($l);const u=c=>c[20];for(let c=0;c<a.length;c+=1){let h=Ir(t,a,c),m=u(h);n.set(m,e[c]=Lr(m,h))}let f=We(xl);const d=c=>c[20];for(let c=0;c<f.length;c+=1){let h=Dr(t,f,c),m=d(h);l.set(m,o[c]=Rr(m,h))}return{c(){for(let c=0;c<e.length;c+=1)e[c].c();i=L();for(let c=0;c<o.length;c+=1)o[c].c();s=Ye()},m(c,h){for(let m=0;m<e.length;m+=1)e[m]&&e[m].m(c,h);Y(c,i,h);for(let m=0;m<o.length;m+=1)o[m]&&o[m].m(c,h);Y(c,s,h),r=!0},p(c,h){h&65521&&(a=We($l),Pe(),e=ht(e,h,u,1,c,a,n,i.parentNode,dt,Lr,i,Ir),Ae()),h&65485&&(f=We(xl),Pe(),o=ht(o,h,d,1,c,f,l,s.parentNode,dt,Rr,s,Dr),Ae())},i(c){if(!r){for(let h=0;h<a.length;h+=1)D(e[h]);for(let h=0;h<f.length;h+=1)D(o[h]);r=!0}},o(c){for(let h=0;h<e.length;h+=1)W(e[h]);for(let h=0;h<o.length;h+=1)W(o[h]);r=!1},d(c){c&&(B(i),B(s));for(let h=0;h<e.length;h+=1)e[h].d(c);for(let h=0;h<o.length;h+=1)o[h].d(c)}}}function Lr(t,e){let n,i,o;return i=new Ja({props:{class:e[4],style:e[5],nodeId:e[0],position:e[20],variant:wn.Line,color:e[6],minWidth:e[12],minHeight:e[13],maxWidth:e[14],maxHeight:e[15],onResizeStart:e[9],keepAspectRatio:e[7],shouldResize:e[8],onResize:e[10],onResizeEnd:e[11]}}),{key:t,first:null,c(){n=Ye(),$(i.$$.fragment),this.first=n},m(l,s){Y(l,n,s),Q(i,l,s),o=!0},p(l,s){e=l;const r={};s&16&&(r.class=e[4]),s&32&&(r.style=e[5]),s&1&&(r.nodeId=e[0]),s&64&&(r.color=e[6]),s&512&&(r.onResizeStart=e[9]),s&128&&(r.keepAspectRatio=e[7]),s&256&&(r.shouldResize=e[8]),s&1024&&(r.onResize=e[10]),s&2048&&(r.onResizeEnd=e[11]),i.$set(r)},i(l){o||(D(i.$$.fragment,l),o=!0)},o(l){W(i.$$.fragment,l),o=!1},d(l){l&&B(n),x(i,l)}}}function Rr(t,e){let n,i,o;return i=new Ja({props:{class:e[2],style:e[3],nodeId:e[0],position:e[20],color:e[6],minWidth:e[12],minHeight:e[13],maxWidth:e[14],maxHeight:e[15],onResizeStart:e[9],keepAspectRatio:e[7],shouldResize:e[8],onResize:e[10],onResizeEnd:e[11]}}),{key:t,first:null,c(){n=Ye(),$(i.$$.fragment),this.first=n},m(l,s){Y(l,n,s),Q(i,l,s),o=!0},p(l,s){e=l;const r={};s&4&&(r.class=e[2]),s&8&&(r.style=e[3]),s&1&&(r.nodeId=e[0]),s&64&&(r.color=e[6]),s&512&&(r.onResizeStart=e[9]),s&128&&(r.keepAspectRatio=e[7]),s&256&&(r.shouldResize=e[8]),s&1024&&(r.onResize=e[10]),s&2048&&(r.onResizeEnd=e[11]),i.$set(r)},i(l){o||(D(i.$$.fragment,l),o=!0)},o(l){W(i.$$.fragment,l),o=!1},d(l){l&&B(n),x(i,l)}}}function G_(t){let e,n,i=t[1]&&Wr(t);return{c(){i&&i.c(),e=Ye()},m(o,l){i&&i.m(o,l),Y(o,e,l),n=!0},p(o,[l]){o[1]?i?(i.p(o,l),l&2&&D(i,1)):(i=Wr(o),i.c(),D(i,1),i.m(e.parentNode,e)):i&&(Pe(),W(i,1,1,()=>{i=null}),Ae())},i(o){n||(D(i),n=!0)},o(o){W(i),n=!1},d(o){o&&B(e),i&&i.d(o)}}}function U_(t,e,n){let{nodeId:i=void 0}=e,{isVisible:o=!0}=e,{handleClass:l=void 0}=e,{handleStyle:s=void 0}=e,{lineClass:r=void 0}=e,{lineStyle:a=void 0}=e,{color:u=void 0}=e,{minWidth:f=10}=e,{minHeight:d=10}=e,{maxWidth:c=Number.MAX_VALUE}=e,{maxHeight:h=Number.MAX_VALUE}=e,{keepAspectRatio:m=!1}=e,{shouldResize:p=void 0}=e,{onResizeStart:v=void 0}=e,{onResize:b=void 0}=e,{onResizeEnd:C=void 0}=e,y=f||10,E=d||10,S=c||Number.MAX_VALUE,N=h||Number.MAX_VALUE;return t.$$set=w=>{"nodeId"in w&&n(0,i=w.nodeId),"isVisible"in w&&n(1,o=w.isVisible),"handleClass"in w&&n(2,l=w.handleClass),"handleStyle"in w&&n(3,s=w.handleStyle),"lineClass"in w&&n(4,r=w.lineClass),"lineStyle"in w&&n(5,a=w.lineStyle),"color"in w&&n(6,u=w.color),"minWidth"in w&&n(16,f=w.minWidth),"minHeight"in w&&n(17,d=w.minHeight),"maxWidth"in w&&n(18,c=w.maxWidth),"maxHeight"in w&&n(19,h=w.maxHeight),"keepAspectRatio"in w&&n(7,m=w.keepAspectRatio),"shouldResize"in w&&n(8,p=w.shouldResize),"onResizeStart"in w&&n(9,v=w.onResizeStart),"onResize"in w&&n(10,b=w.onResize),"onResizeEnd"in w&&n(11,C=w.onResizeEnd)},[i,o,l,s,r,a,u,m,p,v,b,C,y,E,S,N,f,d,c,h]}class J_ extends de{constructor(e){super(),fe(this,e,U_,G_,ce,{nodeId:0,isVisible:1,handleClass:2,handleStyle:3,lineClass:4,lineStyle:5,color:6,minWidth:16,minHeight:17,maxWidth:18,maxHeight:19,keepAspectRatio:7,shouldResize:8,onResizeStart:9,onResize:10,onResizeEnd:11})}}function Q_(t){var s;let e,n=(((s=t[0])==null?void 0:s.title)||"Sem tÃ­tulo")+"",i,o,l;return{c(){e=z("span"),i=pe(n),g(e,"class","node-title svelte-8xqap5")},m(r,a){Y(r,e,a),_(e,i),o||(l=G(e,"dblclick",t[6]),o=!0)},p(r,a){var u;a&1&&n!==(n=(((u=r[0])==null?void 0:u.title)||"Sem tÃ­tulo")+"")&&Oe(i,n)},d(r){r&&B(e),o=!1,l()}}}function x_(t){let e,n,i;return{c(){e=z("input"),g(e,"type","text"),g(e,"placeholder","TÃ­tulo..."),g(e,"class","title-input svelte-8xqap5")},m(o,l){Y(o,e,l),ge(e,t[3]),n||(i=[G(e,"input",t[11]),G(e,"keydown",t[9])],n=!0)},p(o,l){l&8&&e.value!==o[3]&&ge(e,o[3])},d(o){o&&B(e),n=!1,He(i)}}}function $_(t){var s;let e,n=(((s=t[0])==null?void 0:s.content)||"Clique duplo para editar...")+"",i,o,l;return{c(){e=z("p"),i=pe(n),g(e,"class","svelte-8xqap5")},m(r,a){Y(r,e,a),_(e,i),o||(l=G(e,"dblclick",t[6]),o=!0)},p(r,a){var u;a&1&&n!==(n=(((u=r[0])==null?void 0:u.content)||"Clique duplo para editar...")+"")&&Oe(i,n)},d(r){r&&B(e),o=!1,l()}}}function e2(t){let e,n,i,o,l=t[5]?"Salvando...":"Salvar",s,r,a,u,f;return{c(){e=z("textarea"),n=L(),i=z("div"),o=z("button"),s=pe(l),r=L(),a=z("button"),a.textContent="Cancelar",g(e,"placeholder","ConteÃºdo..."),g(e,"class","content-input svelte-8xqap5"),g(e,"rows","4"),g(o,"class","btn-save svelte-8xqap5"),o.disabled=t[5],g(a,"class","btn-cancel svelte-8xqap5"),g(i,"class","edit-actions svelte-8xqap5")},m(d,c){Y(d,e,c),ge(e,t[4]),Y(d,n,c),Y(d,i,c),_(i,o),_(o,s),_(i,r),_(i,a),u||(f=[G(e,"input",t[12]),G(e,"keydown",t[9]),G(o,"click",t[7]),G(a,"click",t[8])],u=!0)},p(d,c){c&16&&ge(e,d[4]),c&32&&l!==(l=d[5]?"Salvando...":"Salvar")&&Oe(s,l),c&32&&(o.disabled=d[5])},d(d){d&&(B(e),B(n),B(i)),u=!1,He(f)}}}function t2(t){let e,n,i,o,l,s,r,a,u,f,d,c,h,m,p;n=new st({props:{type:"target",position:ke.Top,id:"top"}}),o=new st({props:{type:"target",position:ke.Left,id:"left"}});function v(N,w){return N[2]?x_:Q_}let b=v(t),C=b(t);function y(N,w){return N[2]?e2:$_}let E=y(t),S=E(t);return c=new st({props:{type:"source",position:ke.Bottom,id:"bottom"}}),m=new st({props:{type:"source",position:ke.Right,id:"right"}}),{c(){e=z("div"),$(n.$$.fragment),i=L(),$(o.$$.fragment),l=L(),s=z("div"),C.c(),r=L(),a=z("span"),a.textContent="ðŸ“",u=L(),f=z("div"),S.c(),d=L(),$(c.$$.fragment),h=L(),$(m.$$.fragment),g(a,"class","node-icon svelte-8xqap5"),g(s,"class","node-header svelte-8xqap5"),g(f,"class","node-content svelte-8xqap5"),g(e,"class","text-node svelte-8xqap5"),ae(e,"selected",t[1])},m(N,w){Y(N,e,w),Q(n,e,null),_(e,i),Q(o,e,null),_(e,l),_(e,s),C.m(s,null),_(s,r),_(s,a),_(e,u),_(e,f),S.m(f,null),_(e,d),Q(c,e,null),_(e,h),Q(m,e,null),p=!0},p(N,[w]){b===(b=v(N))&&C?C.p(N,w):(C.d(1),C=b(N),C&&(C.c(),C.m(s,r))),E===(E=y(N))&&S?S.p(N,w):(S.d(1),S=E(N),S&&(S.c(),S.m(f,null))),(!p||w&2)&&ae(e,"selected",N[1])},i(N){p||(D(n.$$.fragment,N),D(o.$$.fragment,N),D(c.$$.fragment,N),D(m.$$.fragment,N),p=!0)},o(N){W(n.$$.fragment,N),W(o.$$.fragment,N),W(c.$$.fragment,N),W(m.$$.fragment,N),p=!1},d(N){N&&B(e),x(n),x(o),C.d(),S.d(),x(c),x(m)}}}function n2(t,e,n){let{id:i}=e,{data:o}=e,{selected:l=!1}=e;const{updateNodeData:s}=eo();let r=!1,a=(o==null?void 0:o.title)||"",u=(o==null?void 0:o.content)||"",f=!1;function d(){n(2,r=!0),n(3,a=(o==null?void 0:o.title)||""),n(4,u=(o==null?void 0:o.content)||"")}function c(){n(5,f=!0);const b={...o,title:a,content:u};s(i,b),n(2,r=!1),n(5,f=!1)}function h(){n(2,r=!1)}function m(b){b.key==="Enter"&&b.ctrlKey?c():b.key==="Escape"?h():(b.key==="Delete"||b.key==="Backspace")&&b.stopPropagation()}function p(){a=this.value,n(3,a)}function v(){u=this.value,n(4,u)}return t.$$set=b=>{"id"in b&&n(10,i=b.id),"data"in b&&n(0,o=b.data),"selected"in b&&n(1,l=b.selected)},[o,l,r,a,u,f,d,c,h,m,i,p,v]}class i2 extends de{constructor(e){super(),fe(this,e,n2,t2,ce,{id:10,data:0,selected:1})}}function o2(){return window.go.handlers.IdeiasHandler.CarregarCanvas()}function l2(t){return window.go.handlers.IdeiasHandler.DeletarImagem(t)}function r2(t){return window.go.handlers.IdeiasHandler.LimparImagensOrfas(t)}function s2(t,e){return window.go.handlers.IdeiasHandler.SalvarCanvas(t,e)}function a2(t,e,n){return window.go.handlers.IdeiasHandler.UploadImagem(t,e,n)}let tn=!1;function u2(){typeof window<"u"&&window.go&&window.go.handlers&&window.go.handlers.IdeiasHandler?(tn=!0,console.log("Wails disponÃ­vel")):(tn=!1,console.log("Wails nÃ£o disponÃ­vel, usando localStorage"))}u2();async function ko(t,e){console.log("Salvando canvas:",t.length,"nÃ³s,",e.length,"edges");const n=t.map(i=>{var o;return i.type==="image"&&!((o=i.data)!=null&&o.imageFile)?{...i,data:{...i.data,imageFile:null}}:i});if(localStorage.setItem("ideias_canvas",JSON.stringify({nodes:n,edges:e})),tn)try{await s2(n,e),console.log("Canvas salvo no Wails")}catch(i){console.error("Erro ao salvar no Wails:",i)}}async function c2(){if(console.log("Carregando canvas..."),tn)try{const e=await o2();return console.log("Canvas carregado do Wails:",e),{nodes:e.nodes||[],edges:e.edges||[]}}catch(e){console.error("Erro ao carregar do Wails:",e)}const t=localStorage.getItem("ideias_canvas");return t?(console.log("Canvas carregado do localStorage (modo dev)"),JSON.parse(t)):{nodes:[],edges:[]}}async function f2(t,e,n){if(console.log("Fazendo upload de imagem:",t,"para nÃ³:",n,"tamanho:",e.length,"bytes"),tn)try{const i=await a2(t,e,n);return console.log("Upload bem-sucedido:",i),i}catch(i){throw console.error("Erro no upload:",i),i}else throw new Error("Wails nÃ£o disponÃ­vel para upload de imagens")}async function Qa(t){if(console.log("Deletando imagem:",t),tn)try{await l2(t),console.log("Imagem deletada com sucesso")}catch(e){console.error("Erro ao deletar imagem:",e)}}async function d2(t){if(console.log("Limpando imagens Ã³rfÃ£s para",t.length,"nÃ³s"),tn)try{await r2(t),console.log("Imagens Ã³rfÃ£s limpas com sucesso")}catch(e){console.error("Erro ao limpar imagens Ã³rfÃ£s:",e)}}function h2(t){var s;let e,n=(((s=t[0])==null?void 0:s.title)||"Sem tÃ­tulo")+"",i,o,l;return{c(){e=z("span"),i=pe(n),g(e,"class","node-title svelte-6h86e6")},m(r,a){Y(r,e,a),_(e,i),o||(l=G(e,"dblclick",t[7]),o=!0)},p(r,a){var u;a&1&&n!==(n=(((u=r[0])==null?void 0:u.title)||"Sem tÃ­tulo")+"")&&Oe(i,n)},d(r){r&&B(e),o=!1,l()}}}function g2(t){let e,n,i,o,l,s,r,a,u;return{c(){e=z("div"),n=z("input"),i=L(),o=z("div"),l=z("button"),l.textContent="âœ“",s=L(),r=z("button"),r.textContent="âœ•",g(n,"type","text"),g(n,"placeholder","TÃ­tulo..."),g(n,"class","title-input svelte-6h86e6"),n.autofocus=!0,g(l,"class","btn-save svelte-6h86e6"),g(l,"title","Salvar (Enter)"),g(r,"class","btn-cancel svelte-6h86e6"),g(r,"title","Cancelar (Esc)"),g(o,"class","edit-actions svelte-6h86e6"),g(e,"class","edit-container svelte-6h86e6")},m(f,d){Y(f,e,d),_(e,n),ge(n,t[3]),_(e,i),_(e,o),_(o,l),_(o,s),_(o,r),n.focus(),a||(u=[G(n,"input",t[16]),G(n,"keydown",t[14]),G(n,"blur",t[10]),G(l,"click",t[8]),G(r,"click",t[9])],a=!0)},p(f,d){d&8&&n.value!==f[3]&&ge(n,f[3])},d(f){f&&B(e),a=!1,He(u)}}}function m2(t){let e,n,i,o,l=t[5]?"Enviando...":"Clique para adicionar imagem",s,r,a;return{c(){e=z("div"),n=z("span"),n.textContent="ðŸ“¤",i=L(),o=z("span"),s=pe(l),g(n,"class","upload-icon svelte-6h86e6"),g(e,"class","no-image svelte-6h86e6")},m(u,f){Y(u,e,f),_(e,n),_(e,i),_(e,o),_(o,s),r||(a=G(e,"click",t[11]),r=!0)},p(u,f){f&32&&l!==(l=u[5]?"Enviando...":"Clique para adicionar imagem")&&Oe(s,l)},d(u){u&&B(e),r=!1,a()}}}function _2(t){let e,n,i,o,l,s,r,a;return{c(){var u;e=z("div"),n=z("img"),l=L(),s=z("div"),s.innerHTML='<span class="svelte-6h86e6">ðŸ” Clique para ampliar</span>',wi(n.src,i=t[6])||g(n,"src",i),g(n,"alt",o=((u=t[0])==null?void 0:u.title)||"Imagem"),g(n,"class","preview-image svelte-6h86e6"),g(s,"class","image-overlay svelte-6h86e6"),g(e,"class","image-container svelte-6h86e6")},m(u,f){Y(u,e,f),_(e,n),_(e,l),_(e,s),r||(a=G(e,"click",t[12]),r=!0)},p(u,f){var d;f&64&&!wi(n.src,i=u[6])&&g(n,"src",i),f&1&&o!==(o=((d=u[0])==null?void 0:d.title)||"Imagem")&&g(n,"alt",o)},d(u){u&&B(e),r=!1,a()}}}function Vr(t){let e,n,i=t[5]?"Enviando...":"Trocar imagem",o,l,s;return{c(){e=z("button"),n=pe("ðŸ”„ "),o=pe(i),g(e,"class","change-image-btn svelte-6h86e6"),e.disabled=t[5]},m(r,a){Y(r,e,a),_(e,n),_(e,o),l||(s=G(e,"click",t[11]),l=!0)},p(r,a){a&32&&i!==(i=r[5]?"Enviando...":"Trocar imagem")&&Oe(o,i),a&32&&(e.disabled=r[5])},d(r){r&&B(e),l=!1,s()}}}function jr(t){let e,n,i,o,l,s,r,a;return{c(){var u;e=z("div"),n=z("button"),n.textContent="âœ•",i=L(),o=z("img"),g(n,"class","close-btn svelte-6h86e6"),wi(o.src,l=t[6])||g(o,"src",l),g(o,"alt",s=(u=t[0])==null?void 0:u.title),g(o,"class","fullscreen-image svelte-6h86e6"),g(e,"class","fullscreen-overlay svelte-6h86e6")},m(u,f){Y(u,e,f),_(e,n),_(e,i),_(e,o),r||(a=[G(n,"click",t[13]),G(e,"click",t[13])],r=!0)},p(u,f){var d;f&64&&!wi(o.src,l=u[6])&&g(o,"src",l),f&1&&s!==(s=(d=u[0])==null?void 0:d.title)&&g(o,"alt",s)},d(u){u&&B(e),r=!1,He(a)}}}function p2(t){let e,n,i,o,l,s,r,a,u,f,d,c,h,m,p,v,b,C;n=new st({props:{type:"target",position:ke.Top,id:"top"}}),o=new st({props:{type:"target",position:ke.Left,id:"left"}});function y(M,I){return M[2]?g2:h2}let E=y(t),S=E(t);function N(M,I){return M[6]?_2:m2}let w=N(t),T=w(t),A=!t[2]&&Vr(t);h=new st({props:{type:"source",position:ke.Bottom,id:"bottom"}}),p=new st({props:{type:"source",position:ke.Right,id:"right"}});let H=t[4]&&jr(t);return{c(){e=z("div"),$(n.$$.fragment),i=L(),$(o.$$.fragment),l=L(),s=z("div"),S.c(),r=L(),a=z("span"),a.textContent="ðŸ–¼ï¸",u=L(),f=z("div"),T.c(),d=L(),A&&A.c(),c=L(),$(h.$$.fragment),m=L(),$(p.$$.fragment),v=L(),H&&H.c(),b=Ye(),g(a,"class","node-icon svelte-6h86e6"),g(s,"class","node-header svelte-6h86e6"),g(f,"class","node-content svelte-6h86e6"),g(e,"class","image-node svelte-6h86e6"),ae(e,"selected",t[1])},m(M,I){Y(M,e,I),Q(n,e,null),_(e,i),Q(o,e,null),_(e,l),_(e,s),S.m(s,null),_(s,r),_(s,a),_(e,u),_(e,f),T.m(f,null),_(f,d),A&&A.m(f,null),_(e,c),Q(h,e,null),_(e,m),Q(p,e,null),Y(M,v,I),H&&H.m(M,I),Y(M,b,I),C=!0},p(M,[I]){E===(E=y(M))&&S?S.p(M,I):(S.d(1),S=E(M),S&&(S.c(),S.m(s,r))),w===(w=N(M))&&T?T.p(M,I):(T.d(1),T=w(M),T&&(T.c(),T.m(f,d))),M[2]?A&&(A.d(1),A=null):A?A.p(M,I):(A=Vr(M),A.c(),A.m(f,null)),(!C||I&2)&&ae(e,"selected",M[1]),M[4]?H?H.p(M,I):(H=jr(M),H.c(),H.m(b.parentNode,b)):H&&(H.d(1),H=null)},i(M){C||(D(n.$$.fragment,M),D(o.$$.fragment,M),D(h.$$.fragment,M),D(p.$$.fragment,M),C=!0)},o(M){W(n.$$.fragment,M),W(o.$$.fragment,M),W(h.$$.fragment,M),W(p.$$.fragment,M),C=!1},d(M){M&&(B(e),B(v),B(b)),x(n),x(o),S.d(),T.d(),A&&A.d(),x(h),x(p),H&&H.d(M)}}}function b2(t,e,n){let i,{id:o}=e,{data:l}=e,{selected:s=!1}=e;const{updateNodeData:r}=eo();let a=!1,u=(l==null?void 0:l.title)||"",f=!1,d=!1;function c(){n(2,a=!0),n(3,u=(l==null?void 0:l.title)||"")}function h(){const S={...l,title:u};r(o,S),n(2,a=!1),console.log("TÃ­tulo salvo:",u)}function m(){n(3,u=(l==null?void 0:l.title)||""),n(2,a=!1)}function p(){h()}async function v(){const S=document.createElement("input");S.type="file",S.accept="image/*",S.onchange=async N=>{var M;const T=(M=N.target.files)==null?void 0:M[0];if(!T)return;n(5,d=!0);const A=l==null?void 0:l.imageFile,H=new FileReader;H.onload=async I=>{var P;const R=(P=I.target)==null?void 0:P.result,k=new Uint8Array(R);try{const O=await f2(T.name,Array.from(k),o);if(A&&A!==O)try{await Qa(A),console.log("Imagem anterior deletada:",A)}catch(j){console.error("Erro ao deletar imagem anterior:",j)}const V={...l,title:T.name,imageFile:O};r(o,V),console.log("Imagem trocada com sucesso. Nova imagem:",O)}catch(O){console.error("Erro ao fazer upload:",O),alert("Erro ao fazer upload da imagem")}finally{n(5,d=!1)}},H.readAsArrayBuffer(T)},S.click()}function b(){i&&n(4,f=!0)}function C(){n(4,f=!1)}function y(S){S.key==="Enter"?h():S.key==="Escape"?m():(S.key==="Delete"||S.key==="Backspace")&&S.stopPropagation()}function E(){u=this.value,n(3,u)}return t.$$set=S=>{"id"in S&&n(15,o=S.id),"data"in S&&n(0,l=S.data),"selected"in S&&n(1,s=S.selected)},t.$$.update=()=>{t.$$.dirty&1&&n(6,i=l!=null&&l.imageFile?`assets/img/${l.imageFile}`:"")},[l,s,a,u,f,d,i,c,h,m,p,v,b,C,y,o,E]}class v2 extends de{constructor(e){super(),fe(this,e,b2,p2,ce,{id:15,data:0,selected:1})}}function y2(t){var s;let e,n=(((s=t[0])==null?void 0:s.title)||"Sem tÃ­tulo")+"",i,o,l;return{c(){e=z("span"),i=pe(n),g(e,"class","node-title svelte-1kesrrr")},m(r,a){Y(r,e,a),_(e,i),o||(l=G(e,"dblclick",t[8]),o=!0)},p(r,a){var u;a&1&&n!==(n=(((u=r[0])==null?void 0:u.title)||"Sem tÃ­tulo")+"")&&Oe(i,n)},d(r){r&&B(e),o=!1,l()}}}function w2(t){let e,n,i;return{c(){e=z("input"),g(e,"type","text"),g(e,"placeholder","TÃ­tulo..."),g(e,"class","title-input svelte-1kesrrr")},m(o,l){Y(o,e,l),ge(e,t[3]),n||(i=[G(e,"input",t[14]),G(e,"keydown",t[12])],n=!0)},p(o,l){l&8&&e.value!==o[3]&&ge(e,o[3])},d(o){o&&B(e),n=!1,He(i)}}}function k2(t){var h;let e,n,i,o,l,s=(t[7]||"Clique no tÃ­tulo para editar")+"",r,a,u,f,d,c=((h=t[0])==null?void 0:h.description)&&Xr(t);return{c(){var m;e=z("div"),n=z("a"),i=z("span"),i.textContent="ðŸ”—",o=L(),l=z("span"),r=pe(s),u=L(),c&&c.c(),g(i,"class","link-icon svelte-1kesrrr"),g(l,"class","url-text svelte-1kesrrr"),g(n,"href",a=((m=t[0])==null?void 0:m.url)||"#"),g(n,"target","_blank"),g(n,"rel","noopener noreferrer"),g(n,"class","url-link svelte-1kesrrr"),g(e,"class","link-preview svelte-1kesrrr")},m(m,p){Y(m,e,p),_(e,n),_(n,i),_(n,o),_(n,l),_(l,r),_(e,u),c&&c.m(e,null),f||(d=G(n,"click",Nu(t[11])),f=!0)},p(m,p){var v,b;p&128&&s!==(s=(m[7]||"Clique no tÃ­tulo para editar")+"")&&Oe(r,s),p&1&&a!==(a=((v=m[0])==null?void 0:v.url)||"#")&&g(n,"href",a),(b=m[0])!=null&&b.description?c?c.p(m,p):(c=Xr(m),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(m){m&&B(e),c&&c.d(),f=!1,d()}}}function S2(t){let e,n,i,o,l,s,r=t[6]?"Salvando...":"Salvar",a,u,f,d,c;return{c(){e=z("input"),n=L(),i=z("input"),o=L(),l=z("div"),s=z("button"),a=pe(r),u=L(),f=z("button"),f.textContent="Cancelar",g(e,"type","text"),g(e,"placeholder","https://..."),g(e,"class","url-input svelte-1kesrrr"),g(i,"type","text"),g(i,"placeholder","DescriÃ§Ã£o..."),g(i,"class","desc-input svelte-1kesrrr"),g(s,"class","btn-save svelte-1kesrrr"),s.disabled=t[6],g(f,"class","btn-cancel svelte-1kesrrr"),g(l,"class","edit-actions svelte-1kesrrr")},m(h,m){Y(h,e,m),ge(e,t[4]),Y(h,n,m),Y(h,i,m),ge(i,t[5]),Y(h,o,m),Y(h,l,m),_(l,s),_(s,a),_(l,u),_(l,f),d||(c=[G(e,"input",t[15]),G(e,"keydown",t[12]),G(i,"input",t[16]),G(i,"keydown",t[12]),G(s,"click",t[9]),G(f,"click",t[10])],d=!0)},p(h,m){m&16&&e.value!==h[4]&&ge(e,h[4]),m&32&&i.value!==h[5]&&ge(i,h[5]),m&64&&r!==(r=h[6]?"Salvando...":"Salvar")&&Oe(a,r),m&64&&(s.disabled=h[6])},d(h){h&&(B(e),B(n),B(i),B(o),B(l)),d=!1,He(c)}}}function Xr(t){let e,n=t[0].description+"",i;return{c(){e=z("div"),i=pe(n),g(e,"class","link-description svelte-1kesrrr")},m(o,l){Y(o,e,l),_(e,i)},p(o,l){l&1&&n!==(n=o[0].description+"")&&Oe(i,n)},d(o){o&&B(e)}}}function C2(t){let e,n,i,o,l,s,r,a,u,f,d,c,h,m,p;n=new st({props:{type:"target",position:ke.Top,id:"top"}}),o=new st({props:{type:"target",position:ke.Left,id:"left"}});function v(N,w){return N[2]?w2:y2}let b=v(t),C=b(t);function y(N,w){return N[2]?S2:k2}let E=y(t),S=E(t);return c=new st({props:{type:"source",position:ke.Bottom,id:"bottom"}}),m=new st({props:{type:"source",position:ke.Right,id:"right"}}),{c(){e=z("div"),$(n.$$.fragment),i=L(),$(o.$$.fragment),l=L(),s=z("div"),C.c(),r=L(),a=z("span"),a.textContent="ðŸ”—",u=L(),f=z("div"),S.c(),d=L(),$(c.$$.fragment),h=L(),$(m.$$.fragment),g(a,"class","node-icon svelte-1kesrrr"),g(s,"class","node-header svelte-1kesrrr"),g(f,"class","node-content svelte-1kesrrr"),g(e,"class","link-node svelte-1kesrrr"),ae(e,"selected",t[1])},m(N,w){Y(N,e,w),Q(n,e,null),_(e,i),Q(o,e,null),_(e,l),_(e,s),C.m(s,null),_(s,r),_(s,a),_(e,u),_(e,f),S.m(f,null),_(e,d),Q(c,e,null),_(e,h),Q(m,e,null),p=!0},p(N,[w]){b===(b=v(N))&&C?C.p(N,w):(C.d(1),C=b(N),C&&(C.c(),C.m(s,r))),E===(E=y(N))&&S?S.p(N,w):(S.d(1),S=E(N),S&&(S.c(),S.m(f,null))),(!p||w&2)&&ae(e,"selected",N[1])},i(N){p||(D(n.$$.fragment,N),D(o.$$.fragment,N),D(c.$$.fragment,N),D(m.$$.fragment,N),p=!0)},o(N){W(n.$$.fragment,N),W(o.$$.fragment,N),W(c.$$.fragment,N),W(m.$$.fragment,N),p=!1},d(N){N&&B(e),x(n),x(o),C.d(),S.d(),x(c),x(m)}}}function z2(t,e,n){let i,{id:o}=e,{data:l}=e,{selected:s=!1}=e;const{updateNodeData:r}=eo();let a=!1,u=(l==null?void 0:l.title)||"",f=(l==null?void 0:l.url)||"",d=(l==null?void 0:l.description)||"",c=!1;function h(){n(2,a=!0),n(3,u=(l==null?void 0:l.title)||""),n(4,f=(l==null?void 0:l.url)||""),n(5,d=(l==null?void 0:l.description)||"")}function m(){n(6,c=!0);const S={...l,title:u,url:f,description:d};r(o,S),n(2,a=!1),n(6,c=!1)}function p(){n(2,a=!1)}function v(){let S=(l==null?void 0:l.url)||"";S&&!S.startsWith("http")&&(S="https://"+S),window.open(S,"_blank")}function b(S){S.key==="Enter"&&S.ctrlKey?m():S.key==="Escape"?p():(S.key==="Delete"||S.key==="Backspace")&&S.stopPropagation()}function C(){u=this.value,n(3,u)}function y(){f=this.value,n(4,f)}function E(){d=this.value,n(5,d)}return t.$$set=S=>{"id"in S&&n(13,o=S.id),"data"in S&&n(0,l=S.data),"selected"in S&&n(1,s=S.selected)},t.$$.update=()=>{t.$$.dirty&1&&n(7,i=((l==null?void 0:l.url)||"").replace(/^https?:\/\//,"").substring(0,30)+(((l==null?void 0:l.url)||"").length>30?"...":""))},[l,s,a,u,f,d,c,i,h,m,p,v,b,o,C,y,E]}class E2 extends de{constructor(e){super(),fe(this,e,z2,C2,ce,{id:13,data:0,selected:1})}}function Br(t,e,n){const i=t.slice();return i[19]=e[n],i}function N2(t){var a;let e,n=(((a=t[0])==null?void 0:a.title)||"Grupo")+"",i,o,l,s,r;return{c(){e=z("span"),i=pe(n),o=L(),l=z("span"),l.textContent="ðŸ“",g(e,"class","group-title svelte-11aqnvf"),g(l,"class","group-icon svelte-11aqnvf")},m(u,f){Y(u,e,f),_(e,i),Y(u,o,f),Y(u,l,f),s||(r=G(e,"dblclick",t[7]),s=!0)},p(u,f){var d;f&1&&n!==(n=(((d=u[0])==null?void 0:d.title)||"Grupo")+"")&&Oe(i,n)},d(u){u&&(B(e),B(o),B(l)),s=!1,r()}}}function M2(t){let e,n,i,o,l,s,r,a,u,f,d,c=We(t[6]),h=[];for(let m=0;m<c.length;m+=1)h[m]=Yr(Br(t,c,m));return{c(){e=z("div"),n=z("input"),i=L(),o=z("div");for(let m=0;m<h.length;m+=1)h[m].c();l=L(),s=z("div"),r=z("button"),r.textContent="Salvar",a=L(),u=z("button"),u.textContent="Cancelar",g(n,"type","text"),g(n,"placeholder","TÃ­tulo do grupo..."),g(n,"class","title-input svelte-11aqnvf"),g(o,"class","color-picker svelte-11aqnvf"),g(r,"class","btn-save svelte-11aqnvf"),g(u,"class","btn-cancel svelte-11aqnvf"),g(s,"class","edit-actions svelte-11aqnvf"),g(e,"class","edit-form svelte-11aqnvf")},m(m,p){Y(m,e,p),_(e,n),ge(n,t[3]),_(e,i),_(e,o);for(let v=0;v<h.length;v+=1)h[v]&&h[v].m(o,null);_(e,l),_(e,s),_(s,r),_(s,a),_(s,u),f||(d=[G(n,"input",t[15]),G(n,"keydown",t[11]),G(r,"click",t[8]),G(u,"click",t[9])],f=!0)},p(m,p){if(p&8&&n.value!==m[3]&&ge(n,m[3]),p&1104){c=We(m[6]);let v;for(v=0;v<c.length;v+=1){const b=Br(m,c,v);h[v]?h[v].p(b,p):(h[v]=Yr(b),h[v].c(),h[v].m(o,null))}for(;v<h.length;v+=1)h[v].d(1);h.length=c.length}},d(m){m&&B(e),Jn(h,m),f=!1,He(d)}}}function Yr(t){let e,n,i;function o(){return t[16](t[19])}return{c(){e=z("button"),g(e,"class","color-option svelte-11aqnvf"),we(e,"background-color",t[19].cor),we(e,"border-color",Lo(t[19].cor)),g(e,"title",t[19].nome),ae(e,"selected",t[4]===t[19].cor)},m(l,s){Y(l,e,s),n||(i=G(e,"click",o),n=!0)},p(l,s){t=l,s&80&&ae(e,"selected",t[4]===t[19].cor)},d(l){l&&B(e),n=!1,i()}}}function P2(t){let e,n,i,o,l,s,r,a,u,f,d,c,h,m,p;e=new J_({props:{minWidth:A2,minHeight:O2,isVisible:t[1],lineClass:"resize-line",handleClass:"resize-handle"}}),o=new st({props:{type:"target",position:ke.Top,id:"top"}}),s=new st({props:{type:"target",position:ke.Left,id:"left"}});function v(y,E){return y[2]?M2:N2}let b=v(t),C=b(t);return c=new st({props:{type:"source",position:ke.Bottom,id:"bottom"}}),m=new st({props:{type:"source",position:ke.Right,id:"right"}}),{c(){var y;$(e.$$.fragment),n=L(),i=z("div"),$(o.$$.fragment),l=L(),$(s.$$.fragment),r=L(),a=z("div"),C.c(),u=L(),f=z("div"),f.innerHTML="",d=L(),$(c.$$.fragment),h=L(),$(m.$$.fragment),g(a,"class","group-header svelte-11aqnvf"),g(f,"class","group-content svelte-11aqnvf"),g(i,"class","group-node svelte-11aqnvf"),we(i,"background-color",((y=t[0])==null?void 0:y.color)||"rgba(59, 130, 246, 0.1)"),we(i,"border-color",t[5]),ae(i,"selected",t[1])},m(y,E){Q(e,y,E),Y(y,n,E),Y(y,i,E),Q(o,i,null),_(i,l),Q(s,i,null),_(i,r),_(i,a),C.m(a,null),_(i,u),_(i,f),_(i,d),Q(c,i,null),_(i,h),Q(m,i,null),p=!0},p(y,[E]){var N;const S={};E&2&&(S.isVisible=y[1]),e.$set(S),b===(b=v(y))&&C?C.p(y,E):(C.d(1),C=b(y),C&&(C.c(),C.m(a,null))),(!p||E&1)&&we(i,"background-color",((N=y[0])==null?void 0:N.color)||"rgba(59, 130, 246, 0.1)"),(!p||E&32)&&we(i,"border-color",y[5]),(!p||E&2)&&ae(i,"selected",y[1])},i(y){p||(D(e.$$.fragment,y),D(o.$$.fragment,y),D(s.$$.fragment,y),D(c.$$.fragment,y),D(m.$$.fragment,y),p=!0)},o(y){W(e.$$.fragment,y),W(o.$$.fragment,y),W(s.$$.fragment,y),W(c.$$.fragment,y),W(m.$$.fragment,y),p=!1},d(y){y&&(B(n),B(i)),x(e,y),x(o),x(s),C.d(),x(c),x(m)}}}const A2=200,O2=150;function Lo(t){const e=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);return e?`rgb(${e[1]}, ${e[2]}, ${e[3]})`:"#3b82f6"}function T2(t,e,n){let i,{id:o}=e,{data:l}=e,{selected:s=!1}=e,{width:r=400}=e,{height:a=300}=e;const{updateNodeData:u,updateNode:f}=eo();let d=!1,c=(l==null?void 0:l.title)||"",h=(l==null?void 0:l.color)||"rgba(59, 130, 246, 0.1)";const m=[{cor:"rgba(59, 130, 246, 0.1)",nome:"Azul"},{cor:"rgba(16, 185, 129, 0.1)",nome:"Verde"},{cor:"rgba(139, 92, 246, 0.1)",nome:"Roxo"},{cor:"rgba(245, 158, 11, 0.1)",nome:"Laranja"},{cor:"rgba(239, 68, 68, 0.1)",nome:"Vermelho"},{cor:"rgba(6, 182, 212, 0.1)",nome:"Ciano"},{cor:"rgba(236, 72, 153, 0.1)",nome:"Rosa"},{cor:"rgba(100, 116, 139, 0.1)",nome:"Cinza"}];function p(){n(2,d=!0),n(3,c=(l==null?void 0:l.title)||""),n(4,h=(l==null?void 0:l.color)||"rgba(59, 130, 246, 0.1)")}function v(){const N={...l,title:c,color:h};u(o,N),f(o,{style:{width:r,height:a,backgroundColor:h,border:`2px dashed ${Lo(h)}`,borderRadius:"12px"}}),n(2,d=!1)}function b(){n(2,d=!1)}function C(N){n(4,h=N)}function y(N){N.key==="Enter"?v():N.key==="Escape"?b():(N.key==="Delete"||N.key==="Backspace")&&N.stopPropagation()}function E(){c=this.value,n(3,c)}const S=N=>C(N.cor);return t.$$set=N=>{"id"in N&&n(12,o=N.id),"data"in N&&n(0,l=N.data),"selected"in N&&n(1,s=N.selected),"width"in N&&n(13,r=N.width),"height"in N&&n(14,a=N.height)},t.$$.update=()=>{t.$$.dirty&1&&n(5,i=Lo((l==null?void 0:l.color)||"rgba(59, 130, 246, 0.1)"))},[l,s,d,c,h,i,m,p,v,b,C,y,o,r,a,E,S]}class H2 extends de{constructor(e){super(),fe(this,e,T2,P2,ce,{id:12,data:0,selected:1,width:13,height:14})}}function D2(t){let e,n,i,o,l,s,r,a,u,f,d,c,h,m,p,v,b,C,y,E;return{c(){e=z("div"),n=z("h3"),n.textContent="Ferramentas",i=L(),o=z("div"),l=z("button"),l.innerHTML=`<span>ðŸ“</span>
              Adicionar Texto`,s=L(),r=z("button"),r.innerHTML=`<span>ðŸ”—</span>
              Adicionar Link`,a=L(),u=z("button"),u.innerHTML=`<span>ðŸ–¼ï¸</span>
              Adicionar Imagem`,f=L(),d=z("button"),d.innerHTML=`<span>ðŸ“</span>
              Adicionar Grupo`,c=L(),h=z("div"),m=z("button"),m.innerHTML=`<span>ðŸ—‘ï¸</span>
              Limpar Canvas`,p=L(),v=z("button"),v.innerHTML=`<span>ðŸ’¾</span>
              Limpar Dados Salvos`,b=L(),C=z("div"),C.innerHTML='<p class="svelte-u3ay1i">ðŸ’¡ Arraste os nÃ³s para organizar</p> <p class="svelte-u3ay1i">ðŸ”— Conecte arrastando dos pontos</p> <p class="svelte-u3ay1i">âœï¸ Duplo clique para editar</p> <p class="svelte-u3ay1i">ðŸ–±ï¸ Clique para selecionar</p>',g(n,"class","svelte-u3ay1i"),g(l,"class","btn btn-primary svelte-u3ay1i"),g(r,"class","btn btn-success svelte-u3ay1i"),g(u,"class","btn btn-purple svelte-u3ay1i"),g(d,"class","btn btn-warning svelte-u3ay1i"),g(o,"class","btn-group svelte-u3ay1i"),g(m,"class","btn btn-danger svelte-u3ay1i"),g(v,"class","btn btn-secondary svelte-u3ay1i"),g(h,"class","btn-group secondary svelte-u3ay1i"),g(C,"class","instructions svelte-u3ay1i"),g(e,"class","controls-box svelte-u3ay1i")},m(S,N){Y(S,e,N),_(e,n),_(e,i),_(e,o),_(o,l),_(o,s),_(o,r),_(o,a),_(o,u),_(o,f),_(o,d),_(e,c),_(e,h),_(h,m),_(h,p),_(h,v),_(e,b),_(e,C),y||(E=[G(l,"click",t[9]),G(r,"click",t[10]),G(u,"click",t[11]),G(d,"click",t[12]),G(m,"click",t[6]),G(v,"click",t[7])],y=!0)},p:Se,d(S){S&&B(e),y=!1,He(E)}}}function I2(t){let e,n,i,o,l,s,r,a;return e=new S_({}),i=new I_({props:{variant:Lt.Dots,gap:20,size:1}}),l=new K_({props:{nodeStrokeWidth:3,maskColor:"rgba(0, 0, 0, 0.2)",class:"mini-map",pannable:!0,zoomable:!0}}),r=new $i({props:{position:"top-left",class:"controls-panel",$$slots:{default:[D2]},$$scope:{ctx:t}}}),{c(){$(e.$$.fragment),n=L(),$(i.$$.fragment),o=L(),$(l.$$.fragment),s=L(),$(r.$$.fragment)},m(u,f){Q(e,u,f),Y(u,n,f),Q(i,u,f),Y(u,o,f),Q(l,u,f),Y(u,s,f),Q(r,u,f),a=!0},p(u,f){const d={};f&2097152&&(d.$$scope={dirty:f,ctx:u}),r.$set(d)},i(u){a||(D(e.$$.fragment,u),D(i.$$.fragment,u),D(l.$$.fragment,u),D(r.$$.fragment,u),a=!0)},o(u){W(e.$$.fragment,u),W(i.$$.fragment,u),W(l.$$.fragment,u),W(r.$$.fragment,u),a=!1},d(u){u&&(B(n),B(o),B(s)),x(e,u),x(i,u),x(l,u),x(r,u)}}}function W2(t){let e,n,i,o,l,s,r,a,u,f,d,c,h;return c=new x0({props:{nodes:t[2],edges:t[3],nodeTypes:t[1],connectionMode:Ft.Loose,fitView:!0,minZoom:.1,maxZoom:2,class:"svelte-flow-custom",selectionKeyCode:"Control",selectionOnDrag:!0,selectNodesOnDrag:!0,$$slots:{default:[I2]},$$scope:{ctx:t}}}),c.$on("connect",t[13]),c.$on("nodedragstop",t[8]),{c(){e=z("div"),n=z("div"),i=z("div"),i.innerHTML='<span class="header-icon svelte-u3ay1i">ðŸ’¡</span> <h1 class="svelte-u3ay1i">Canvas de Ideias</h1>',o=L(),l=z("div"),s=z("span"),r=L(),a=z("span"),u=pe(t[0]),f=L(),d=z("div"),$(c.$$.fragment),g(i,"class","header-title svelte-u3ay1i"),g(s,"class","pulse svelte-u3ay1i"),ae(s,"saving",t[0]==="Salvando..."),g(l,"class","auto-save-indicator svelte-u3ay1i"),g(n,"class","module-header svelte-u3ay1i"),g(d,"class","canvas-wrapper svelte-u3ay1i"),g(e,"class","ideias-module svelte-u3ay1i")},m(m,p){Y(m,e,p),_(e,n),_(n,i),_(n,o),_(n,l),_(l,s),_(l,r),_(l,a),_(a,u),_(e,f),_(e,d),Q(c,d,null),h=!0},p(m,[p]){(!h||p&1)&&ae(s,"saving",m[0]==="Salvando..."),(!h||p&1)&&Oe(u,m[0]);const v={};p&2097152&&(v.$$scope={dirty:p,ctx:m}),c.$set(v)},i(m){h||(D(c.$$.fragment,m),h=!0)},o(m){W(c.$$.fragment,m),h=!1},d(m){m&&B(e),x(c)}}}function L2(t){switch(t){case"text":return{title:"Nova Nota",content:"Clique duplo para editar..."};case"image":return{title:"Nova Imagem",imageFile:null};case"link":return{title:"Novo Link",url:"",description:""};case"group":return{title:"Novo Grupo",color:"rgba(59, 130, 246, 0.1)"};default:return{}}}function In(t){console.log("Ordenando nÃ³s:",t.map(l=>({id:l.id,type:l.type,parentId:l.parentId})));const e=new Map(t.map(l=>[l.id,l])),n=new Set,i=[];function o(l){if(!n.has(l.id)){if(n.add(l.id),l.parentId&&e.has(l.parentId)){const s=e.get(l.parentId);s&&o(s)}else l.parentId&&console.warn(`Parent node ${l.parentId} not found for node ${l.id}`);i.push(l)}}return t.forEach(l=>o(l)),console.log("Ordem resultante:",i.map(l=>l.id)),i}function Fr(t,e){let n=t.position.x,i=t.position.y;if(t.parentId){const o=e.find(l=>l.id===t.parentId);o&&(n+=o.position.x,i+=o.position.y)}return{x:n,y:i}}function R2(t){return t.map(e=>{const n={id:e.id,source:e.source,target:e.target,type:e.type||"default",sourceHandle:e.sourceHandle,targetHandle:e.targetHandle,animated:e.animated!==void 0?e.animated:!0,style:e.style||{stroke:"#6366f1",strokeWidth:2}};if(!n.sourceHandle||!n.targetHandle){const i=e.id.match(/xy-edge__(.+?)(top|bottom|left|right)-(.+?)(top|bottom|left|right)/);if(i){const[,o,l,s,r]=i;console.log(`Extraindo handles do ID ${e.id}: sourceHandle=${l}, targetHandle=${r}`),n.sourceHandle=l,n.targetHandle=r}else console.warn(`Edge ${e.id} nÃ£o tem handles definidos e nÃ£o foi possÃ­vel extrair do ID`)}return n})}function V2(t,e,n){let i,o;const l={text:i2,image:v2,link:E2,group:H2},s=ye([]);re(t,s,w=>n(17,o=w));const r=ye([]);re(t,r,w=>n(16,i=w));let a="Pronto",u=null,f=!0;Jt([s,r],([w,T])=>({nodes:w,edges:T})).subscribe(w=>{!f&&w.nodes.length>0&&(n(0,a="Salvando..."),u&&clearTimeout(u),u=setTimeout(async()=>{try{await ko(w.nodes,w.edges),n(0,a="Salvo!"),setTimeout(()=>{n(0,a="Pronto")},2e3)}catch(T){console.error("Erro ao salvar:",T),n(0,a="Erro ao salvar")}},1e3))}),Ct(async()=>{try{const w=await c2();console.log("Dados carregados:",w),console.log("NÃ³s carregados:",w.nodes);const A=(w.nodes||[]).filter(H=>H&&H.id&&H.type&&H.position).map(H=>(H.parent&&!H.parentId&&(H.parentId=H.parent),H.parentId&&!H.parent&&(H.parent=H.parentId),H));if(console.log("NÃ³s vÃ¡lidos:",A.map(H=>({id:H.id,parentId:H.parentId,parent:H.parent}))),A.length>0){const H=In(A);s.set(H);const M=w.edges||[];console.log("Edges carregadas:",M.map(k=>({id:k.id,source:k.source,target:k.target,sourceHandle:k.sourceHandle,targetHandle:k.targetHandle})));const I=R2(M);console.log("Edges normalizadas:",I.map(k=>({id:k.id,sourceHandle:k.sourceHandle,targetHandle:k.targetHandle}))),r.set(I),console.log("Canvas carregado com",H.length,"nÃ³s");const R=H.map(k=>k.id);try{await d2(R),console.log("Limpeza de imagens Ã³rfÃ£s concluÃ­da")}catch(k){console.error("Erro ao limpar imagens Ã³rfÃ£s:",k)}}}catch(w){console.error("Erro ao carregar canvas:",w)}finally{f=!1}window.addEventListener("keydown",c)});function c(w){if(w.key==="Delete"||w.key==="Backspace"){const T=o.filter(H=>H.selected),A=i.filter(H=>H.selected);(T.length>0||A.length>0)&&(T.forEach(async H=>{var M;if(H.type==="image"&&((M=H.data)!=null&&M.imageFile))try{await Qa(H.data.imageFile),console.log("Imagem deletada:",H.data.imageFile)}catch(I){console.error("Erro ao deletar imagem:",I)}}),s.update(H=>{const M=H.filter(k=>k.selected),I=M.filter(k=>k.type==="group").map(k=>k.id);let R=H.filter(k=>!k.selected);return I.length>0&&(R=R.map(k=>{if(k.parentId&&I.includes(k.parentId)){const P=M.find(O=>O.id===k.parentId);if(P)return console.log(`Convertendo nÃ³ ${k.id} para posiÃ§Ã£o absoluta apÃ³s deletar grupo ${P.id}`),{...k,parentId:void 0,position:{x:k.position.x+P.position.x,y:k.position.y+P.position.y}}}return k})),In(R)}),r.update(H=>H.filter(M=>!M.selected)))}}function h(w,T){const A=`${w}_${Date.now()}`,H=T||{x:Math.random()*400+100,y:Math.random()*300+100},M={id:A,type:w,position:H,data:L2(w)};if(w==="group")M.style={width:400,height:300,backgroundColor:"rgba(59, 130, 246, 0.1)",border:"2px dashed #3b82f6",borderRadius:"12px",zIndex:-1},M.resizable=!0,M.width=400,M.height=300,M.zIndex=-1,s.update(I=>{const R=[...I,M],k=R.filter(O=>O.type==="group"),P=R.map(O=>{if(O.type==="group"||O.parentId)return O;const V=Fr(O,k);return V.x>=M.position.x&&V.x<=M.position.x+M.width&&V.y>=M.position.y&&V.y<=M.position.y+M.height?(console.log(`NÃ³ ${O.id} estÃ¡ dentro do novo grupo ${M.id}, agrupando...`),{...O,parentId:M.id,position:{x:V.x-M.position.x,y:V.y-M.position.y}}):O});return In(P)});else{s.update(I=>{const k=I.filter(P=>P.type==="group").find(P=>{const O=P.position,V=P.width||400,j=P.height||300;return H.x>=O.x&&H.x<=O.x+V&&H.y>=O.y&&H.y<=O.y+j});return k&&(M.parentId=k.id,M.position={x:H.x-k.position.x,y:H.y-k.position.y}),In([...I,M])});return}}function m(w){if(w.source&&w.target){const T={id:`e_${w.source}_${w.target}_${Date.now()}`,source:w.source,target:w.target,sourceHandle:w.sourceHandle,targetHandle:w.targetHandle,type:"default",animated:!0,style:{stroke:"#6366f1",strokeWidth:2}};r.update(A=>[...A,T])}}function p(){confirm("Tem certeza que deseja limpar o canvas? Todos os nÃ³s serÃ£o perdidos.")&&(s.set([]),r.set([]),n(0,a="Salvando..."),ko([],[]).then(()=>{n(0,a="Salvo!"),setTimeout(()=>{n(0,a="Pronto")},2e3)}))}function v(){confirm(`Tem certeza que deseja limpar todos os dados salvos?

Isso apagarÃ¡ tudo permanentemente.`)&&(localStorage.removeItem("ideias_canvas"),s.set([]),r.set([]),ko([],[]).then(()=>{n(0,a="Dados limpos!"),setTimeout(()=>{n(0,a="Pronto")},2e3)}),setTimeout(()=>{window.location.reload()},500))}function b(w){var A,H,M;const T=((A=w.detail)==null?void 0:A.node)||((M=(H=w.detail)==null?void 0:H.nodes)==null?void 0:M[0]);T&&(console.log("NÃ³ arrastado:",T.id,"tipo:",T.type),T.type!=="group"&&s.update(I=>{const R=I.filter(P=>P.type==="group");console.log("Grupos disponÃ­veis:",R.length);const k=I.map(P=>{if(P.id!==T.id)return P;const O=Fr(P,R);let V=O.x,j=O.y;console.log(`PosiÃ§Ã£o absoluta do nÃ³ ${P.id}: (${V}, ${j})`);let X=null;for(const ee of R){if(P.id===ee.id)continue;const q=ee.position.x,te=ee.position.y,U=ee.width||400,J=ee.height||300;if(V>=q&&V<=q+U&&j>=te&&j<=te+J){console.log(`NÃ³ ${P.id} estÃ¡ dentro do grupo ${ee.id}`),X=ee;break}}return X&&P.parentId!==X.id?(console.log(`Entrando no grupo ${X.id}`),{...P,parentId:X.id,position:{x:V-X.position.x,y:j-X.position.y}}):!X&&P.parentId?(console.log(`Saindo do grupo ${P.parentId}`),{...P,parentId:void 0,position:{x:V,y:j}}):P});return In(k)}))}return[a,l,s,r,h,m,p,v,b,()=>h("text"),()=>h("link"),()=>h("image"),()=>h("group"),({detail:w})=>m(w)]}class j2 extends de{constructor(e){super(),fe(this,e,V2,W2,ce,{})}}function X2(t){return window.go.handlers.LinksHandler.AdicionarLink(t)}function B2(t){return window.go.handlers.LinksHandler.AtualizarLink(t)}function Y2(){return window.go.handlers.LinksHandler.CarregarLinks()}function F2(t){return window.go.handlers.LinksHandler.DeletarLink(t)}function K2(t){return window.go.handlers.LinksHandler.SalvarLinks(t)}let nn=!1;function q2(){typeof window<"u"&&window.go&&window.go.handlers&&window.go.handlers.LinksHandler?(nn=!0,console.log("Wails Links disponÃ­vel")):(nn=!1,console.log("Wails Links nÃ£o disponÃ­vel, usando localStorage"))}q2();async function to(t){if(console.log("Salvando",t.length,"links"),localStorage.setItem("links_data",JSON.stringify(t)),nn)try{await K2(t),console.log("Links salvos no Wails")}catch(e){console.error("Erro ao salvar links no Wails:",e)}}async function no(){if(console.log("Carregando links..."),nn)try{const e=await Y2();if(console.log("Links carregados do Wails:",e.length),e&&e.length>=0)return localStorage.setItem("links_data",JSON.stringify(e)),e}catch(e){console.error("Erro ao carregar links do Wails:",e)}const t=localStorage.getItem("links_data");return t?(console.log("Links carregados do localStorage"),JSON.parse(t)):[]}async function Z2(t){if(console.log("Adicionando link:",t.title),nn)try{await X2(t),console.log("Link adicionado no Wails");return}catch(n){console.error("Erro ao adicionar link no Wails:",n)}const e=await no();e.push(t),await to(e)}async function G2(t){if(console.log("Deletando link:",t),nn)try{await F2(t),console.log("Link deletado no Wails");return}catch(i){console.error("Erro ao deletar link no Wails:",i)}const n=(await no()).filter(i=>i.id!==t);await to(n)}async function U2(t){if(console.log("Atualizando link:",t.id),nn)try{await B2(t),console.log("Link atualizado no Wails");return}catch(i){console.error("Erro ao atualizar link no Wails:",i)}const e=await no(),n=e.findIndex(i=>i.id===t.id);n!==-1&&(e[n]=t,await to(e))}function Kr(t,e,n){const i=t.slice();return i[29]=e[n],i}function qr(t){let e,n,i,o,l,s,r,a;return i=new Yt({props:{size:20}}),{c(){e=z("div"),n=z("button"),$(i.$$.fragment),o=L(),l=z("span"),l.textContent="Adicionar Link",g(n,"class","btn-add svelte-10456ps"),g(e,"class","btn-wrapper svelte-10456ps")},m(u,f){Y(u,e,f),_(e,n),Q(i,n,null),_(n,o),_(n,l),s=!0,r||(a=G(n,"click",t[19]),r=!0)},p:Se,i(u){s||(D(i.$$.fragment,u),s=!0)},o(u){W(i.$$.fragment,u),s=!1},d(u){u&&B(e),x(i),r=!1,a()}}}function Zr(t){let e,n,i,o,l,s,r,a,u,f,d,c,h,m,p,v,b;return{c(){e=z("div"),n=z("h3"),n.textContent="Novo Link",i=L(),o=z("input"),l=L(),s=z("input"),r=L(),a=z("input"),u=L(),f=z("div"),d=z("button"),d.textContent="Cancelar",c=L(),h=z("button"),m=pe("Salvar Link"),g(n,"class","svelte-10456ps"),g(o,"type","text"),g(o,"placeholder","TÃ­tulo do link..."),g(o,"class","input-field svelte-10456ps"),g(s,"type","text"),g(s,"placeholder","www.exemplo.com"),g(s,"class","input-field svelte-10456ps"),g(a,"type","text"),g(a,"placeholder","DescriÃ§Ã£o (opcional)..."),g(a,"class","input-field svelte-10456ps"),g(d,"class","btn btn-secondary svelte-10456ps"),g(h,"class","btn btn-primary svelte-10456ps"),h.disabled=p=!t[1].trim()||!t[2].trim(),g(f,"class","form-actions svelte-10456ps"),g(e,"class","add-link-card svelte-10456ps")},m(C,y){Y(C,e,y),_(e,n),_(e,i),_(e,o),ge(o,t[1]),_(e,l),_(e,s),ge(s,t[2]),_(e,r),_(e,a),ge(a,t[3]),_(e,u),_(e,f),_(f,d),_(f,c),_(f,h),_(h,m),v||(b=[G(o,"input",t[20]),G(s,"input",t[21]),G(a,"input",t[22]),G(d,"click",t[13]),G(h,"click",t[11])],v=!0)},p(C,y){y[0]&2&&o.value!==C[1]&&ge(o,C[1]),y[0]&4&&s.value!==C[2]&&ge(s,C[2]),y[0]&8&&a.value!==C[3]&&ge(a,C[3]),y[0]&6&&p!==(p=!C[1].trim()||!C[2].trim())&&(h.disabled=p)},d(C){C&&B(e),v=!1,He(b)}}}function J2(t){let e=[],n=new Map,i,o,l=We(t[0]);const s=r=>r[29].id;for(let r=0;r<l.length;r+=1){let a=Kr(t,l,r),u=s(a);n.set(u,e[r]=Ur(u,a))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();i=Ye()},m(r,a){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(r,a);Y(r,i,a),o=!0},p(r,a){a[0]&119745&&(l=We(r[0]),Pe(),e=ht(e,a,s,1,r,l,n,i.parentNode,dt,Ur,i,Kr),Ae())},i(r){if(!o){for(let a=0;a<l.length;a+=1)D(e[a]);o=!0}},o(r){for(let a=0;a<e.length;a+=1)W(e[a]);o=!1},d(r){r&&B(i);for(let a=0;a<e.length;a+=1)e[a].d(r)}}}function Q2(t){let e,n,i,o,l,s,r,a;return i=new Vo({props:{size:64}}),{c(){e=z("div"),n=z("div"),$(i.$$.fragment),o=L(),l=z("p"),l.textContent="Nenhum link salvo ainda",s=L(),r=z("p"),r.textContent='Clique em "Adicionar Link" para comeÃ§ar!',g(n,"class","empty-icon svelte-10456ps"),g(l,"class","empty-text svelte-10456ps"),g(r,"class","empty-hint svelte-10456ps"),g(e,"class","empty-state svelte-10456ps")},m(u,f){Y(u,e,f),_(e,n),Q(i,n,null),_(e,o),_(e,l),_(e,s),_(e,r),a=!0},p:Se,i(u){a||(D(i.$$.fragment,u),a=!0)},o(u){W(i.$$.fragment,u),a=!1},d(u){u&&B(e),x(i)}}}function x2(t){let e,n,i,o=t[29].title+"",l,s,r,a,u=t[29].url+"",f,d,c,h,m,p,v,b,C,y,E,S,N,w,T;c=new Vo({props:{size:14}});function A(){return t[26](t[29])}let H=t[29].description&&Gr(t);b=new sn({props:{size:16}});function M(){return t[27](t[29])}E=new an({props:{size:16}});function I(){return t[28](t[29])}return{c(){e=z("div"),n=z("div"),i=z("h4"),l=pe(o),s=L(),r=z("button"),a=z("span"),f=pe(u),d=L(),$(c.$$.fragment),h=L(),H&&H.c(),m=L(),p=z("div"),v=z("button"),$(b.$$.fragment),C=L(),y=z("button"),$(E.$$.fragment),S=L(),g(i,"class","link-title svelte-10456ps"),g(a,"class","svelte-10456ps"),g(r,"class","link-url svelte-10456ps"),g(r,"title","Abrir link"),g(n,"class","link-content svelte-10456ps"),g(v,"class","btn-edit svelte-10456ps"),g(v,"title","Editar link"),g(y,"class","btn-delete svelte-10456ps"),g(y,"title","Remover link"),g(p,"class","card-actions svelte-10456ps"),g(e,"class","link-card svelte-10456ps")},m(R,k){Y(R,e,k),_(e,n),_(n,i),_(i,l),_(n,s),_(n,r),_(r,a),_(a,f),_(r,d),Q(c,r,null),_(n,h),H&&H.m(n,null),_(e,m),_(e,p),_(p,v),Q(b,v,null),_(p,C),_(p,y),Q(E,y,null),_(e,S),N=!0,w||(T=[G(r,"click",A),G(v,"click",M),G(y,"click",I)],w=!0)},p(R,k){t=R,(!N||k[0]&1)&&o!==(o=t[29].title+"")&&Oe(l,o),(!N||k[0]&1)&&u!==(u=t[29].url+"")&&Oe(f,u),t[29].description?H?H.p(t,k):(H=Gr(t),H.c(),H.m(n,null)):H&&(H.d(1),H=null)},i(R){N||(D(c.$$.fragment,R),D(b.$$.fragment,R),D(E.$$.fragment,R),N=!0)},o(R){W(c.$$.fragment,R),W(b.$$.fragment,R),W(E.$$.fragment,R),N=!1},d(R){R&&B(e),x(c),H&&H.d(),x(b),x(E),w=!1,He(T)}}}function $2(t){let e,n,i,o,l,s,r,a,u,f,d,c,h,m,p,v,b,C,y;return d=new rn({props:{size:16}}),p=new Yi({props:{size:16}}),{c(){e=z("div"),n=z("div"),i=z("input"),o=L(),l=z("input"),s=L(),r=z("input"),a=L(),u=z("div"),f=z("button"),$(d.$$.fragment),h=L(),m=z("button"),$(p.$$.fragment),v=L(),g(i,"type","text"),g(i,"placeholder","TÃ­tulo do link..."),g(i,"class","input-field svelte-10456ps"),g(l,"type","text"),g(l,"placeholder","www.exemplo.com"),g(l,"class","input-field svelte-10456ps"),g(r,"type","text"),g(r,"placeholder","DescriÃ§Ã£o (opcional)..."),g(r,"class","input-field svelte-10456ps"),g(f,"class","btn-save-edit svelte-10456ps"),f.disabled=c=!t[7].trim()||!t[8].trim(),g(f,"title","Salvar alteraÃ§Ãµes"),g(m,"class","btn-cancel-edit svelte-10456ps"),g(m,"title","Cancelar ediÃ§Ã£o"),g(u,"class","edit-actions svelte-10456ps"),g(n,"class","edit-form svelte-10456ps"),g(e,"class","link-card editing svelte-10456ps")},m(E,S){Y(E,e,S),_(e,n),_(n,i),ge(i,t[7]),_(n,o),_(n,l),ge(l,t[8]),_(n,s),_(n,r),ge(r,t[9]),_(n,a),_(n,u),_(u,f),Q(d,f,null),_(u,h),_(u,m),Q(p,m,null),_(e,v),b=!0,C||(y=[G(i,"input",t[23]),G(l,"input",t[24]),G(r,"input",t[25]),G(f,"click",t[16]),G(m,"click",t[15])],C=!0)},p(E,S){S[0]&128&&i.value!==E[7]&&ge(i,E[7]),S[0]&256&&l.value!==E[8]&&ge(l,E[8]),S[0]&512&&r.value!==E[9]&&ge(r,E[9]),(!b||S[0]&384&&c!==(c=!E[7].trim()||!E[8].trim()))&&(f.disabled=c)},i(E){b||(D(d.$$.fragment,E),D(p.$$.fragment,E),b=!0)},o(E){W(d.$$.fragment,E),W(p.$$.fragment,E),b=!1},d(E){E&&B(e),x(d),x(p),C=!1,He(y)}}}function Gr(t){let e,n=t[29].description+"",i;return{c(){e=z("p"),i=pe(n),g(e,"class","link-description svelte-10456ps")},m(o,l){Y(o,e,l),_(e,i)},p(o,l){l[0]&1&&n!==(n=o[29].description+"")&&Oe(i,n)},d(o){o&&B(e)}}}function Ur(t,e){let n,i,o,l,s;const r=[$2,x2],a=[];function u(f,d){var c;return((c=f[6])==null?void 0:c.id)===f[29].id?0:1}return i=u(e),o=a[i]=r[i](e),{key:t,first:null,c(){n=Ye(),o.c(),l=Ye(),this.first=n},m(f,d){Y(f,n,d),a[i].m(f,d),Y(f,l,d),s=!0},p(f,d){e=f;let c=i;i=u(e),i===c?a[i].p(e,d):(Pe(),W(a[c],1,1,()=>{a[c]=null}),Ae(),o=a[i],o?o.p(e,d):(o=a[i]=r[i](e),o.c()),D(o,1),o.m(l.parentNode,l))},i(f){s||(D(o),s=!0)},o(f){W(o),s=!1},d(f){f&&(B(n),B(l)),a[i].d(f)}}}function ep(t){let e,n,i,o,l,s,r,a,u,f,d,c,h,m,p,v,b,C,y,E,S;l=new Vo({props:{size:28}});let N=!t[5]&&qr(t),w=t[5]&&Zr(t);const T=[Q2,J2],A=[];function H(M,I){return M[0].length===0&&!M[5]?0:1}return y=H(t),E=A[y]=T[y](t),{c(){e=z("div"),n=z("div"),i=z("div"),o=z("div"),$(l.$$.fragment),s=L(),r=z("h1"),r.textContent="Links Importantes",a=L(),u=z("div"),f=z("span"),d=L(),c=z("span"),h=pe(t[4]),m=L(),p=z("div"),N&&N.c(),v=L(),w&&w.c(),b=L(),C=z("div"),E.c(),g(o,"class","header-icon svelte-10456ps"),g(r,"class","svelte-10456ps"),g(i,"class","header-title svelte-10456ps"),g(f,"class","pulse svelte-10456ps"),ae(f,"saving",t[4]==="Salvando..."),g(u,"class","auto-save-indicator svelte-10456ps"),g(n,"class","module-header svelte-10456ps"),g(C,"class","links-list svelte-10456ps"),g(p,"class","links-container svelte-10456ps"),g(e,"class","links-module svelte-10456ps")},m(M,I){Y(M,e,I),_(e,n),_(n,i),_(i,o),Q(l,o,null),_(i,s),_(i,r),_(n,a),_(n,u),_(u,f),_(u,d),_(u,c),_(c,h),_(e,m),_(e,p),N&&N.m(p,null),_(p,v),w&&w.m(p,null),_(p,b),_(p,C),A[y].m(C,null),S=!0},p(M,I){(!S||I[0]&16)&&ae(f,"saving",M[4]==="Salvando..."),(!S||I[0]&16)&&Oe(h,M[4]),M[5]?N&&(Pe(),W(N,1,1,()=>{N=null}),Ae()):N?(N.p(M,I),I[0]&32&&D(N,1)):(N=qr(M),N.c(),D(N,1),N.m(p,v)),M[5]?w?w.p(M,I):(w=Zr(M),w.c(),w.m(p,b)):w&&(w.d(1),w=null);let R=y;y=H(M),y===R?A[y].p(M,I):(Pe(),W(A[R],1,1,()=>{A[R]=null}),Ae(),E=A[y],E?E.p(M,I):(E=A[y]=T[y](M),E.c()),D(E,1),E.m(C,null))},i(M){S||(D(l.$$.fragment,M),D(N),D(E),S=!0)},o(M){W(l.$$.fragment,M),W(N),W(E),S=!1},d(M){M&&B(e),x(l),N&&N.d(),w&&w.d(),A[y].d()}}}function tp(t){window.open(t,"_blank")}function np(t,e,n){let i;const o=ye([]);re(t,o,O=>n(0,i=O));let l="",s="",r="",a=!0,u="Pronto",f=!1,d=null;Ct(async()=>{const O=await no();o.set(O),n(17,a=!1)});async function c(){if(!l.trim()||!s.trim())return;let O=s.trim();!O.startsWith("http://")&&!O.startsWith("https://")&&(O="https://"+O);const V={id:`link_${Date.now()}`,title:l.trim(),url:O,description:r.trim(),createdAt:new Date().toISOString()};await Z2(V),o.update(j=>[...j,V]),n(1,l=""),n(2,s=""),n(3,r=""),n(5,f=!1)}async function h(O){confirm("Deseja remover este link?")&&(await G2(O),o.update(V=>V.filter(j=>j.id!==O)))}function m(){n(5,f=!1),n(1,l=""),n(2,s=""),n(3,r="")}let p="",v="",b="";function C(O){n(6,d=O),n(7,p=O.title),n(8,v=O.url),n(9,b=O.description||"")}function y(){n(6,d=null),n(7,p=""),n(8,v=""),n(9,b="")}async function E(){if(!d||!p.trim()||!v.trim())return;let O=v.trim();!O.startsWith("http://")&&!O.startsWith("https://")&&(O="https://"+O);const V={...d,title:p.trim(),url:O,description:b.trim()};await U2(V),o.update(j=>j.map(X=>X.id===V.id?V:X)),n(6,d=null),n(7,p=""),n(8,v=""),n(9,b="")}let S=null;const N=()=>n(5,f=!0);function w(){l=this.value,n(1,l)}function T(){s=this.value,n(2,s)}function A(){r=this.value,n(3,r)}function H(){p=this.value,n(7,p)}function M(){v=this.value,n(8,v)}function I(){b=this.value,n(9,b)}const R=O=>tp(O.url),k=O=>C(O),P=O=>h(O.id);return t.$$.update=()=>{t.$$.dirty[0]&393217&&!a&&i&&(n(4,u="Salvando..."),S&&clearTimeout(S),n(18,S=setTimeout(async()=>{await to(i),n(4,u="Salvo!"),setTimeout(()=>n(4,u="Pronto"),2e3)},1e3)))},[i,l,s,r,u,f,d,p,v,b,o,c,h,m,C,y,E,a,S,N,w,T,A,H,M,I,R,k,P]}class ip extends de{constructor(e){super(),fe(this,e,np,ep,ce,{},null,[-1,-1])}}function op(t){return window.go.handlers.PlanejamentoHandler.AdicionarTarefa(t)}function lp(t,e){return window.go.handlers.PlanejamentoHandler.AtualizarTarefa(t,e)}function rp(){return window.go.handlers.PlanejamentoHandler.CarregarQuadro()}function sp(t,e){return window.go.handlers.PlanejamentoHandler.DeletarTarefa(t,e)}function ap(t,e,n){return window.go.handlers.PlanejamentoHandler.MoverTarefa(t,e,n)}function up(t){return window.go.handlers.PlanejamentoHandler.SalvarQuadro(t)}var Jr;(t=>{class e{constructor(c={}){ze(this,"nome");ze(this,"data");ze(this,"label");typeof c=="string"&&(c=JSON.parse(c)),this.nome=c.nome,this.data=c.data,this.label=c.label}static createFrom(c={}){return new e(c)}}t.BackupInfo=e;class n{constructor(c={}){ze(this,"id");ze(this,"source");ze(this,"target");ze(this,"type");ze(this,"sourceHandle");ze(this,"targetHandle");ze(this,"animated");ze(this,"style");typeof c=="string"&&(c=JSON.parse(c)),this.id=c.id,this.source=c.source,this.target=c.target,this.type=c.type,this.sourceHandle=c.sourceHandle,this.targetHandle=c.targetHandle,this.animated=c.animated,this.style=c.style}static createFrom(c={}){return new n(c)}}t.EdgeData=n;class i{constructor(c={}){ze(this,"id");ze(this,"type");ze(this,"position");ze(this,"data");ze(this,"width");ze(this,"height");ze(this,"parent");ze(this,"parentId");typeof c=="string"&&(c=JSON.parse(c)),this.id=c.id,this.type=c.type,this.position=c.position,this.data=c.data,this.width=c.width,this.height=c.height,this.parent=c.parent,this.parentId=c.parentId}static createFrom(c={}){return new i(c)}}t.NodeData=i;class o{constructor(c={}){ze(this,"nodes");ze(this,"edges");typeof c=="string"&&(c=JSON.parse(c)),this.nodes=this.convertValues(c.nodes,i),this.edges=this.convertValues(c.edges,n)}static createFrom(c={}){return new o(c)}convertValues(c,h,m=!1){if(!c)return c;if(c.slice&&c.map)return c.map(p=>this.convertValues(p,h));if(typeof c=="object"){if(m){for(const p of Object.keys(c))c[p]=new h(c[p]);return c}return new h(c)}return c}}t.CanvasData=o;class l{constructor(c={}){ze(this,"id");ze(this,"titulo");ze(this,"data");ze(this,"hora");ze(this,"descricao");ze(this,"cor");ze(this,"createdAt");typeof c=="string"&&(c=JSON.parse(c)),this.id=c.id,this.titulo=c.titulo,this.data=c.data,this.hora=c.hora,this.descricao=c.descricao,this.cor=c.cor,this.createdAt=c.createdAt}static createFrom(c={}){return new l(c)}}t.Evento=l;class s{constructor(c={}){ze(this,"id");ze(this,"title");ze(this,"url");ze(this,"description");ze(this,"createdAt");typeof c=="string"&&(c=JSON.parse(c)),this.id=c.id,this.title=c.title,this.url=c.url,this.description=c.description,this.createdAt=c.createdAt}static createFrom(c={}){return new s(c)}}t.Link=s;class r{constructor(c={}){ze(this,"id");ze(this,"titulo");ze(this,"prazo");ze(this,"progresso");ze(this,"concluido");ze(this,"createdAt");typeof c=="string"&&(c=JSON.parse(c)),this.id=c.id,this.titulo=c.titulo,this.prazo=c.prazo,this.progresso=c.progresso,this.concluido=c.concluido,this.createdAt=c.createdAt}static createFrom(c={}){return new r(c)}}t.Objetivo=r;class a{constructor(c={}){ze(this,"id");ze(this,"descricao");ze(this,"concluido");ze(this,"ordem");ze(this,"createdAt");typeof c=="string"&&(c=JSON.parse(c)),this.id=c.id,this.descricao=c.descricao,this.concluido=c.concluido,this.ordem=c.ordem,this.createdAt=c.createdAt}static createFrom(c={}){return new a(c)}}t.Passo=a;class u{constructor(c={}){ze(this,"id");ze(this,"titulo");ze(this,"descricao");ze(this,"status");ze(this,"createdAt");typeof c=="string"&&(c=JSON.parse(c)),this.id=c.id,this.titulo=c.titulo,this.descricao=c.descricao,this.status=c.status,this.createdAt=c.createdAt}static createFrom(c={}){return new u(c)}}t.Tarefa=u;class f{constructor(c={}){ze(this,"objetivo");ze(this,"fazendo");ze(this,"feito");typeof c=="string"&&(c=JSON.parse(c)),this.objetivo=this.convertValues(c.objetivo,u),this.fazendo=this.convertValues(c.fazendo,u),this.feito=this.convertValues(c.feito,u)}static createFrom(c={}){return new f(c)}convertValues(c,h,m=!1){if(!c)return c;if(c.slice&&c.map)return c.map(p=>this.convertValues(p,h));if(typeof c=="object"){if(m){for(const p of Object.keys(c))c[p]=new h(c[p]);return c}return new h(c)}return c}}t.QuadroKanban=f})(Jr||(Jr={}));function gn(t){const e=t==null?void 0:t.status,n=e==="objetivo"||e==="fazendo"||e==="feito"?e:"objetivo";return{id:(t==null?void 0:t.id)||"",titulo:(t==null?void 0:t.titulo)||"",descricao:(t==null?void 0:t.descricao)||"",status:n,createdAt:(t==null?void 0:t.createdAt)||new Date().toISOString()}}let Kt=!1;function cp(){typeof window<"u"&&window.go&&window.go.handlers&&window.go.handlers.PlanejamentoHandler?(Kt=!0,console.log("Wails Planejamento disponÃ­vel")):(Kt=!1,console.log("Wails Planejamento nÃ£o disponÃ­vel, usando localStorage"))}cp();async function ii(t){if(console.log("Salvando quadro Kanban"),localStorage.setItem("planejamento_data",JSON.stringify(t)),Kt)try{const e={objetivo:t.objetivo.map(n=>({id:n.id,titulo:n.titulo,descricao:n.descricao,status:n.status,createdAt:n.createdAt})),fazendo:t.fazendo.map(n=>({id:n.id,titulo:n.titulo,descricao:n.descricao,status:n.status,createdAt:n.createdAt})),feito:t.feito.map(n=>({id:n.id,titulo:n.titulo,descricao:n.descricao,status:n.status,createdAt:n.createdAt}))};await up(e),console.log("Quadro salvo no Wails")}catch(e){console.error("Erro ao salvar quadro no Wails:",e)}}async function oi(){console.log("Carregando quadro Kanban...");const t={objetivo:[],fazendo:[],feito:[]};if(Kt)try{const n=await rp();if(console.log("Quadro carregado do Wails:",n),n&&typeof n=="object"){const i={objetivo:Array.isArray(n.objetivo)?n.objetivo.map(gn):[],fazendo:Array.isArray(n.fazendo)?n.fazendo.map(gn):[],feito:Array.isArray(n.feito)?n.feito.map(gn):[]};return localStorage.setItem("planejamento_data",JSON.stringify(i)),i}}catch(n){console.error("Erro ao carregar quadro do Wails:",n)}const e=localStorage.getItem("planejamento_data");if(e){console.log("Quadro carregado do localStorage");try{const n=JSON.parse(e);return{objetivo:Array.isArray(n.objetivo)?n.objetivo.map(gn):[],fazendo:Array.isArray(n.fazendo)?n.fazendo.map(gn):[],feito:Array.isArray(n.feito)?n.feito.map(gn):[]}}catch(n){console.error("Erro ao parsear dados do localStorage:",n)}}return console.log("Retornando quadro vazio"),t}async function fp(t){if(console.log("Adicionando tarefa:",t.titulo),Kt)try{const n={id:t.id,titulo:t.titulo,descricao:t.descricao,status:t.status,createdAt:t.createdAt};await op(n),console.log("Tarefa adicionada no Wails");return}catch(n){console.error("Erro ao adicionar tarefa no Wails:",n)}const e=await oi();e[t.status].push(t),await ii(e)}async function dp(t,e,n){if(console.log("Movendo tarefa:",t,"de",e,"para",n),Kt)try{await ap(t,e,n),console.log("Tarefa movida no Wails");return}catch(s){console.error("Erro ao mover tarefa no Wails:",s)}const i=await oi(),o=i[e],l=o.findIndex(s=>s.id===t);if(l!==-1){const s=o[l];o.splice(l,1),s.status=n,i[n].push(s),await ii(i)}}async function hp(t,e){if(console.log("Deletando tarefa:",t),Kt)try{await sp(t,e),console.log("Tarefa deletada no Wails");return}catch(l){console.error("Erro ao deletar tarefa no Wails:",l)}const n=await oi(),o=n[e].filter(l=>l.id!==t);n[e]=o,await ii(n)}async function gp(t,e){if(console.log("Atualizando tarefa:",t.id),Kt)try{const l={id:t.id,titulo:t.titulo,descricao:t.descricao,status:t.status,createdAt:t.createdAt};await lp(l,e),console.log("Tarefa atualizada no Wails");return}catch(l){console.error("Erro ao atualizar tarefa no Wails:",l)}const n=await oi(),i=n[e],o=i.findIndex(l=>l.id===t.id);o!==-1&&(i[o]=t,await ii(n))}function Qr(t,e,n){const i=t.slice();return i[47]=e[n],i}function xr(t,e,n){const i=t.slice();return i[47]=e[n],i}function $r(t,e,n){const i=t.slice();return i[47]=e[n],i}function es(t){let e=[],n=new Map,i,o,l=We(t[7].objetivo);const s=r=>r[47].id;for(let r=0;r<l.length;r+=1){let a=$r(t,l,r),u=s(a);n.set(u,e[r]=ns(u,a))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();i=Ye()},m(r,a){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(r,a);Y(r,i,a),o=!0},p(r,a){a[0]&7296&&(l=We(r[7].objetivo),Pe(),e=ht(e,a,s,1,r,l,n,i.parentNode,dt,ns,i,$r),Ae())},i(r){if(!o){for(let a=0;a<l.length;a+=1)D(e[a]);o=!0}},o(r){for(let a=0;a<e.length;a+=1)W(e[a]);o=!1},d(r){r&&B(i);for(let a=0;a<e.length;a+=1)e[a].d(r)}}}function ts(t){let e,n=t[47].descricao+"",i;return{c(){e=z("p"),i=pe(n),g(e,"class","task-desc svelte-8oii4")},m(o,l){Y(o,e,l),_(e,i)},p(o,l){l[0]&128&&n!==(n=o[47].descricao+"")&&Oe(i,n)},d(o){o&&B(e)}}}function ns(t,e){let n,i,o=e[47].titulo+"",l,s,r,a,u,f,d,c,h,m,p,v,b,C,y,E,S=e[47].descricao&&ts(e);f=new Bs({props:{size:16}});function N(){return e[18](e[47])}h=new sn({props:{size:16}});function w(){return e[19](e[47])}v=new an({props:{size:16}});function T(){return e[20](e[47])}return{key:t,first:null,c(){n=z("div"),i=z("h4"),l=pe(o),s=L(),S&&S.c(),r=L(),a=z("div"),u=z("button"),$(f.$$.fragment),d=L(),c=z("button"),$(h.$$.fragment),m=L(),p=z("button"),$(v.$$.fragment),b=L(),g(i,"class","task-title svelte-8oii4"),g(u,"class","btn-nav svelte-8oii4"),g(u,"title","Mover para Fazendo"),g(c,"class","btn-edit svelte-8oii4"),g(c,"title","Editar"),g(p,"class","btn-delete svelte-8oii4"),g(p,"title","Remover"),g(a,"class","task-actions svelte-8oii4"),g(n,"class","task-card svelte-8oii4"),this.first=n},m(A,H){Y(A,n,H),_(n,i),_(i,l),_(n,s),S&&S.m(n,null),_(n,r),_(n,a),_(a,u),Q(f,u,null),_(a,d),_(a,c),Q(h,c,null),_(a,m),_(a,p),Q(v,p,null),_(n,b),C=!0,y||(E=[G(u,"click",N),G(c,"click",w),G(p,"click",T)],y=!0)},p(A,H){e=A,(!C||H[0]&128)&&o!==(o=e[47].titulo+"")&&Oe(l,o),e[47].descricao?S?S.p(e,H):(S=ts(e),S.c(),S.m(n,r)):S&&(S.d(1),S=null)},i(A){C||(D(f.$$.fragment,A),D(h.$$.fragment,A),D(v.$$.fragment,A),C=!0)},o(A){W(f.$$.fragment,A),W(h.$$.fragment,A),W(v.$$.fragment,A),C=!1},d(A){A&&B(n),S&&S.d(),x(f),x(h),x(v),y=!1,He(E)}}}function is(t){let e,n,i,o,l,s,r,a,u,f,d,c,h;return{c(){e=z("div"),n=z("input"),i=L(),o=z("textarea"),l=L(),s=z("div"),r=z("button"),r.textContent="Cancelar",a=L(),u=z("button"),f=pe("Adicionar"),g(n,"type","text"),g(n,"placeholder","TÃ­tulo da tarefa..."),g(n,"class","input-field svelte-8oii4"),g(o,"placeholder","DescriÃ§Ã£o (opcional)..."),g(o,"class","textarea-field svelte-8oii4"),g(o,"rows","2"),g(r,"class","btn btn-secondary svelte-8oii4"),g(u,"class","btn btn-primary svelte-8oii4"),u.disabled=d=!t[2].trim(),g(s,"class","form-actions svelte-8oii4"),g(e,"class","add-task-form svelte-8oii4")},m(m,p){Y(m,e,p),_(e,n),ge(n,t[2]),_(e,i),_(e,o),ge(o,t[3]),_(e,l),_(e,s),_(s,r),_(s,a),_(s,u),_(u,f),c||(h=[G(n,"input",t[21]),G(o,"input",t[22]),G(r,"click",t[15]),G(u,"click",t[23])],c=!0)},p(m,p){p[0]&4&&n.value!==m[2]&&ge(n,m[2]),p[0]&8&&ge(o,m[3]),p[0]&4&&d!==(d=!m[2].trim())&&(u.disabled=d)},d(m){m&&B(e),c=!1,He(h)}}}function os(t){let e=[],n=new Map,i,o,l=We(t[7].fazendo);const s=r=>r[47].id;for(let r=0;r<l.length;r+=1){let a=xr(t,l,r),u=s(a);n.set(u,e[r]=rs(u,a))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();i=Ye()},m(r,a){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(r,a);Y(r,i,a),o=!0},p(r,a){a[0]&7296&&(l=We(r[7].fazendo),Pe(),e=ht(e,a,s,1,r,l,n,i.parentNode,dt,rs,i,xr),Ae())},i(r){if(!o){for(let a=0;a<l.length;a+=1)D(e[a]);o=!0}},o(r){for(let a=0;a<e.length;a+=1)W(e[a]);o=!1},d(r){r&&B(i);for(let a=0;a<e.length;a+=1)e[a].d(r)}}}function ls(t){let e,n=t[47].descricao+"",i;return{c(){e=z("p"),i=pe(n),g(e,"class","task-desc svelte-8oii4")},m(o,l){Y(o,e,l),_(e,i)},p(o,l){l[0]&128&&n!==(n=o[47].descricao+"")&&Oe(i,n)},d(o){o&&B(e)}}}function rs(t,e){let n,i,o=e[47].titulo+"",l,s,r,a,u,f,d,c,h,m,p,v,b,C,y,E,S,N,w,T=e[47].descricao&&ls(e);f=new Xs({props:{size:16}});function A(){return e[25](e[47])}h=new Bs({props:{size:16}});function H(){return e[26](e[47])}v=new sn({props:{size:16}});function M(){return e[27](e[47])}y=new an({props:{size:16}});function I(){return e[28](e[47])}return{key:t,first:null,c(){n=z("div"),i=z("h4"),l=pe(o),s=L(),T&&T.c(),r=L(),a=z("div"),u=z("button"),$(f.$$.fragment),d=L(),c=z("button"),$(h.$$.fragment),m=L(),p=z("button"),$(v.$$.fragment),b=L(),C=z("button"),$(y.$$.fragment),E=L(),g(i,"class","task-title svelte-8oii4"),g(u,"class","btn-nav svelte-8oii4"),g(u,"title","Mover para Objetivo"),g(c,"class","btn-nav svelte-8oii4"),g(c,"title","Mover para Feito"),g(p,"class","btn-edit svelte-8oii4"),g(p,"title","Editar"),g(C,"class","btn-delete svelte-8oii4"),g(C,"title","Remover"),g(a,"class","task-actions svelte-8oii4"),g(n,"class","task-card svelte-8oii4"),this.first=n},m(R,k){Y(R,n,k),_(n,i),_(i,l),_(n,s),T&&T.m(n,null),_(n,r),_(n,a),_(a,u),Q(f,u,null),_(a,d),_(a,c),Q(h,c,null),_(a,m),_(a,p),Q(v,p,null),_(a,b),_(a,C),Q(y,C,null),_(n,E),S=!0,N||(w=[G(u,"click",A),G(c,"click",H),G(p,"click",M),G(C,"click",I)],N=!0)},p(R,k){e=R,(!S||k[0]&128)&&o!==(o=e[47].titulo+"")&&Oe(l,o),e[47].descricao?T?T.p(e,k):(T=ls(e),T.c(),T.m(n,r)):T&&(T.d(1),T=null)},i(R){S||(D(f.$$.fragment,R),D(h.$$.fragment,R),D(v.$$.fragment,R),D(y.$$.fragment,R),S=!0)},o(R){W(f.$$.fragment,R),W(h.$$.fragment,R),W(v.$$.fragment,R),W(y.$$.fragment,R),S=!1},d(R){R&&B(n),T&&T.d(),x(f),x(h),x(v),x(y),N=!1,He(w)}}}function ss(t){let e,n,i,o,l,s,r,a,u,f,d,c,h;return{c(){e=z("div"),n=z("input"),i=L(),o=z("textarea"),l=L(),s=z("div"),r=z("button"),r.textContent="Cancelar",a=L(),u=z("button"),f=pe("Adicionar"),g(n,"type","text"),g(n,"placeholder","TÃ­tulo da tarefa..."),g(n,"class","input-field svelte-8oii4"),g(o,"placeholder","DescriÃ§Ã£o (opcional)..."),g(o,"class","textarea-field svelte-8oii4"),g(o,"rows","2"),g(r,"class","btn btn-secondary svelte-8oii4"),g(u,"class","btn btn-primary svelte-8oii4"),u.disabled=d=!t[2].trim(),g(s,"class","form-actions svelte-8oii4"),g(e,"class","add-task-form svelte-8oii4")},m(m,p){Y(m,e,p),_(e,n),ge(n,t[2]),_(e,i),_(e,o),ge(o,t[3]),_(e,l),_(e,s),_(s,r),_(s,a),_(s,u),_(u,f),c||(h=[G(n,"input",t[29]),G(o,"input",t[30]),G(r,"click",t[15]),G(u,"click",t[31])],c=!0)},p(m,p){p[0]&4&&n.value!==m[2]&&ge(n,m[2]),p[0]&8&&ge(o,m[3]),p[0]&4&&d!==(d=!m[2].trim())&&(u.disabled=d)},d(m){m&&B(e),c=!1,He(h)}}}function as(t){let e=[],n=new Map,i,o,l=We(t[7].feito);const s=r=>r[47].id;for(let r=0;r<l.length;r+=1){let a=Qr(t,l,r),u=s(a);n.set(u,e[r]=cs(u,a))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();i=Ye()},m(r,a){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(r,a);Y(r,i,a),o=!0},p(r,a){a[0]&7296&&(l=We(r[7].feito),Pe(),e=ht(e,a,s,1,r,l,n,i.parentNode,dt,cs,i,Qr),Ae())},i(r){if(!o){for(let a=0;a<l.length;a+=1)D(e[a]);o=!0}},o(r){for(let a=0;a<e.length;a+=1)W(e[a]);o=!1},d(r){r&&B(i);for(let a=0;a<e.length;a+=1)e[a].d(r)}}}function us(t){let e,n=t[47].descricao+"",i;return{c(){e=z("p"),i=pe(n),g(e,"class","task-desc svelte-8oii4")},m(o,l){Y(o,e,l),_(e,i)},p(o,l){l[0]&128&&n!==(n=o[47].descricao+"")&&Oe(i,n)},d(o){o&&B(e)}}}function cs(t,e){let n,i,o=e[47].titulo+"",l,s,r,a,u,f,d,c,h,m,p,v,b,C,y,E,S=e[47].descricao&&us(e);f=new Xs({props:{size:16}});function N(){return e[33](e[47])}h=new sn({props:{size:16}});function w(){return e[34](e[47])}v=new an({props:{size:16}});function T(){return e[35](e[47])}return{key:t,first:null,c(){n=z("div"),i=z("h4"),l=pe(o),s=L(),S&&S.c(),r=L(),a=z("div"),u=z("button"),$(f.$$.fragment),d=L(),c=z("button"),$(h.$$.fragment),m=L(),p=z("button"),$(v.$$.fragment),b=L(),g(i,"class","task-title svelte-8oii4"),g(u,"class","btn-nav svelte-8oii4"),g(u,"title","Mover para Fazendo"),g(c,"class","btn-edit svelte-8oii4"),g(c,"title","Editar"),g(p,"class","btn-delete svelte-8oii4"),g(p,"title","Remover"),g(a,"class","task-actions svelte-8oii4"),g(n,"class","task-card svelte-8oii4"),this.first=n},m(A,H){Y(A,n,H),_(n,i),_(i,l),_(n,s),S&&S.m(n,null),_(n,r),_(n,a),_(a,u),Q(f,u,null),_(a,d),_(a,c),Q(h,c,null),_(a,m),_(a,p),Q(v,p,null),_(n,b),C=!0,y||(E=[G(u,"click",N),G(c,"click",w),G(p,"click",T)],y=!0)},p(A,H){e=A,(!C||H[0]&128)&&o!==(o=e[47].titulo+"")&&Oe(l,o),e[47].descricao?S?S.p(e,H):(S=us(e),S.c(),S.m(n,r)):S&&(S.d(1),S=null)},i(A){C||(D(f.$$.fragment,A),D(h.$$.fragment,A),D(v.$$.fragment,A),C=!0)},o(A){W(f.$$.fragment,A),W(h.$$.fragment,A),W(v.$$.fragment,A),C=!1},d(A){A&&B(n),S&&S.d(),x(f),x(h),x(v),y=!1,He(E)}}}function fs(t){let e,n,i,o,l,s,r,a,u,f,d,c,h;return{c(){e=z("div"),n=z("input"),i=L(),o=z("textarea"),l=L(),s=z("div"),r=z("button"),r.textContent="Cancelar",a=L(),u=z("button"),f=pe("Adicionar"),g(n,"type","text"),g(n,"placeholder","TÃ­tulo da tarefa..."),g(n,"class","input-field svelte-8oii4"),g(o,"placeholder","DescriÃ§Ã£o (opcional)..."),g(o,"class","textarea-field svelte-8oii4"),g(o,"rows","2"),g(r,"class","btn btn-secondary svelte-8oii4"),g(u,"class","btn btn-primary svelte-8oii4"),u.disabled=d=!t[2].trim(),g(s,"class","form-actions svelte-8oii4"),g(e,"class","add-task-form svelte-8oii4")},m(m,p){Y(m,e,p),_(e,n),ge(n,t[2]),_(e,i),_(e,o),ge(o,t[3]),_(e,l),_(e,s),_(s,r),_(s,a),_(s,u),_(u,f),c||(h=[G(n,"input",t[36]),G(o,"input",t[37]),G(r,"click",t[15]),G(u,"click",t[38])],c=!0)},p(m,p){p[0]&4&&n.value!==m[2]&&ge(n,m[2]),p[0]&8&&ge(o,m[3]),p[0]&4&&d!==(d=!m[2].trim())&&(u.disabled=d)},d(m){m&&B(e),c=!1,He(h)}}}function ds(t){let e,n,i,o,l,s,r,a,u,f,d,c,h,m,p,v;return{c(){e=z("div"),n=z("div"),i=z("h3"),i.textContent="Editar Tarefa",o=L(),l=z("input"),s=L(),r=z("textarea"),a=L(),u=z("div"),f=z("button"),f.textContent="Cancelar",d=L(),c=z("button"),h=pe("Salvar"),g(i,"class","svelte-8oii4"),g(l,"type","text"),g(l,"placeholder","TÃ­tulo da tarefa..."),g(l,"class","input-field svelte-8oii4"),g(r,"placeholder","DescriÃ§Ã£o (opcional)..."),g(r,"class","textarea-field svelte-8oii4"),g(r,"rows","3"),g(f,"class","btn btn-secondary svelte-8oii4"),g(c,"class","btn btn-primary svelte-8oii4"),c.disabled=m=!t[5].trim(),g(u,"class","form-actions svelte-8oii4"),g(n,"class","modal-content svelte-8oii4"),g(n,"role","document"),g(e,"class","modal-overlay svelte-8oii4"),g(e,"role","dialog"),g(e,"aria-modal","true"),g(e,"aria-label","Editar tarefa"),g(e,"tabindex","0")},m(b,C){Y(b,e,C),_(e,n),_(n,i),_(n,o),_(n,l),ge(l,t[5]),_(n,s),_(n,r),ge(r,t[6]),_(n,a),_(n,u),_(u,f),_(u,d),_(u,c),_(c,h),p||(v=[G(l,"input",t[40]),G(r,"input",t[41]),G(f,"click",t[13]),G(c,"click",t[14]),G(n,"click",kn(t[16])),G(n,"keydown",kn(t[17])),G(e,"click",t[13]),G(e,"keydown",t[42])],p=!0)},p(b,C){C[0]&32&&l.value!==b[5]&&ge(l,b[5]),C[0]&64&&ge(r,b[6]),C[0]&32&&m!==(m=!b[5].trim())&&(c.disabled=m)},d(b){b&&B(e),p=!1,He(v)}}}function mp(t){var $e,Ot,Tt;let e,n,i,o,l,s,r,a,u,f,d,c,h,m,p,v,b,C,y,E,S,N,w,T,A,H,M,I,R,k,P,O,V,j,X,ee,q,te,U,J,ue,me,le,ve,ne,be,oe,_e,Ie,K,Ee,Te,Le,Ce,Ke,nt,_t,he,pt,vt;l=new Mc({props:{size:28}}),C=new jo({props:{size:18}});let Ue=(($e=t[7])==null?void 0:$e.objetivo)&&es(t),it=t[1]==="objetivo"&&is(t);H=new Yt({props:{size:16}}),O=new Bc({props:{size:18}});let Ze=((Ot=t[7])==null?void 0:Ot.fazendo)&&os(t),Qe=t[1]==="fazendo"&&ss(t);J=new Yt({props:{size:16}}),be=new rn({props:{size:18}});let Z=((Tt=t[7])==null?void 0:Tt.feito)&&as(t),Je=t[1]==="feito"&&fs(t);Ce=new Yt({props:{size:16}});let Re=t[4]&&ds(t);return{c(){e=z("div"),n=z("div"),i=z("div"),o=z("div"),$(l.$$.fragment),s=L(),r=z("h1"),r.textContent="Planejamento Kanban",a=L(),u=z("div"),f=z("span"),d=L(),c=z("span"),h=pe(t[0]),m=L(),p=z("div"),v=z("div"),b=z("div"),$(C.$$.fragment),y=L(),E=z("span"),E.textContent="OBJETIVO",S=L(),N=z("div"),Ue&&Ue.c(),w=L(),it&&it.c(),T=L(),A=z("button"),$(H.$$.fragment),M=L(),I=z("span"),I.textContent="Adicionar",R=L(),k=z("div"),P=z("div"),$(O.$$.fragment),V=L(),j=z("span"),j.textContent="FAZENDO",X=L(),ee=z("div"),Ze&&Ze.c(),q=L(),Qe&&Qe.c(),te=L(),U=z("button"),$(J.$$.fragment),ue=L(),me=z("span"),me.textContent="Adicionar",le=L(),ve=z("div"),ne=z("div"),$(be.$$.fragment),oe=L(),_e=z("span"),_e.textContent="FEITO",Ie=L(),K=z("div"),Z&&Z.c(),Ee=L(),Je&&Je.c(),Te=L(),Le=z("button"),$(Ce.$$.fragment),Ke=L(),nt=z("span"),nt.textContent="Adicionar",_t=L(),Re&&Re.c(),g(o,"class","header-icon svelte-8oii4"),g(r,"class","svelte-8oii4"),g(i,"class","header-title svelte-8oii4"),g(f,"class","pulse svelte-8oii4"),ae(f,"saving",t[0]==="Salvando..."),g(u,"class","auto-save-indicator svelte-8oii4"),g(n,"class","module-header svelte-8oii4"),g(b,"class","column-header objetivo svelte-8oii4"),g(N,"class","column-content svelte-8oii4"),g(A,"class","btn-add-column svelte-8oii4"),g(v,"class","kanban-column svelte-8oii4"),g(P,"class","column-header fazendo svelte-8oii4"),g(ee,"class","column-content svelte-8oii4"),g(U,"class","btn-add-column svelte-8oii4"),g(k,"class","kanban-column svelte-8oii4"),g(ne,"class","column-header feito svelte-8oii4"),g(K,"class","column-content svelte-8oii4"),g(Le,"class","btn-add-column svelte-8oii4"),g(ve,"class","kanban-column svelte-8oii4"),g(p,"class","kanban-container svelte-8oii4"),g(e,"class","planejamento-module svelte-8oii4")},m(Me,lt){Y(Me,e,lt),_(e,n),_(n,i),_(i,o),Q(l,o,null),_(i,s),_(i,r),_(n,a),_(n,u),_(u,f),_(u,d),_(u,c),_(c,h),_(e,m),_(e,p),_(p,v),_(v,b),Q(C,b,null),_(b,y),_(b,E),_(v,S),_(v,N),Ue&&Ue.m(N,null),_(N,w),it&&it.m(N,null),_(v,T),_(v,A),Q(H,A,null),_(A,M),_(A,I),_(p,R),_(p,k),_(k,P),Q(O,P,null),_(P,V),_(P,j),_(k,X),_(k,ee),Ze&&Ze.m(ee,null),_(ee,q),Qe&&Qe.m(ee,null),_(k,te),_(k,U),Q(J,U,null),_(U,ue),_(U,me),_(p,le),_(p,ve),_(ve,ne),Q(be,ne,null),_(ne,oe),_(ne,_e),_(ve,Ie),_(ve,K),Z&&Z.m(K,null),_(K,Ee),Je&&Je.m(K,null),_(ve,Te),_(ve,Le),Q(Ce,Le,null),_(Le,Ke),_(Le,nt),_(e,_t),Re&&Re.m(e,null),he=!0,pt||(vt=[G(A,"click",t[24]),G(U,"click",t[32]),G(Le,"click",t[39])],pt=!0)},p(Me,lt){var yt,Et,Zt;(!he||lt[0]&1)&&ae(f,"saving",Me[0]==="Salvando..."),(!he||lt[0]&1)&&Oe(h,Me[0]),(yt=Me[7])!=null&&yt.objetivo?Ue?(Ue.p(Me,lt),lt[0]&128&&D(Ue,1)):(Ue=es(Me),Ue.c(),D(Ue,1),Ue.m(N,w)):Ue&&(Pe(),W(Ue,1,1,()=>{Ue=null}),Ae()),Me[1]==="objetivo"?it?it.p(Me,lt):(it=is(Me),it.c(),it.m(N,null)):it&&(it.d(1),it=null),(Et=Me[7])!=null&&Et.fazendo?Ze?(Ze.p(Me,lt),lt[0]&128&&D(Ze,1)):(Ze=os(Me),Ze.c(),D(Ze,1),Ze.m(ee,q)):Ze&&(Pe(),W(Ze,1,1,()=>{Ze=null}),Ae()),Me[1]==="fazendo"?Qe?Qe.p(Me,lt):(Qe=ss(Me),Qe.c(),Qe.m(ee,null)):Qe&&(Qe.d(1),Qe=null),(Zt=Me[7])!=null&&Zt.feito?Z?(Z.p(Me,lt),lt[0]&128&&D(Z,1)):(Z=as(Me),Z.c(),D(Z,1),Z.m(K,Ee)):Z&&(Pe(),W(Z,1,1,()=>{Z=null}),Ae()),Me[1]==="feito"?Je?Je.p(Me,lt):(Je=fs(Me),Je.c(),Je.m(K,null)):Je&&(Je.d(1),Je=null),Me[4]?Re?Re.p(Me,lt):(Re=ds(Me),Re.c(),Re.m(e,null)):Re&&(Re.d(1),Re=null)},i(Me){he||(D(l.$$.fragment,Me),D(C.$$.fragment,Me),D(Ue),D(H.$$.fragment,Me),D(O.$$.fragment,Me),D(Ze),D(J.$$.fragment,Me),D(be.$$.fragment,Me),D(Z),D(Ce.$$.fragment,Me),he=!0)},o(Me){W(l.$$.fragment,Me),W(C.$$.fragment,Me),W(Ue),W(H.$$.fragment,Me),W(O.$$.fragment,Me),W(Ze),W(J.$$.fragment,Me),W(be.$$.fragment,Me),W(Z),W(Ce.$$.fragment,Me),he=!1},d(Me){Me&&B(e),x(l),x(C),Ue&&Ue.d(),it&&it.d(),x(H),x(O),Ze&&Ze.d(),Qe&&Qe.d(),x(J),x(be),Z&&Z.d(),Je&&Je.d(),x(Ce),Re&&Re.d(),pt=!1,He(vt)}}}function _p(t,e,n){let i;const o=ye({objetivo:[],fazendo:[],feito:[]});re(t,o,K=>n(7,i=K));let l=!0,s="Pronto",r=null,a="",u="",f=null,d="",c="";Ct(async()=>{const K=await oi();o.set(K),l=!1});async function h(K){if(!a.trim())return;const Ee={id:`tarefa_${Date.now()}`,titulo:a.trim(),descricao:u.trim(),status:K,createdAt:new Date().toISOString()};await fp(Ee),o.update(Te=>(Te[K].push(Ee),Te)),n(2,a=""),n(3,u=""),n(1,r=null)}async function m(K,Ee){const Te=["objetivo","fazendo","feito"],Le=Te.indexOf(K.status);let Ce;if(Ee==="esquerda"&&Le>0)Ce=Te[Le-1];else if(Ee==="direita"&&Le<Te.length-1)Ce=Te[Le+1];else return;await dp(K.id,K.status,Ce),o.update(Ke=>(Ke[K.status]=Ke[K.status].filter(nt=>nt.id!==K.id),K.status=Ce,Ke[Ce].push(K),Ke))}async function p(K){confirm("Deseja remover esta tarefa?")&&(await hp(K.id,K.status),o.update(Ee=>(Ee[K.status]=Ee[K.status].filter(Te=>Te.id!==K.id),Ee)))}function v(K){n(4,f=K),n(5,d=K.titulo),n(6,c=K.descricao)}function b(){n(4,f=null),n(5,d=""),n(6,c="")}async function C(){if(!f||!d.trim())return;const K={...f,titulo:d.trim(),descricao:c.trim()};await gp(K,K.status),o.update(Ee=>{const Te=Ee[K.status],Le=Te.findIndex(Ce=>Ce.id===K.id);return Le!==-1&&(Te[Le]=K),Ee}),n(4,f=null),n(5,d=""),n(6,c="")}function y(){n(1,r=null),n(2,a=""),n(3,u="")}let E=null,S="";const N=o.subscribe(K=>{l||JSON.stringify(K)!==S&&(n(0,s="Salvando..."),E&&clearTimeout(E),E=setTimeout(async()=>{await ii(K),S=JSON.stringify(K),n(0,s="Salvo!"),setTimeout(()=>n(0,s="Pronto"),2e3)},1e3))});Bi(()=>{N(),E&&clearTimeout(E)});function w(K){De.call(this,t,K)}function T(K){De.call(this,t,K)}const A=K=>m(K,"direita"),H=K=>v(K),M=K=>p(K);function I(){a=this.value,n(2,a)}function R(){u=this.value,n(3,u)}const k=()=>h("objetivo"),P=()=>n(1,r="objetivo"),O=K=>m(K,"esquerda"),V=K=>m(K,"direita"),j=K=>v(K),X=K=>p(K);function ee(){a=this.value,n(2,a)}function q(){u=this.value,n(3,u)}const te=()=>h("fazendo"),U=()=>n(1,r="fazendo"),J=K=>m(K,"esquerda"),ue=K=>v(K),me=K=>p(K);function le(){a=this.value,n(2,a)}function ve(){u=this.value,n(3,u)}const ne=()=>h("feito"),be=()=>n(1,r="feito");function oe(){d=this.value,n(5,d)}function _e(){c=this.value,n(6,c)}return[s,r,a,u,f,d,c,i,o,h,m,p,v,b,C,y,w,T,A,H,M,I,R,k,P,O,V,j,X,ee,q,te,U,J,ue,me,le,ve,ne,be,oe,_e,K=>K.key==="Escape"&&b()]}class pp extends de{constructor(e){super(),fe(this,e,_p,mp,ce,{},null,[-1,-1])}}function bp(t){return window.go.handlers.PassosHandler.AdicionarPasso(t)}function vp(t){return window.go.handlers.PassosHandler.AtualizarPasso(t)}function yp(){return window.go.handlers.PassosHandler.CarregarPassos()}function wp(t){return window.go.handlers.PassosHandler.DeletarPasso(t)}function kp(t,e){return window.go.handlers.PassosHandler.MoverPasso(t,e)}function Sp(t){return window.go.handlers.PassosHandler.SalvarPassos(t)}function Cp(t){return window.go.handlers.PassosHandler.ToggleConcluido(t)}let Vt=!1;function zp(){typeof window<"u"&&window.go&&window.go.handlers&&window.go.handlers.PassosHandler?(Vt=!0,console.log("Wails Passos disponÃ­vel")):(Vt=!1,console.log("Wails Passos nÃ£o disponÃ­vel, usando localStorage"))}zp();async function Tn(t){if(console.log("Salvando",t.length,"passos"),localStorage.setItem("passos_data",JSON.stringify(t)),Vt)try{await Sp(t),console.log("Passos salvos no Wails")}catch(e){console.error("Erro ao salvar passos no Wails:",e)}}async function It(){if(console.log("Carregando passos..."),Vt)try{const e=await yp();if(console.log("Passos carregados do Wails:",e.length),e&&e.length>=0){const n=Array.isArray(e)?e:[];return localStorage.setItem("passos_data",JSON.stringify(n)),n}}catch(e){console.error("Erro ao carregar passos do Wails:",e)}const t=localStorage.getItem("passos_data");if(t){console.log("Passos carregados do localStorage");try{const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(e){console.error("Erro ao parsear passos:",e)}}return[]}async function Ep(t){if(console.log("Adicionando passo:",t.descricao),Vt)try{await bp(t),console.log("Passo adicionado no Wails");return}catch(n){console.error("Erro ao adicionar passo no Wails:",n)}const e=await It();t.ordem=e.length+1,e.push(t),await Tn(e)}async function Np(t){if(console.log("Atualizando passo:",t.id),Vt)try{await vp(t),console.log("Passo atualizado no Wails");return}catch(i){console.error("Erro ao atualizar passo no Wails:",i)}const e=await It(),n=e.findIndex(i=>i.id===t.id);n!==-1&&(e[n]=t,await Tn(e))}async function Mp(t){if(console.log("Deletando passo:",t),Vt)try{await wp(t),console.log("Passo deletado no Wails");return}catch(n){console.error("Erro ao deletar passo no Wails:",n)}let e=await It();e=e.filter(n=>n.id!==t),e.forEach((n,i)=>n.ordem=i+1),await Tn(e)}async function Pp(t,e){if(console.log("Movendo passo:",t,"para",e),Vt)try{await kp(t,e),console.log("Passo movido no Wails");return}catch(o){console.error("Erro ao mover passo no Wails:",o)}const n=await It(),i=n.findIndex(o=>o.id===t);e==="cima"&&i>0?[n[i],n[i-1]]=[n[i-1],n[i]]:e==="baixo"&&i<n.length-1&&([n[i],n[i+1]]=[n[i+1],n[i]]),n.forEach((o,l)=>o.ordem=l+1),await Tn(n)}async function Ap(t){if(console.log("Toggle concluÃ­do:",t),Vt)try{await Cp(t),console.log("Status toggle no Wails");return}catch(i){console.error("Erro ao toggle status no Wails:",i)}const e=await It(),n=e.find(i=>i.id===t);n&&(n.concluido=!n.concluido,await Tn(e))}function hs(t,e,n){const i=t.slice();return i[25]=e[n],i[27]=n,i}function gs(t){let e,n,i,o,l,s,r,a;return i=new Yt({props:{size:20}}),{c(){e=z("div"),n=z("button"),$(i.$$.fragment),o=L(),l=z("span"),l.textContent="Adicionar Passo",g(n,"class","btn-add svelte-z3cbnm"),g(e,"class","btn-wrapper svelte-z3cbnm")},m(u,f){Y(u,e,f),_(e,n),Q(i,n,null),_(n,o),_(n,l),s=!0,r||(a=G(n,"click",t[17]),r=!0)},p:Se,i(u){s||(D(i.$$.fragment,u),s=!0)},o(u){W(i.$$.fragment,u),s=!1},d(u){u&&B(e),x(i),r=!1,a()}}}function ms(t){let e,n,i,o,l,s,r,a,u,f,d,c,h;return{c(){e=z("div"),n=z("h3"),n.textContent="Novo Passo",i=L(),o=z("textarea"),l=L(),s=z("div"),r=z("button"),r.textContent="Cancelar",a=L(),u=z("button"),f=pe("Adicionar"),g(n,"class","svelte-z3cbnm"),g(o,"placeholder","Descreva o passo..."),g(o,"class","textarea-field svelte-z3cbnm"),g(o,"rows","3"),g(r,"class","btn btn-secondary svelte-z3cbnm"),g(u,"class","btn btn-primary svelte-z3cbnm"),u.disabled=d=!t[3].trim(),g(s,"class","form-actions svelte-z3cbnm"),g(e,"class","add-passo-card svelte-z3cbnm")},m(m,p){Y(m,e,p),_(e,n),_(e,i),_(e,o),ge(o,t[3]),_(e,l),_(e,s),_(s,r),_(s,a),_(s,u),_(u,f),c||(h=[G(o,"input",t[18]),G(r,"click",t[14]),G(u,"click",t[7])],c=!0)},p(m,p){p&8&&ge(o,m[3]),p&8&&d!==(d=!m[3].trim())&&(u.disabled=d)},d(m){m&&B(e),c=!1,He(h)}}}function Op(t){let e=[],n=new Map,i,o,l=We(t[0]);const s=r=>r[25].id;for(let r=0;r<l.length;r+=1){let a=hs(t,l,r),u=s(a);n.set(u,e[r]=ps(u,a))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();i=Ye()},m(r,a){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(r,a);Y(r,i,a),o=!0},p(r,a){a&16177&&(l=We(r[0]),Pe(),e=ht(e,a,s,1,r,l,n,i.parentNode,dt,ps,i,hs),Ae())},i(r){if(!o){for(let a=0;a<l.length;a+=1)D(e[a]);o=!0}},o(r){for(let a=0;a<e.length;a+=1)W(e[a]);o=!1},d(r){r&&B(i);for(let a=0;a<e.length;a+=1)e[a].d(r)}}}function Tp(t){let e,n,i,o,l,s,r,a;return i=new Ys({props:{size:64}}),{c(){e=z("div"),n=z("div"),$(i.$$.fragment),o=L(),l=z("p"),l.textContent="Nenhum passo adicionado ainda",s=L(),r=z("p"),r.textContent='Clique em "Adicionar Passo" para comeÃ§ar!',g(n,"class","empty-icon svelte-z3cbnm"),g(l,"class","empty-text svelte-z3cbnm"),g(r,"class","empty-hint svelte-z3cbnm"),g(e,"class","empty-state svelte-z3cbnm")},m(u,f){Y(u,e,f),_(e,n),Q(i,n,null),_(e,o),_(e,l),_(e,s),_(e,r),a=!0},p:Se,i(u){a||(D(i.$$.fragment,u),a=!0)},o(u){W(i.$$.fragment,u),a=!1},d(u){u&&B(e),x(i)}}}function Hp(t){let e,n=t[25].descricao+"",i;return{c(){e=z("p"),i=pe(n),g(e,"class","passo-descricao svelte-z3cbnm")},m(o,l){Y(o,e,l),_(e,i)},p(o,l){l&1&&n!==(n=o[25].descricao+"")&&Oe(i,n)},i:Se,o:Se,d(o){o&&B(e)}}}function Dp(t){let e,n,i,o,l,s,r,a,u,f,d,c,h;return s=new rn({props:{size:16}}),f=new Yi({props:{size:16}}),{c(){e=z("div"),n=z("textarea"),i=L(),o=z("div"),l=z("button"),$(s.$$.fragment),a=L(),u=z("button"),$(f.$$.fragment),g(n,"placeholder","Descreva o passo..."),g(n,"class","textarea-field svelte-z3cbnm"),g(n,"rows","2"),g(l,"class","btn-save-edit svelte-z3cbnm"),l.disabled=r=!t[5].trim(),g(l,"title","Salvar"),g(u,"class","btn-cancel-edit svelte-z3cbnm"),g(u,"title","Cancelar"),g(o,"class","edit-actions svelte-z3cbnm"),g(e,"class","edit-form svelte-z3cbnm")},m(m,p){Y(m,e,p),_(e,n),ge(n,t[5]),_(e,i),_(e,o),_(o,l),Q(s,l,null),_(o,a),_(o,u),Q(f,u,null),d=!0,c||(h=[G(n,"input",t[19]),G(l,"click",t[13]),G(u,"click",t[12])],c=!0)},p(m,p){p&32&&ge(n,m[5]),(!d||p&32&&r!==(r=!m[5].trim()))&&(l.disabled=r)},i(m){d||(D(s.$$.fragment,m),D(f.$$.fragment,m),d=!0)},o(m){W(s.$$.fragment,m),W(f.$$.fragment,m),d=!1},d(m){m&&B(e),x(s),x(f),c=!1,He(h)}}}function _s(t){let e,n,i,o,l,s,r,a,u,f,d,c,h,m,p,v,b,C,y,E,S;i=new rn({props:{size:18}});function N(){return t[20](t[25])}r=new sn({props:{size:16}});function w(){return t[21](t[25])}f=new sc({props:{size:18}});function T(){return t[22](t[25])}m=new Qu({props:{size:18}});function A(){return t[23](t[25])}C=new an({props:{size:16}});function H(){return t[24](t[25])}return{c(){e=z("div"),n=z("button"),$(i.$$.fragment),l=L(),s=z("button"),$(r.$$.fragment),a=L(),u=z("button"),$(f.$$.fragment),c=L(),h=z("button"),$(m.$$.fragment),v=L(),b=z("button"),$(C.$$.fragment),g(n,"class","btn-check svelte-z3cbnm"),g(n,"title",o=t[25].concluido?"Desmarcar":"Concluir"),ae(n,"checked",t[25].concluido),g(s,"class","btn-edit svelte-z3cbnm"),g(s,"title","Editar"),g(u,"class","btn-move svelte-z3cbnm"),u.disabled=d=t[27]===0,g(u,"title","Mover para cima"),g(h,"class","btn-move svelte-z3cbnm"),h.disabled=p=t[27]===t[0].length-1,g(h,"title","Mover para baixo"),g(b,"class","btn-delete svelte-z3cbnm"),g(b,"title","Remover"),g(e,"class","passo-actions svelte-z3cbnm")},m(M,I){Y(M,e,I),_(e,n),Q(i,n,null),_(e,l),_(e,s),Q(r,s,null),_(e,a),_(e,u),Q(f,u,null),_(e,c),_(e,h),Q(m,h,null),_(e,v),_(e,b),Q(C,b,null),y=!0,E||(S=[G(n,"click",N),G(s,"click",w),G(u,"click",T),G(h,"click",A),G(b,"click",H)],E=!0)},p(M,I){t=M,(!y||I&1&&o!==(o=t[25].concluido?"Desmarcar":"Concluir"))&&g(n,"title",o),(!y||I&1)&&ae(n,"checked",t[25].concluido),(!y||I&1&&d!==(d=t[27]===0))&&(u.disabled=d),(!y||I&1&&p!==(p=t[27]===t[0].length-1))&&(h.disabled=p)},i(M){y||(D(i.$$.fragment,M),D(r.$$.fragment,M),D(f.$$.fragment,M),D(m.$$.fragment,M),D(C.$$.fragment,M),y=!0)},o(M){W(i.$$.fragment,M),W(r.$$.fragment,M),W(f.$$.fragment,M),W(m.$$.fragment,M),W(C.$$.fragment,M),y=!1},d(M){M&&B(e),x(i),x(r),x(f),x(m),x(C),E=!1,He(S)}}}function ps(t,e){var b;let n,i,o=e[27]+1+"",l,s,r,a,u,f,d,c;const h=[Dp,Hp],m=[];function p(C,y){var E;return((E=C[4])==null?void 0:E.id)===C[25].id?0:1}a=p(e),u=m[a]=h[a](e);let v=((b=e[4])==null?void 0:b.id)!==e[25].id&&_s(e);return{key:t,first:null,c(){n=z("div"),i=z("div"),l=pe(o),s=L(),r=z("div"),u.c(),f=L(),v&&v.c(),d=L(),g(i,"class","passo-number svelte-z3cbnm"),g(r,"class","passo-content svelte-z3cbnm"),g(n,"class","passo-item svelte-z3cbnm"),ae(n,"concluido",e[25].concluido),this.first=n},m(C,y){Y(C,n,y),_(n,i),_(i,l),_(n,s),_(n,r),m[a].m(r,null),_(n,f),v&&v.m(n,null),_(n,d),c=!0},p(C,y){var S;e=C,(!c||y&1)&&o!==(o=e[27]+1+"")&&Oe(l,o);let E=a;a=p(e),a===E?m[a].p(e,y):(Pe(),W(m[E],1,1,()=>{m[E]=null}),Ae(),u=m[a],u?u.p(e,y):(u=m[a]=h[a](e),u.c()),D(u,1),u.m(r,null)),((S=e[4])==null?void 0:S.id)!==e[25].id?v?(v.p(e,y),y&17&&D(v,1)):(v=_s(e),v.c(),D(v,1),v.m(n,d)):v&&(Pe(),W(v,1,1,()=>{v=null}),Ae()),(!c||y&1)&&ae(n,"concluido",e[25].concluido)},i(C){c||(D(u),D(v),c=!0)},o(C){W(u),W(v),c=!1},d(C){C&&B(n),m[a].d(),v&&v.d()}}}function Ip(t){let e,n,i,o,l,s,r,a,u,f,d,c,h,m,p,v,b,C,y,E,S;l=new Ys({props:{size:28}});let N=!t[2]&&gs(t),w=t[2]&&ms(t);const T=[Tp,Op],A=[];function H(M,I){return M[0].length===0&&!M[2]?0:1}return y=H(t),E=A[y]=T[y](t),{c(){e=z("div"),n=z("div"),i=z("div"),o=z("div"),$(l.$$.fragment),s=L(),r=z("h1"),r.textContent="Objetivo - Passos",a=L(),u=z("div"),f=z("span"),d=L(),c=z("span"),h=pe(t[1]),m=L(),p=z("div"),N&&N.c(),v=L(),w&&w.c(),b=L(),C=z("div"),E.c(),g(o,"class","header-icon svelte-z3cbnm"),g(r,"class","svelte-z3cbnm"),g(i,"class","header-title svelte-z3cbnm"),g(f,"class","pulse svelte-z3cbnm"),ae(f,"saving",t[1]==="Salvando..."),g(u,"class","auto-save-indicator svelte-z3cbnm"),g(n,"class","module-header svelte-z3cbnm"),g(C,"class","passos-list svelte-z3cbnm"),g(p,"class","passos-container svelte-z3cbnm"),g(e,"class","passos-module svelte-z3cbnm")},m(M,I){Y(M,e,I),_(e,n),_(n,i),_(i,o),Q(l,o,null),_(i,s),_(i,r),_(n,a),_(n,u),_(u,f),_(u,d),_(u,c),_(c,h),_(e,m),_(e,p),N&&N.m(p,null),_(p,v),w&&w.m(p,null),_(p,b),_(p,C),A[y].m(C,null),S=!0},p(M,[I]){(!S||I&2)&&ae(f,"saving",M[1]==="Salvando..."),(!S||I&2)&&Oe(h,M[1]),M[2]?N&&(Pe(),W(N,1,1,()=>{N=null}),Ae()):N?(N.p(M,I),I&4&&D(N,1)):(N=gs(M),N.c(),D(N,1),N.m(p,v)),M[2]?w?w.p(M,I):(w=ms(M),w.c(),w.m(p,b)):w&&(w.d(1),w=null);let R=y;y=H(M),y===R?A[y].p(M,I):(Pe(),W(A[R],1,1,()=>{A[R]=null}),Ae(),E=A[y],E?E.p(M,I):(E=A[y]=T[y](M),E.c()),D(E,1),E.m(C,null))},i(M){S||(D(l.$$.fragment,M),D(N),D(E),S=!0)},o(M){W(l.$$.fragment,M),W(N),W(E),S=!1},d(M){M&&B(e),x(l),N&&N.d(),w&&w.d(),A[y].d()}}}function Wp(t,e,n){let i;const o=ye([]);re(t,o,I=>n(0,i=I));let l=!0,s="Pronto",r=!1,a="",u=null,f="";Ct(async()=>{const I=await It();o.set(I),n(15,l=!1)});async function d(){if(!a.trim())return;const I={id:`passo_${Date.now()}`,descricao:a.trim(),concluido:!1,ordem:0,createdAt:new Date().toISOString()};await Ep(I);const R=await It();o.set(R),n(3,a=""),n(2,r=!1)}async function c(I){await Ap(I.id),o.update(R=>R.map(k=>k.id===I.id?{...k,concluido:!k.concluido}:k))}async function h(I,R){await Pp(I.id,R);const k=await It();o.set(k)}async function m(I){if(!confirm("Deseja remover este passo?"))return;await Mp(I.id);const R=await It();o.set(R)}function p(I){n(4,u=I),n(5,f=I.descricao)}function v(){n(4,u=null),n(5,f="")}async function b(){if(!u||!f.trim())return;const I={...u,descricao:f.trim()};await Np(I),o.update(R=>R.map(k=>k.id===I.id?I:k)),n(4,u=null),n(5,f="")}function C(){n(2,r=!1),n(3,a="")}let y=null;const E=()=>n(2,r=!0);function S(){a=this.value,n(3,a)}function N(){f=this.value,n(5,f)}const w=I=>c(I),T=I=>p(I),A=I=>h(I,"cima"),H=I=>h(I,"baixo"),M=I=>m(I);return t.$$.update=()=>{t.$$.dirty&98305&&!l&&i&&(n(1,s="Salvando..."),y&&clearTimeout(y),n(16,y=setTimeout(async()=>{await Tn(i),n(1,s="Salvo!"),setTimeout(()=>n(1,s="Pronto"),2e3)},1e3)))},[i,s,r,a,u,f,o,d,c,h,m,p,v,b,C,l,y,E,S,N,w,T,A,H,M]}class Lp extends de{constructor(e){super(),fe(this,e,Wp,Ip,ce,{})}}function Rp(t){return window.go.handlers.CalendarioHandler.AdicionarEvento(t)}function Vp(t){return window.go.handlers.CalendarioHandler.AtualizarEvento(t)}function jp(){return window.go.handlers.CalendarioHandler.CarregarEventos()}function Xp(t){return window.go.handlers.CalendarioHandler.DeletarEvento(t)}function Bp(t){return window.go.handlers.CalendarioHandler.SalvarEventos(t)}let on=!1;function Yp(){typeof window<"u"&&window.go&&window.go.handlers&&window.go.handlers.CalendarioHandler?(on=!0,console.log("Wails Calendario disponÃ­vel")):(on=!1,console.log("Wails Calendario nÃ£o disponÃ­vel, usando localStorage"))}Yp();async function io(t){if(console.log("Salvando",t.length,"eventos"),localStorage.setItem("calendario_data",JSON.stringify(t)),on)try{await Bp(t),console.log("Eventos salvos no Wails")}catch(e){console.error("Erro ao salvar eventos no Wails:",e)}}async function oo(){if(console.log("Carregando eventos..."),on)try{const e=await jp();if(console.log("Eventos carregados do Wails:",e.length),e&&e.length>=0){const n=Array.isArray(e)?e:[];return localStorage.setItem("calendario_data",JSON.stringify(n)),n}}catch(e){console.error("Erro ao carregar eventos do Wails:",e)}const t=localStorage.getItem("calendario_data");if(t){console.log("Eventos carregados do localStorage");try{const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(e){console.error("Erro ao parsear eventos:",e)}}return[]}async function Fp(t){if(console.log("Adicionando evento:",t.titulo),on)try{await Rp(t),console.log("Evento adicionado no Wails");return}catch(n){console.error("Erro ao adicionar evento no Wails:",n)}const e=await oo();e.push(t),await io(e)}async function Kp(t){if(console.log("Atualizando evento:",t.id),on)try{await Vp(t),console.log("Evento atualizado no Wails");return}catch(i){console.error("Erro ao atualizar evento no Wails:",i)}const e=await oo(),n=e.findIndex(i=>i.id===t.id);n!==-1&&(e[n]=t,await io(e))}async function qp(t){if(console.log("Deletando evento:",t),on)try{await Xp(t),console.log("Evento deletado no Wails");return}catch(n){console.error("Erro ao deletar evento no Wails:",n)}let e=await oo();e=e.filter(n=>n.id!==t),await io(e)}const xt=[{nome:"Rosa",cor:"#ec4899"},{nome:"Roxo",cor:"#8b5cf6"},{nome:"Azul",cor:"#3b82f6"},{nome:"Verde",cor:"#10b981"},{nome:"Amarelo",cor:"#f59e0b"},{nome:"Vermelho",cor:"#ef4444"},{nome:"Ciano",cor:"#06b6d4"},{nome:"Laranja",cor:"#f97316"}];function bs(t,e,n){const i=t.slice();return i[36]=e[n],i}function vs(t,e,n){const i=t.slice();return i[39]=e[n],i}function ys(t,e,n){const i=t.slice();return i[39]=e[n],i}function ws(t){let e,n,i,o,l,s,r,a;return i=new Yt({props:{size:20}}),{c(){e=z("div"),n=z("button"),$(i.$$.fragment),o=L(),l=z("span"),l.textContent="Adicionar Evento",g(n,"class","btn-add svelte-1cax0w8"),g(e,"class","btn-wrapper svelte-1cax0w8")},m(u,f){Y(u,e,f),_(e,n),Q(i,n,null),_(n,o),_(n,l),s=!0,r||(a=G(n,"click",t[23]),r=!0)},p:Se,i(u){s||(D(i.$$.fragment,u),s=!0)},o(u){W(i.$$.fragment,u),s=!1},d(u){u&&B(e),x(i),r=!1,a()}}}function ks(t){let e,n,i,o,l,s,r,a,u,f,d,c,h,m,p,v,b,C,y,E,S,N,w,T,A,H=We(xt),M=[];for(let I=0;I<H.length;I+=1)M[I]=Ss(ys(t,H,I));return{c(){e=z("div"),n=z("h3"),n.textContent="Novo Evento",i=L(),o=z("input"),l=L(),s=z("div"),r=z("input"),a=L(),u=z("input"),f=L(),d=z("textarea"),c=L(),h=z("div"),m=z("span"),m.textContent="Cor:",p=L(),v=z("div");for(let I=0;I<M.length;I+=1)M[I].c();b=L(),C=z("div"),y=z("button"),y.textContent="Cancelar",E=L(),S=z("button"),N=pe("Adicionar"),g(n,"class","svelte-1cax0w8"),g(o,"type","text"),g(o,"placeholder","TÃ­tulo do evento..."),g(o,"class","input-field svelte-1cax0w8"),g(r,"type","date"),g(r,"class","input-field svelte-1cax0w8"),g(u,"type","time"),g(u,"class","input-field svelte-1cax0w8"),g(s,"class","form-row svelte-1cax0w8"),g(d,"placeholder","DescriÃ§Ã£o (opcional)..."),g(d,"class","textarea-field svelte-1cax0w8"),g(d,"rows","2"),g(m,"class","svelte-1cax0w8"),g(v,"class","color-options svelte-1cax0w8"),g(h,"class","color-selector svelte-1cax0w8"),g(y,"class","btn btn-secondary svelte-1cax0w8"),g(S,"class","btn btn-primary svelte-1cax0w8"),S.disabled=w=!t[4].trim()||!t[5],g(C,"class","form-actions svelte-1cax0w8"),g(e,"class","add-evento-card svelte-1cax0w8")},m(I,R){Y(I,e,R),_(e,n),_(e,i),_(e,o),ge(o,t[4]),_(e,l),_(e,s),_(s,r),ge(r,t[5]),_(s,a),_(s,u),ge(u,t[6]),_(e,f),_(e,d),ge(d,t[7]),_(e,c),_(e,h),_(h,m),_(h,p),_(h,v);for(let k=0;k<M.length;k+=1)M[k]&&M[k].m(v,null);_(e,b),_(e,C),_(C,y),_(C,E),_(C,S),_(S,N),T||(A=[G(o,"input",t[24]),G(r,"input",t[25]),G(u,"input",t[26]),G(d,"input",t[27]),G(y,"click",t[20]),G(S,"click",t[15])],T=!0)},p(I,R){if(R[0]&16&&o.value!==I[4]&&ge(o,I[4]),R[0]&32&&ge(r,I[5]),R[0]&64&&ge(u,I[6]),R[0]&128&&ge(d,I[7]),R[0]&256){H=We(xt);let k;for(k=0;k<H.length;k+=1){const P=ys(I,H,k);M[k]?M[k].p(P,R):(M[k]=Ss(P),M[k].c(),M[k].m(v,null))}for(;k<M.length;k+=1)M[k].d(1);M.length=H.length}R[0]&48&&w!==(w=!I[4].trim()||!I[5])&&(S.disabled=w)},d(I){I&&B(e),Jn(M,I),T=!1,He(A)}}}function Ss(t){let e,n,i;function o(){return t[28](t[39])}return{c(){e=z("button"),g(e,"class","color-btn svelte-1cax0w8"),we(e,"background-color",t[39].cor),g(e,"title",t[39].nome),ae(e,"selected",t[8]===t[39].cor)},m(l,s){Y(l,e,s),n||(i=G(e,"click",o),n=!0)},p(l,s){t=l,s[0]&256&&ae(e,"selected",t[8]===t[39].cor)},d(l){l&&B(e),n=!1,i()}}}function Zp(t){let e=[],n=new Map,i,o,l=We(t[0]);const s=r=>r[36].id;for(let r=0;r<l.length;r+=1){let a=bs(t,l,r),u=s(a);n.set(u,e[r]=Ns(u,a))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();i=Ye()},m(r,a){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(r,a);Y(r,i,a),o=!0},p(r,a){a[0]&998921&&(l=We(r[0]),Pe(),e=ht(e,a,s,1,r,l,n,i.parentNode,dt,Ns,i,bs),Ae())},i(r){if(!o){for(let a=0;a<l.length;a+=1)D(e[a]);o=!0}},o(r){for(let a=0;a<e.length;a+=1)W(e[a]);o=!1},d(r){r&&B(i);for(let a=0;a<e.length;a+=1)e[a].d(r)}}}function Gp(t){let e,n,i,o,l,s,r,a;return i=new Ro({props:{size:64}}),{c(){e=z("div"),n=z("div"),$(i.$$.fragment),o=L(),l=z("p"),l.textContent="Nenhum evento adicionado ainda",s=L(),r=z("p"),r.textContent='Clique em "Adicionar Evento" para comeÃ§ar!',g(n,"class","empty-icon svelte-1cax0w8"),g(l,"class","empty-text svelte-1cax0w8"),g(r,"class","empty-hint svelte-1cax0w8"),g(e,"class","empty-state svelte-1cax0w8")},m(u,f){Y(u,e,f),_(e,n),Q(i,n,null),_(e,o),_(e,l),_(e,s),_(e,r),a=!0},p:Se,i(u){a||(D(i.$$.fragment,u),a=!0)},o(u){W(i.$$.fragment,u),a=!1},d(u){u&&B(e),x(i)}}}function Up(t){let e,n,i,o=t[36].titulo+"",l,s,r,a,u,f,d,c,h,m,p,v,b,C,y=Ms(t[36].data)+"",E,S,N,w,T,A,H;u=new sn({props:{size:14}});function M(){return t[34](t[36])}c=new an({props:{size:14}});function I(){return t[35](t[36])}b=new Ro({props:{size:16}});let R=t[36].hora&&Cs(t),k=t[36].descricao&&zs(t);return{c(){e=z("div"),n=z("div"),i=z("h4"),l=pe(o),s=L(),r=z("div"),a=z("button"),$(u.$$.fragment),f=L(),d=z("button"),$(c.$$.fragment),h=L(),m=z("div"),p=z("div"),v=z("span"),$(b.$$.fragment),C=L(),E=pe(y),S=L(),R&&R.c(),N=L(),k&&k.c(),w=L(),g(i,"class","evento-titulo svelte-1cax0w8"),g(a,"class","btn-edit-header svelte-1cax0w8"),g(a,"title","Editar"),g(d,"class","btn-delete-header svelte-1cax0w8"),g(d,"title","Remover"),g(r,"class","header-actions svelte-1cax0w8"),g(n,"class","evento-header svelte-1cax0w8"),we(n,"background-color",t[36].cor),g(v,"class","info-item svelte-1cax0w8"),g(p,"class","evento-info svelte-1cax0w8"),g(m,"class","evento-body svelte-1cax0w8"),g(e,"class","evento-card svelte-1cax0w8")},m(P,O){Y(P,e,O),_(e,n),_(n,i),_(i,l),_(n,s),_(n,r),_(r,a),Q(u,a,null),_(r,f),_(r,d),Q(c,d,null),_(e,h),_(e,m),_(m,p),_(p,v),Q(b,v,null),_(v,C),_(v,E),_(p,S),R&&R.m(p,null),_(m,N),k&&k.m(m,null),_(e,w),T=!0,A||(H=[G(a,"click",M),G(d,"click",I)],A=!0)},p(P,O){t=P,(!T||O[0]&1)&&o!==(o=t[36].titulo+"")&&Oe(l,o),(!T||O[0]&1)&&we(n,"background-color",t[36].cor),(!T||O[0]&1)&&y!==(y=Ms(t[36].data)+"")&&Oe(E,y),t[36].hora?R?(R.p(t,O),O[0]&1&&D(R,1)):(R=Cs(t),R.c(),D(R,1),R.m(p,null)):R&&(Pe(),W(R,1,1,()=>{R=null}),Ae()),t[36].descricao?k?k.p(t,O):(k=zs(t),k.c(),k.m(m,null)):k&&(k.d(1),k=null)},i(P){T||(D(u.$$.fragment,P),D(c.$$.fragment,P),D(b.$$.fragment,P),D(R),T=!0)},o(P){W(u.$$.fragment,P),W(c.$$.fragment,P),W(b.$$.fragment,P),W(R),T=!1},d(P){P&&B(e),x(u),x(c),x(b),R&&R.d(),k&&k.d(),A=!1,He(H)}}}function Jp(t){let e,n,i,o,l,s,r,a,u,f,d,c,h,m,p,v,b,C,y,E,S,N,w,T,A,H,M,I,R=We(xt),k=[];for(let P=0;P<R.length;P+=1)k[P]=Es(vs(t,R,P));return E=new rn({props:{size:16}}),T=new Yi({props:{size:16}}),{c(){e=z("div"),n=z("div"),i=z("input"),o=L(),l=z("div"),s=z("div"),r=z("input"),a=L(),u=z("input"),f=L(),d=z("textarea"),c=L(),h=z("div"),m=z("span"),m.textContent="Cor:",p=L(),v=z("div");for(let P=0;P<k.length;P+=1)k[P].c();b=L(),C=z("div"),y=z("button"),$(E.$$.fragment),N=L(),w=z("button"),$(T.$$.fragment),A=L(),g(i,"type","text"),g(i,"placeholder","TÃ­tulo..."),g(i,"class","edit-title-input svelte-1cax0w8"),g(n,"class","edit-header svelte-1cax0w8"),we(n,"background-color",t[13]),g(r,"type","date"),g(r,"class","input-field svelte-1cax0w8"),g(u,"type","time"),g(u,"class","input-field svelte-1cax0w8"),g(s,"class","form-row svelte-1cax0w8"),g(d,"placeholder","DescriÃ§Ã£o..."),g(d,"class","textarea-field svelte-1cax0w8"),g(d,"rows","2"),g(m,"class","svelte-1cax0w8"),g(v,"class","color-options svelte-1cax0w8"),g(h,"class","color-selector svelte-1cax0w8"),g(y,"class","btn-save-edit svelte-1cax0w8"),y.disabled=S=!t[9].trim()||!t[10],g(w,"class","btn-cancel-edit svelte-1cax0w8"),g(C,"class","edit-actions svelte-1cax0w8"),g(l,"class","edit-body svelte-1cax0w8"),g(e,"class","evento-card editing svelte-1cax0w8")},m(P,O){Y(P,e,O),_(e,n),_(n,i),ge(i,t[9]),_(e,o),_(e,l),_(l,s),_(s,r),ge(r,t[10]),_(s,a),_(s,u),ge(u,t[11]),_(l,f),_(l,d),ge(d,t[12]),_(l,c),_(l,h),_(h,m),_(h,p),_(h,v);for(let V=0;V<k.length;V+=1)k[V]&&k[V].m(v,null);_(l,b),_(l,C),_(C,y),Q(E,y,null),_(C,N),_(C,w),Q(T,w,null),_(e,A),H=!0,M||(I=[G(i,"input",t[29]),G(r,"input",t[30]),G(u,"input",t[31]),G(d,"input",t[32]),G(y,"click",t[19]),G(w,"click",t[18])],M=!0)},p(P,O){if(O[0]&512&&i.value!==P[9]&&ge(i,P[9]),(!H||O[0]&8192)&&we(n,"background-color",P[13]),O[0]&1024&&ge(r,P[10]),O[0]&2048&&ge(u,P[11]),O[0]&4096&&ge(d,P[12]),O[0]&8192){R=We(xt);let V;for(V=0;V<R.length;V+=1){const j=vs(P,R,V);k[V]?k[V].p(j,O):(k[V]=Es(j),k[V].c(),k[V].m(v,null))}for(;V<k.length;V+=1)k[V].d(1);k.length=R.length}(!H||O[0]&1536&&S!==(S=!P[9].trim()||!P[10]))&&(y.disabled=S)},i(P){H||(D(E.$$.fragment,P),D(T.$$.fragment,P),H=!0)},o(P){W(E.$$.fragment,P),W(T.$$.fragment,P),H=!1},d(P){P&&B(e),Jn(k,P),x(E),x(T),M=!1,He(I)}}}function Cs(t){let e,n,i,o=t[36].hora+"",l,s;return n=new gc({props:{size:16}}),{c(){e=z("span"),$(n.$$.fragment),i=L(),l=pe(o),g(e,"class","info-item svelte-1cax0w8")},m(r,a){Y(r,e,a),Q(n,e,null),_(e,i),_(e,l),s=!0},p(r,a){(!s||a[0]&1)&&o!==(o=r[36].hora+"")&&Oe(l,o)},i(r){s||(D(n.$$.fragment,r),s=!0)},o(r){W(n.$$.fragment,r),s=!1},d(r){r&&B(e),x(n)}}}function zs(t){let e,n=t[36].descricao+"",i;return{c(){e=z("p"),i=pe(n),g(e,"class","evento-descricao svelte-1cax0w8")},m(o,l){Y(o,e,l),_(e,i)},p(o,l){l[0]&1&&n!==(n=o[36].descricao+"")&&Oe(i,n)},d(o){o&&B(e)}}}function Es(t){let e,n,i;function o(){return t[33](t[39])}return{c(){e=z("button"),g(e,"class","color-btn svelte-1cax0w8"),we(e,"background-color",t[39].cor),g(e,"title",t[39].nome),ae(e,"selected",t[13]===t[39].cor)},m(l,s){Y(l,e,s),n||(i=G(e,"click",o),n=!0)},p(l,s){t=l,s[0]&8192&&ae(e,"selected",t[13]===t[39].cor)},d(l){l&&B(e),n=!1,i()}}}function Ns(t,e){let n,i,o,l,s;const r=[Jp,Up],a=[];function u(f,d){var c;return((c=f[3])==null?void 0:c.id)===f[36].id?0:1}return i=u(e),o=a[i]=r[i](e),{key:t,first:null,c(){n=Ye(),o.c(),l=Ye(),this.first=n},m(f,d){Y(f,n,d),a[i].m(f,d),Y(f,l,d),s=!0},p(f,d){e=f;let c=i;i=u(e),i===c?a[i].p(e,d):(Pe(),W(a[c],1,1,()=>{a[c]=null}),Ae(),o=a[i],o?o.p(e,d):(o=a[i]=r[i](e),o.c()),D(o,1),o.m(l.parentNode,l))},i(f){s||(D(o),s=!0)},o(f){W(o),s=!1},d(f){f&&(B(n),B(l)),a[i].d(f)}}}function Qp(t){let e,n,i,o,l,s,r,a,u,f,d,c,h,m,p,v,b,C,y,E,S;l=new Ro({props:{size:28}});let N=!t[2]&&ws(t),w=t[2]&&ks(t);const T=[Gp,Zp],A=[];function H(M,I){return M[0].length===0&&!M[2]?0:1}return y=H(t),E=A[y]=T[y](t),{c(){e=z("div"),n=z("div"),i=z("div"),o=z("div"),$(l.$$.fragment),s=L(),r=z("h1"),r.textContent="CalendÃ¡rio de Eventos",a=L(),u=z("div"),f=z("span"),d=L(),c=z("span"),h=pe(t[1]),m=L(),p=z("div"),N&&N.c(),v=L(),w&&w.c(),b=L(),C=z("div"),E.c(),g(o,"class","header-icon svelte-1cax0w8"),g(r,"class","svelte-1cax0w8"),g(i,"class","header-title svelte-1cax0w8"),g(f,"class","pulse svelte-1cax0w8"),ae(f,"saving",t[1]==="Salvando..."),g(u,"class","auto-save-indicator svelte-1cax0w8"),g(n,"class","module-header svelte-1cax0w8"),g(C,"class","eventos-list svelte-1cax0w8"),g(p,"class","calendario-container svelte-1cax0w8"),g(e,"class","calendario-module svelte-1cax0w8")},m(M,I){Y(M,e,I),_(e,n),_(n,i),_(i,o),Q(l,o,null),_(i,s),_(i,r),_(n,a),_(n,u),_(u,f),_(u,d),_(u,c),_(c,h),_(e,m),_(e,p),N&&N.m(p,null),_(p,v),w&&w.m(p,null),_(p,b),_(p,C),A[y].m(C,null),S=!0},p(M,I){(!S||I[0]&2)&&ae(f,"saving",M[1]==="Salvando..."),(!S||I[0]&2)&&Oe(h,M[1]),M[2]?N&&(Pe(),W(N,1,1,()=>{N=null}),Ae()):N?(N.p(M,I),I[0]&4&&D(N,1)):(N=ws(M),N.c(),D(N,1),N.m(p,v)),M[2]?w?w.p(M,I):(w=ks(M),w.c(),w.m(p,b)):w&&(w.d(1),w=null);let R=y;y=H(M),y===R?A[y].p(M,I):(Pe(),W(A[R],1,1,()=>{A[R]=null}),Ae(),E=A[y],E?E.p(M,I):(E=A[y]=T[y](M),E.c()),D(E,1),E.m(C,null))},i(M){S||(D(l.$$.fragment,M),D(N),D(E),S=!0)},o(M){W(l.$$.fragment,M),W(N),W(E),S=!1},d(M){M&&B(e),x(l),N&&N.d(),w&&w.d(),A[y].d()}}}function Ms(t){if(!t)return"";const[e,n,i]=t.split("-");return`${i}/${n}/${e}`}function xp(t,e,n){let i;const o=ye([]);re(t,o,U=>n(0,i=U));let l=!0,s="Pronto",r=!1,a=null,u="",f="",d="",c="",h=xt[0].cor,m="",p="",v="",b="",C="";Ct(async()=>{const U=await oo();o.set(U),n(21,l=!1)});async function y(){if(!u.trim()||!f)return;const U={id:`evento_${Date.now()}`,titulo:u.trim(),data:f,hora:d,descricao:c.trim(),cor:h,createdAt:new Date().toISOString()};await Fp(U),o.update(J=>[...J,U]),n(4,u=""),n(5,f=""),n(6,d=""),n(7,c=""),n(8,h=xt[0].cor),n(2,r=!1)}async function E(U){confirm("Deseja remover este evento?")&&(await qp(U.id),o.update(J=>J.filter(ue=>ue.id!==U.id)))}function S(U){n(3,a=U),n(9,m=U.titulo),n(10,p=U.data),n(11,v=U.hora),n(12,b=U.descricao),n(13,C=U.cor)}function N(){n(3,a=null),n(9,m=""),n(10,p=""),n(11,v=""),n(12,b=""),n(13,C="")}async function w(){if(!a||!m.trim()||!p)return;const U={...a,titulo:m.trim(),data:p,hora:v,descricao:b.trim(),cor:C};await Kp(U),o.update(J=>J.map(ue=>ue.id===U.id?U:ue)),n(3,a=null)}function T(){n(2,r=!1),n(4,u=""),n(5,f=""),n(6,d=""),n(7,c=""),n(8,h=xt[0].cor)}let A=null;const H=()=>n(2,r=!0);function M(){u=this.value,n(4,u)}function I(){f=this.value,n(5,f)}function R(){d=this.value,n(6,d)}function k(){c=this.value,n(7,c)}const P=U=>n(8,h=U.cor);function O(){m=this.value,n(9,m)}function V(){p=this.value,n(10,p)}function j(){v=this.value,n(11,v)}function X(){b=this.value,n(12,b)}const ee=U=>n(13,C=U.cor),q=U=>S(U),te=U=>E(U);return t.$$.update=()=>{t.$$.dirty[0]&6291457&&!l&&i&&(n(1,s="Salvando..."),A&&clearTimeout(A),n(22,A=setTimeout(async()=>{await io(i),n(1,s="Salvo!"),setTimeout(()=>n(1,s="Pronto"),2e3)},1e3)))},[i,s,r,a,u,f,d,c,h,m,p,v,b,C,o,y,E,S,N,w,T,l,A,H,M,I,R,k,P,O,V,j,X,ee,q,te]}class $p extends de{constructor(e){super(),fe(this,e,xp,Qp,ce,{},null,[-1,-1])}}function eb(t){return window.go.handlers.ObjetivosHandler.AdicionarObjetivo(t)}function tb(t){return window.go.handlers.ObjetivosHandler.AtualizarObjetivo(t)}function lo(){return window.go.handlers.ObjetivosHandler.CarregarObjetivos()}function nb(t){return window.go.handlers.ObjetivosHandler.DeletarObjetivo(t)}function ib(t){return window.go.handlers.ObjetivosHandler.SalvarObjetivos(t)}function Ps(t){return{id:(t==null?void 0:t.id)||"",titulo:(t==null?void 0:t.titulo)||"",prazo:(t==null?void 0:t.prazo)||"",progresso:typeof(t==null?void 0:t.progresso)=="number"?t.progresso:0,concluido:!!(t!=null&&t.concluido),createdAt:(t==null?void 0:t.createdAt)||new Date().toISOString()}}let ln=!1;function ob(){typeof window<"u"&&window.go&&window.go.handlers&&window.go.handlers.ObjetivosHandler?ln=!0:ln=!1}ob();async function ro(){if(ln)try{const e=await lo(),n=Array.isArray(e)?e.map(Ps):[];return localStorage.setItem("objetivos_data",JSON.stringify(n)),n}catch(e){console.error("Erro ao carregar objetivos do Wails:",e)}const t=localStorage.getItem("objetivos_data");if(t)try{const e=JSON.parse(t);return Array.isArray(e)?e.map(Ps):[]}catch{return[]}return[]}async function so(t){if(localStorage.setItem("objetivos_data",JSON.stringify(t)),ln)try{await ib(t)}catch(e){console.error("Erro ao salvar objetivos no Wails:",e)}}async function lb(t){if(ln)try{await eb(t);const n=await lo();localStorage.setItem("objetivos_data",JSON.stringify(n));return}catch(n){console.error("Erro ao adicionar objetivo no Wails:",n)}const e=await ro();e.push(t),await so(e)}async function rb(t){if(ln)try{await nb(t);const n=await lo();localStorage.setItem("objetivos_data",JSON.stringify(n));return}catch(n){console.error("Erro ao deletar objetivo no Wails:",n)}const e=await ro();await so(e.filter(n=>n.id!==t))}async function So(t){if(ln)try{await tb(t);const i=await lo();localStorage.setItem("objetivos_data",JSON.stringify(i));return}catch(i){console.error("Erro ao atualizar objetivo no Wails:",i)}const e=await ro(),n=e.findIndex(i=>i.id===t.id);n!==-1&&(e[n]=t),await so(e)}function As(t,e,n){const i=t.slice();return i[34]=e[n],i}function Os(t){let e,n,i,o,l,s,r,a,u,f,d,c,h,m,p,v,b,C;return{c(){e=z("div"),n=z("h3"),n.textContent="Novo Objetivo",i=L(),o=z("input"),l=L(),s=z("div"),r=z("label"),r.textContent="Prazo:",a=L(),u=z("input"),f=L(),d=z("div"),c=z("button"),c.textContent="Cancelar",h=L(),m=z("button"),p=pe("Adicionar"),g(n,"class","svelte-2c3gfh"),g(o,"type","text"),g(o,"placeholder","TÃ­tulo do objetivo..."),g(o,"class","input-field svelte-2c3gfh"),g(r,"class","form-label svelte-2c3gfh"),g(u,"type","date"),g(u,"class","input-field input-date svelte-2c3gfh"),g(s,"class","form-row svelte-2c3gfh"),g(c,"class","btn btn-secondary svelte-2c3gfh"),g(m,"class","btn btn-primary svelte-2c3gfh"),m.disabled=v=!t[2].trim(),g(d,"class","form-actions svelte-2c3gfh"),g(e,"class","add-form-card svelte-2c3gfh")},m(y,E){Y(y,e,E),_(e,n),_(e,i),_(e,o),ge(o,t[2]),_(e,l),_(e,s),_(s,r),_(s,a),_(s,u),ge(u,t[3]),_(e,f),_(e,d),_(d,c),_(d,h),_(d,m),_(m,p),b||(C=[G(o,"input",t[20]),G(u,"input",t[21]),G(c,"click",t[16]),G(m,"click",t[9])],b=!0)},p(y,E){E[0]&4&&o.value!==y[2]&&ge(o,y[2]),E[0]&8&&ge(u,y[3]),E[0]&4&&v!==(v=!y[2].trim())&&(m.disabled=v)},d(y){y&&B(e),b=!1,He(C)}}}function Ts(t){let e,n,i,o,l,s,r;return n=new jo({props:{size:48}}),{c(){e=z("div"),$(n.$$.fragment),i=L(),o=z("p"),o.textContent="Nenhum objetivo ainda.",l=L(),s=z("p"),s.textContent='Clique em "Adicionar Objetivo" para comeÃ§ar!',g(o,"class","svelte-2c3gfh"),g(s,"class","empty-sub svelte-2c3gfh"),g(e,"class","empty-state svelte-2c3gfh")},m(a,u){Y(a,e,u),Q(n,e,null),_(e,i),_(e,o),_(e,l),_(e,s),r=!0},i(a){r||(D(n.$$.fragment,a),r=!0)},o(a){W(n.$$.fragment,a),r=!1},d(a){a&&B(e),x(n)}}}function Hs(t){let e,n,i=t[34].prazo+"",o;return{c(){e=z("span"),n=pe("â° Prazo: "),o=pe(i),g(e,"class","card-prazo svelte-2c3gfh")},m(l,s){Y(l,e,s),_(e,n),_(e,o)},p(l,s){s[0]&128&&i!==(i=l[34].prazo+"")&&Oe(o,i)},d(l){l&&B(e)}}}function Ds(t,e){let n,i,o,l,s=e[34].titulo+"",r,a,u,f,d,c,h,m,p,v,b,C,y,E,S,N=Math.round(e[34].progresso)+"",w,T,A,H,M,I,R,k,P,O,V,j,X,ee,q,te,U,J,ue=e[34].concluido?"ConcluÃ­do!":"Concluir",me,le,ve,ne,be,oe,_e=e[34].prazo&&Hs(e);c=new sn({props:{size:15}});function Ie(){return e[22](e[34])}p=new an({props:{size:15}});function K(){return e[23](e[34])}function Ee(){return e[24](e[34])}function Te(){return e[25](e[34])}U=new rn({props:{size:15}});function Le(){return e[26](e[34])}return{key:t,first:null,c(){n=z("div"),i=z("div"),o=z("div"),l=z("h3"),r=pe(s),a=L(),_e&&_e.c(),u=L(),f=z("div"),d=z("button"),$(c.$$.fragment),h=L(),m=z("button"),$(p.$$.fragment),v=L(),b=z("div"),C=z("div"),y=z("span"),y.textContent="Progresso",E=L(),S=z("span"),w=pe(N),T=pe("%"),A=L(),H=z("div"),M=z("div"),I=L(),R=z("div"),k=z("button"),P=pe("-10%"),V=L(),j=z("button"),X=pe("+10%"),q=L(),te=z("button"),$(U.$$.fragment),J=L(),me=pe(ue),ve=L(),g(l,"class","card-titulo svelte-2c3gfh"),g(o,"class","card-title-area svelte-2c3gfh"),g(d,"class","btn-edit svelte-2c3gfh"),g(d,"title","Editar objetivo"),g(m,"class","btn-delete svelte-2c3gfh"),g(m,"title","Remover objetivo"),g(f,"class","card-btns svelte-2c3gfh"),g(i,"class","card-header svelte-2c3gfh"),g(y,"class","svelte-2c3gfh"),g(S,"class","progresso-valor svelte-2c3gfh"),g(C,"class","progresso-label svelte-2c3gfh"),g(M,"class","progresso-bar-fill svelte-2c3gfh"),we(M,"width",e[34].progresso+"%"),g(H,"class","progresso-bar-bg svelte-2c3gfh"),g(b,"class","progresso-section svelte-2c3gfh"),g(k,"class","btn-menos svelte-2c3gfh"),k.disabled=O=e[34].concluido||e[34].progresso<=0,g(k,"title","Diminuir 10%"),g(j,"class","btn-mais svelte-2c3gfh"),j.disabled=ee=e[34].concluido||e[34].progresso>=100,g(j,"title","Aumentar 10%"),g(te,"class","btn-concluir svelte-2c3gfh"),te.disabled=le=e[34].concluido,g(te,"title","Marcar como concluÃ­do"),g(R,"class","card-actions svelte-2c3gfh"),g(n,"class","objetivo-card svelte-2c3gfh"),ae(n,"concluido",e[34].concluido),this.first=n},m(Ce,Ke){Y(Ce,n,Ke),_(n,i),_(i,o),_(o,l),_(l,r),_(o,a),_e&&_e.m(o,null),_(i,u),_(i,f),_(f,d),Q(c,d,null),_(f,h),_(f,m),Q(p,m,null),_(n,v),_(n,b),_(b,C),_(C,y),_(C,E),_(C,S),_(S,w),_(S,T),_(b,A),_(b,H),_(H,M),_(n,I),_(n,R),_(R,k),_(k,P),_(R,V),_(R,j),_(j,X),_(R,q),_(R,te),Q(U,te,null),_(te,J),_(te,me),_(n,ve),ne=!0,be||(oe=[G(d,"click",Ie),G(m,"click",K),G(k,"click",Ee),G(j,"click",Te),G(te,"click",Le)],be=!0)},p(Ce,Ke){e=Ce,(!ne||Ke[0]&128)&&s!==(s=e[34].titulo+"")&&Oe(r,s),e[34].prazo?_e?_e.p(e,Ke):(_e=Hs(e),_e.c(),_e.m(o,null)):_e&&(_e.d(1),_e=null),(!ne||Ke[0]&128)&&N!==(N=Math.round(e[34].progresso)+"")&&Oe(w,N),(!ne||Ke[0]&128)&&we(M,"width",e[34].progresso+"%"),(!ne||Ke[0]&128&&O!==(O=e[34].concluido||e[34].progresso<=0))&&(k.disabled=O),(!ne||Ke[0]&128&&ee!==(ee=e[34].concluido||e[34].progresso>=100))&&(j.disabled=ee),(!ne||Ke[0]&128)&&ue!==(ue=e[34].concluido?"ConcluÃ­do!":"Concluir")&&Oe(me,ue),(!ne||Ke[0]&128&&le!==(le=e[34].concluido))&&(te.disabled=le),(!ne||Ke[0]&128)&&ae(n,"concluido",e[34].concluido)},i(Ce){ne||(D(c.$$.fragment,Ce),D(p.$$.fragment,Ce),D(U.$$.fragment,Ce),ne=!0)},o(Ce){W(c.$$.fragment,Ce),W(p.$$.fragment,Ce),W(U.$$.fragment,Ce),ne=!1},d(Ce){Ce&&B(n),_e&&_e.d(),x(c),x(p),x(U),be=!1,He(oe)}}}function Is(t){let e,n,i,o,l,s,r,a,u,f,d,c,h,m,p,v,b,C,y;return{c(){e=z("div"),n=z("div"),i=z("h3"),i.textContent="Editar Objetivo",o=L(),l=z("input"),s=L(),r=z("div"),a=z("label"),a.textContent="Prazo:",u=L(),f=z("input"),d=L(),c=z("div"),h=z("button"),h.textContent="Cancelar",m=L(),p=z("button"),v=pe("Salvar"),g(i,"class","svelte-2c3gfh"),g(l,"type","text"),g(l,"placeholder","TÃ­tulo do objetivo..."),g(l,"class","input-field svelte-2c3gfh"),g(a,"class","form-label svelte-2c3gfh"),g(f,"type","date"),g(f,"class","input-field input-date svelte-2c3gfh"),g(r,"class","form-row svelte-2c3gfh"),g(h,"class","btn btn-secondary svelte-2c3gfh"),g(p,"class","btn btn-primary svelte-2c3gfh"),p.disabled=b=!t[5].trim(),g(c,"class","form-actions svelte-2c3gfh"),g(n,"class","modal-content svelte-2c3gfh"),g(n,"role","document"),g(e,"class","modal-overlay svelte-2c3gfh"),g(e,"role","dialog"),g(e,"aria-modal","true"),g(e,"aria-label","Editar objetivo"),g(e,"tabindex","0")},m(E,S){Y(E,e,S),_(e,n),_(n,i),_(n,o),_(n,l),ge(l,t[5]),_(n,s),_(n,r),_(r,a),_(r,u),_(r,f),ge(f,t[6]),_(n,d),_(n,c),_(c,h),_(c,m),_(c,p),_(p,v),C||(y=[G(l,"input",t[27]),G(f,"input",t[28]),G(h,"click",t[14]),G(p,"click",t[15]),G(n,"click",kn(t[17])),G(n,"keydown",kn(t[18])),G(e,"click",t[14]),G(e,"keydown",t[29])],C=!0)},p(E,S){S[0]&32&&l.value!==E[5]&&ge(l,E[5]),S[0]&64&&ge(f,E[6]),S[0]&32&&b!==(b=!E[5].trim())&&(p.disabled=b)},d(E){E&&B(e),C=!1,He(y)}}}function sb(t){let e,n,i,o,l,s,r,a,u,f,d,c,h,m,p,v,b,C,y,E,S,N,w=[],T=new Map,A,H,M,I;l=new jo({props:{size:28}}),b=new Yt({props:{size:18}});let R=t[1]&&Os(t),k=t[7].length===0&&!t[1]&&Ts(),P=We(t[7]);const O=j=>j[34].id;for(let j=0;j<P.length;j+=1){let X=As(t,P,j),ee=O(X);T.set(ee,w[j]=Ds(ee,X))}let V=t[4]&&Is(t);return{c(){e=z("div"),n=z("div"),i=z("div"),o=z("div"),$(l.$$.fragment),s=L(),r=z("h1"),r.textContent="Objetivos - ConclusÃ£o",a=L(),u=z("div"),f=z("span"),d=L(),c=z("span"),h=pe(t[0]),m=L(),p=z("div"),v=z("button"),$(b.$$.fragment),C=L(),y=z("span"),y.textContent="Adicionar Objetivo",E=L(),R&&R.c(),S=L(),k&&k.c(),N=L();for(let j=0;j<w.length;j+=1)w[j].c();A=L(),V&&V.c(),g(o,"class","header-icon svelte-2c3gfh"),g(r,"class","svelte-2c3gfh"),g(i,"class","header-title svelte-2c3gfh"),g(f,"class","pulse svelte-2c3gfh"),ae(f,"saving",t[0]==="Salvando..."),g(u,"class","auto-save-indicator svelte-2c3gfh"),g(n,"class","module-header svelte-2c3gfh"),g(v,"class","btn-add-objetivo svelte-2c3gfh"),g(p,"class","content-area svelte-2c3gfh"),g(e,"class","objetivos-module svelte-2c3gfh")},m(j,X){Y(j,e,X),_(e,n),_(n,i),_(i,o),Q(l,o,null),_(i,s),_(i,r),_(n,a),_(n,u),_(u,f),_(u,d),_(u,c),_(c,h),_(e,m),_(e,p),_(p,v),Q(b,v,null),_(v,C),_(v,y),_(p,E),R&&R.m(p,null),_(p,S),k&&k.m(p,null),_(p,N);for(let ee=0;ee<w.length;ee+=1)w[ee]&&w[ee].m(p,null);_(e,A),V&&V.m(e,null),H=!0,M||(I=G(v,"click",t[19]),M=!0)},p(j,X){(!H||X[0]&1)&&ae(f,"saving",j[0]==="Salvando..."),(!H||X[0]&1)&&Oe(h,j[0]),j[1]?R?R.p(j,X):(R=Os(j),R.c(),R.m(p,S)):R&&(R.d(1),R=null),j[7].length===0&&!j[1]?k?X[0]&130&&D(k,1):(k=Ts(),k.c(),D(k,1),k.m(p,N)):k&&(Pe(),W(k,1,1,()=>{k=null}),Ae()),X[0]&15488&&(P=We(j[7]),Pe(),w=ht(w,X,O,1,j,P,T,p,dt,Ds,null,As),Ae()),j[4]?V?V.p(j,X):(V=Is(j),V.c(),V.m(e,null)):V&&(V.d(1),V=null)},i(j){if(!H){D(l.$$.fragment,j),D(b.$$.fragment,j),D(k);for(let X=0;X<P.length;X+=1)D(w[X]);H=!0}},o(j){W(l.$$.fragment,j),W(b.$$.fragment,j),W(k);for(let X=0;X<w.length;X+=1)W(w[X]);H=!1},d(j){j&&B(e),x(l),x(b),R&&R.d(),k&&k.d();for(let X=0;X<w.length;X+=1)w[X].d();V&&V.d(),M=!1,I()}}}function Ws(t){if(!t)return"";const[e,n,i]=t.split("-");return`${i}/${n}/${e}`}function ab(t){if(!t)return"";const e=t.split("/");return e.length===3?`${e[2]}-${e[1]}-${e[0]}`:""}function ub(t,e,n){let i;const o=ye([]);re(t,o,q=>n(7,i=q));let l=!0,s="Pronto",r=!1,a="",u="",f=null,d="",c="";Ct(async()=>{const q=await ro();o.set(q),l=!1});async function h(){if(!a.trim())return;const q={id:`obj_${Date.now()}`,titulo:a.trim(),prazo:u?Ws(u):"",progresso:0,concluido:!1,createdAt:new Date().toISOString()};await lb(q),o.update(te=>[...te,q]),n(2,a=""),n(3,u=""),n(1,r=!1)}async function m(q){confirm("Deseja remover este objetivo?")&&(await rb(q),o.update(te=>te.filter(U=>U.id!==q)))}async function p(q,te){const U=Math.min(100,Math.max(0,q.progresso+te)),J={...q,progresso:U};await So(J),o.update(ue=>ue.map(me=>me.id===q.id?J:me))}async function v(q){const te={...q,progresso:100,concluido:!0};await So(te),o.update(U=>U.map(J=>J.id===q.id?te:J))}function b(q){n(4,f=q),n(5,d=q.titulo),n(6,c=ab(q.prazo))}function C(){n(4,f=null),n(5,d=""),n(6,c="")}async function y(){if(!f||!d.trim())return;const q={...f,titulo:d.trim(),prazo:c?Ws(c):""};await So(q),o.update(te=>te.map(U=>U.id===q.id?q:U)),C()}function E(){n(1,r=!1),n(2,a=""),n(3,u="")}let S=null,N="";const w=o.subscribe(q=>{l||JSON.stringify(q)!==N&&(n(0,s="Salvando..."),S&&clearTimeout(S),S=setTimeout(async()=>{await so(q),N=JSON.stringify(q),n(0,s="Salvo!"),setTimeout(()=>n(0,s="Pronto"),2e3)},1e3))});Bi(()=>{w(),S&&clearTimeout(S)});function T(q){De.call(this,t,q)}function A(q){De.call(this,t,q)}const H=()=>n(1,r=!0);function M(){a=this.value,n(2,a)}function I(){u=this.value,n(3,u)}const R=q=>b(q),k=q=>m(q.id),P=q=>p(q,-10),O=q=>p(q,10),V=q=>v(q);function j(){d=this.value,n(5,d)}function X(){c=this.value,n(6,c)}return[s,r,a,u,f,d,c,i,o,h,m,p,v,b,C,y,E,T,A,H,M,I,R,k,P,O,V,j,X,q=>q.key==="Escape"&&C()]}class cb extends de{constructor(e){super(),fe(this,e,ub,sb,ce,{},null,[-1,-1])}}function fb(t){let e;return{c(){e=z("div"),e.innerHTML='<div class="welcome-content svelte-1qicdag"><h1 class="svelte-1qicdag">Organizador TDAH Pro</h1> <p class="svelte-1qicdag">Selecione um mÃ³dulo para comeÃ§ar</p></div>',g(e,"class","welcome-screen svelte-1qicdag")},m(n,i){Y(n,e,i)},i:Se,o:Se,d(n){n&&B(e)}}}function db(t){let e,n;return e=new cb({}),{c(){$(e.$$.fragment)},m(i,o){Q(e,i,o),n=!0},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function hb(t){let e,n;return e=new $p({}),{c(){$(e.$$.fragment)},m(i,o){Q(e,i,o),n=!0},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function gb(t){let e,n;return e=new Lp({}),{c(){$(e.$$.fragment)},m(i,o){Q(e,i,o),n=!0},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function mb(t){let e,n;return e=new pp({}),{c(){$(e.$$.fragment)},m(i,o){Q(e,i,o),n=!0},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function _b(t){let e,n;return e=new ip({}),{c(){$(e.$$.fragment)},m(i,o){Q(e,i,o),n=!0},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function pb(t){let e,n;return e=new j2({}),{c(){$(e.$$.fragment)},m(i,o){Q(e,i,o),n=!0},i(i){n||(D(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function bb(t){let e,n,i,o,l,s,r;n=new ff({props:{moduloAtivo:t[0]}}),n.$on("selecionar",t[1]);const a=[pb,_b,mb,gb,hb,db,fb],u=[];function f(d,c){return d[0]==="ideias"?0:d[0]==="links"?1:d[0]==="planejamento"?2:d[0]==="objetivo-passos"?3:d[0]==="calendario"?4:d[0]==="objetivos"?5:6}return l=f(t),s=u[l]=a[l](t),{c(){e=z("div"),$(n.$$.fragment),i=L(),o=z("main"),s.c(),g(o,"class","main-content svelte-1qicdag"),g(e,"class","app-container svelte-1qicdag")},m(d,c){Y(d,e,c),Q(n,e,null),_(e,i),_(e,o),u[l].m(o,null),r=!0},p(d,[c]){const h={};c&1&&(h.moduloAtivo=d[0]),n.$set(h);let m=l;l=f(d),l!==m&&(Pe(),W(u[m],1,1,()=>{u[m]=null}),Ae(),s=u[l],s||(s=u[l]=a[l](d),s.c()),D(s,1),s.m(o,null))},i(d){r||(D(n.$$.fragment,d),D(s),r=!0)},o(d){W(n.$$.fragment,d),W(s),r=!1},d(d){d&&B(e),x(n),u[l].d()}}}function vb(t,e,n){let i="ideias";function o(l){n(0,i=l.detail)}return[i,o]}class yb extends de{constructor(e){super(),fe(this,e,vb,bb,ce,{})}}new yb({target:document.getElementById("app")});
